<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>vue2</title>
      <link href="/2024/04/09/vue2/"/>
      <url>/2024/04/09/vue2/</url>
      
        <content type="html"><![CDATA[<h1 id="1-Vue核心"><a href="#1-Vue核心" class="headerlink" title="1.Vue核心"></a>1.Vue核心</h1><h2 id="1-1-Vue简介"><a href="#1-1-Vue简介" class="headerlink" title="1.1 Vue简介"></a>1.1 Vue简介</h2><p>vue是一套用于构建用户界面的渐进式JavaScript框架</p><p>vue的特点：</p><ol><li><p>采用组件化模式，提高代码复用率，且让代码更好维护</p></li><li><p>声明式编码，让编码人员无需直接操作DOM，提高开发效率</p></li><li><p>使用虚拟DOM+优秀Diff算法，尽量复用DOM节点</p></li><li><p>学习vue之前要掌握的Javascript基础知识：</p><ul><li>ES6语法模块</li><li>ES6模块化</li><li>包管理器</li><li>原型、原型链</li><li>数组常用方法</li><li>axios</li><li>promise</li></ul></li></ol><p><img src="/2024/04/09/vue2/04/09/vue2/image-20230315095528931.jpg" alt="image-20230315095528931"></p><h2 id="1-2-初识Vue"><a href="#1-2-初识Vue" class="headerlink" title="1.2 初识Vue"></a>1.2 初识Vue</h2><p><img src="/2024/04/09/vue2/04/09/vue2/image-20230906110431461.jpg" alt="image-20230906110431461"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>初识Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// Vue.config.productionTip=false//阻止vue在启动时生成生产提示</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//创建Vue实例</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,<span class="comment">//el用于指定当前Vue实例为哪个容器服务，值通常为css选择器字符串</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>:&#123; <span class="comment">//data中用于存储数据，数据提供el所指定的容器去使用，值暂时先写成一个对象</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-3模板语法"><a href="#1-3模板语法" class="headerlink" title="1.3模板语法"></a>1.3模板语法</h2><h3 id="1-3-1-插值语法"><a href="#1-3-1-插值语法" class="headerlink" title="1.3.1 插值语法"></a>1.3.1 插值语法</h3><h3 id="1-3-2-指令语法v-bind"><a href="#1-3-2-指令语法v-bind" class="headerlink" title="1.3.2 指令语法v-bind:"></a>1.3.2 指令语法v-bind:</h3><p>用于标签中</p><p><strong>Vue模板语法有2大类:</strong></p><ol><li><p><strong>1.插值语法:</strong></p><p>**功能:**用于解析标签体内容。</p><p><strong>写法:</strong>，xxx是js表达式，且可以直接读取到data中的所有属性。</p></li><li><p><strong>2.指令语法:</strong></p><p>**功能:**用于解析标签(包括:标签属性、标签体内容、绑定事件…..)。</p><p>**举例:**v-bind:href&#x3D;”xxx”或 简写为:href&#x3D;”xxx”，xxx同样要写js表达式，且可以直接读取到data中的所有属性。</p></li></ol><p>**备注:**Vue中有很多的指令，且形式都是:v-????，此处我们只是拿v-bind举个例子。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>模板语法<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>插值语法<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>你好，&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>指令语法<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;school.url&quot;</span> <span class="attr">:x</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>点我去&#123;&#123;school.name&#125;&#125;学习1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;school.url&quot;</span> <span class="attr">:x</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>点我去&#123;&#123;school.name&#125;&#125;学习2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">school</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>:<span class="string">&#x27;http://www.atguigu.com&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">hello</span>:<span class="string">&#x27;你好&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-3-3-数据绑定"><a href="#1-3-3-数据绑定" class="headerlink" title="1.3.3 数据绑定"></a>1.3.3 数据绑定</h3><p><strong>Vue中有2种数据绑定的方式:</strong></p><ol><li>**单向绑定(v-bind):**数据只能从data流向页面。</li><li>**双向绑定(v-model):**数据不仅能从data流向页面，还可以从页面流向data。</li></ol><p><strong>备注:</strong></p><ul><li>双向绑定一般都应用在表单类元素上(如:input、select等)</li><li>v-model:value 可以简写为v-model，因为v-mode1默认收集的就是value值。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>数据绑定<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 普通写法 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 单向数据绑定：&lt;input type=&quot;text&quot; :value=&quot;name&quot;&gt;</span></span><br><span class="line"><span class="comment">        &lt;br&gt;</span></span><br><span class="line"><span class="comment">        双向数据绑定：&lt;input type=&quot;text&quot; v-model:value=&quot;name&quot;&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 简写 --&gt;</span></span><br><span class="line">        单向数据绑定：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        双向数据绑定：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 如下代码是错误的，因为v-model只能应用于表单类元素（输入类元素）上 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;h2 v-model:x=&quot;name&quot;&gt;你好啊&lt;/h2&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-3-4-el和data的两种写法"><a href="#1-3-4-el和data的两种写法" class="headerlink" title="1.3.4 el和data的两种写法"></a>1.3.4 el和data的两种写法</h3><p><strong>data与el的2种写法</strong></p><ol><li><p>el有2种写法</p><p>(1).newVue时候配置el属性。</p><p>(2).先创建Vue实例，随后再通过<code>vm.$mount(&#39;#root&#39;)</code>指定el的值。</p></li><li><p>data有2种写法</p><p>(1).对象式(2).函数式</p><p>如何选择:目前哪种写法都可以，以后学习到组件时，data必须使用函数式，否则会报错。</p></li><li><p>一个重要的原则:</p><p>由Vue管理的函数，一定不要写箭头雨数，一旦写了箭头函数，this就不再是Vue实例了。</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>el和data的两种写法<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>你好啊，&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// el的两种写法</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// const v = new Vue(&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     //el:&#x27;#root&#x27;,</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     data:&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//         name:&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// setTimeout(()=&gt;&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     v.$mount(&#x27;#root&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// &#125;,1000);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// //v.$mount(&#x27;#root&#x27;)  el的第二种写法</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// data的两种写法</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// data的第一种写法：对象式</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// data:&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     name:&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// data的第二种写法：函数式</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-4-MVVM模型"><a href="#1-4-MVVM模型" class="headerlink" title="1.4 MVVM模型"></a>1.4 MVVM模型</h2><p>M:模型（Model）：对应data中的数据</p><p>V：视图（View）：模板</p><p>VM：视图模型（View Model）：Vue实例对象</p><p>观察发现：</p><ol><li>data中所有的属性，最后都出现在了vm身上</li><li>vm身上所有的属性及Vue原型上所有的属性，在Vue模板中都可以直接使用</li></ol><p><img src="/2024/04/09/vue2/04/09/vue2/image-20230908173013205.jpg" alt="image-20230908173013205"></p><p><img src="/2024/04/09/vue2/04/09/vue2/image-20230908173203417.jpg" alt="image-20230908173203417"></p><h2 id="1-5-数据代理"><a href="#1-5-数据代理" class="headerlink" title="1.5 数据代理"></a>1.5 数据代理</h2><h3 id="1-5-1-回顾Object-defineproperty"><a href="#1-5-1-回顾Object-defineproperty" class="headerlink" title="1.5.1 回顾Object.defineproperty"></a>1.5.1 回顾Object.defineproperty</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>回顾Object.defineproperty<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> number=<span class="number">18</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> person=&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// age:&#x27;18&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(person,<span class="string">&#x27;age&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// value:18,</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// enumerable:true, //控制属性是否可以枚举,默认值是false</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// writable:true, //控制属性是否可以修改,默认值是false</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// configurable:true, //控制属性是否可以删除,默认值是false</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 当有人读取person的age属性时,get函数(getter)就会被调用,且返回值就是age的值</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">get</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> number</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 当有人修改person的age属性时,set函数(setter)就会被调用,且会收到修改的具体值</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;有人修改了age属性&#x27;</span>,value)</span></span><br><span class="line"><span class="language-javascript">                number=value</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// console.log(Object.keys(person))</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(person)</span></span><br><span class="line"><span class="language-javascript">     </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-5-2-何为数据代理"><a href="#1-5-2-何为数据代理" class="headerlink" title="1.5.2 何为数据代理"></a>1.5.2 何为数据代理</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>何为数据代理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 数据处理：通过一个对象代理对另一个对象中属性的操作（读/写） --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> obj=&#123;<span class="attr">x</span>:<span class="number">100</span>&#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> obj2=&#123;<span class="attr">y</span>:<span class="number">200</span>&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj2,<span class="string">&#x27;x&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">get</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> obj.<span class="property">x</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                obj.<span class="property">x</span>=value</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-5-3-Vue中的数据代理"><a href="#1-5-3-Vue中的数据代理" class="headerlink" title="1.5.3 Vue中的数据代理"></a>1.5.3 Vue中的数据代理</h3><p><img src="/2024/04/09/vue2/04/09/vue2/image-20230917172525738.jpg" alt="image-20230917172525738"></p><ol><li><p>Vue中的数据代理:</p><p>​        通过vm对象来代理data对象中属性的操作(读&#x2F;写)</p></li><li><p>Vue中数据代理的好处:</p><p>​        更加方便的操作data中的数据</p></li><li><p>基本原理:</p><p>​        通过<code>0bject.defineProperty()</code>把data对象中所有属性添加到vm上。为每一个添加到vm上的属性，都指定一个getter&#x2F;setter。在getter&#x2F;setter内部去操作(读&#x2F;写)data中对应的属性。</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue中的数据代理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 准备好一个容器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校名称：&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校地址:&#123;&#123;address&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">address</span>:<span class="string">&#x27;鸿福科技园&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-6-事件处理"><a href="#1-6-事件处理" class="headerlink" title="1.6 事件处理"></a>1.6 事件处理</h2><h3 id="1-6-1-事件的基本使用"><a href="#1-6-1-事件的基本使用" class="headerlink" title="1.6.1 事件的基本使用"></a>1.6.1 事件的基本使用</h3><p>事件的基本使用:</p><ol><li>使用<code>v-on:xxx</code>或 <code>@xxx</code>绑定事件，其中xxx是事件名;</li><li>事件的回调需要配置在<code>methods</code>对象中，最终会在vm上;</li><li>methods中配置的函数，不要用箭头函数!否则this就不是vm了;</li><li>methods中配置的函数，都是被Vue所管理的函数，this的指向是vm或 组件实例对象;</li><li><code>@click=&quot;demo&quot;</code> 和 <code>@click=&quot;demo($event)”</code>效果一致，但后者可以传参;</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>事件的基本使用<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>欢迎来到&#123;&#123;name&#125;&#125;学习<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;showInfo1&quot;</span>&gt;</span>点我提示信息1（不传参）<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo2($event,66)&quot;</span>&gt;</span>点我提示信息2（传参）<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm =<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">showInfo1</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&#x27;同学你好！&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">showInfo2</span>(<span class="params">event,number</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(event,number)</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)<span class="comment">//此处的this是vm</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&#x27;同学你好！！&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-6-2-事件的修饰符"><a href="#1-6-2-事件的修饰符" class="headerlink" title="1.6.2 事件的修饰符"></a>1.6.2 事件的修饰符</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>事件的修饰符<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        *&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.demo1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">164</span>, <span class="number">121</span>, <span class="number">205</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.demo2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">164</span>, <span class="number">121</span>, <span class="number">205</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.demo3</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">154</span>, <span class="number">204</span>, <span class="number">214</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.list</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#8d2929</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        Vue中的事件修饰符:</span></span><br><span class="line"><span class="comment">        1.prevent:阻止默认事件(常用);</span></span><br><span class="line"><span class="comment">        2.stop:阻止事件冒泡(常用);</span></span><br><span class="line"><span class="comment">        3.once:事件只触发一次(常用);</span></span><br><span class="line"><span class="comment">        4.capture:使用事件的捕获模式;</span></span><br><span class="line"><span class="comment">        5.self:只有event.target是当前操作的元素是才触发事件;</span></span><br><span class="line"><span class="comment">        6.passive:事件的默认行为立即执行，无需等待事件回调执行完毕;</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- 准备好一个容器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>欢迎来到&#123;&#123;name&#125;&#125;学习<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 1.prevent:阻止默认事件(常用); --&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.atguigu.com&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 2.stop:阻止事件冒泡(常用) --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo1&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &lt;button @click.stop=&quot;showInfo&quot;&gt;点我提示信息&lt;/button&gt; --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 修饰符可以连续写 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.atguigu.com&quot;</span> @<span class="attr">click.prevent.stop</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">a</span>&gt;</span>    //既阻止冒泡还阻止默认事件发生</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 3.once:事件只触发一次(常用); --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 4.capture:使用事件的捕获模式; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo2&quot;</span> @<span class="attr">click.capture</span>=<span class="string">&quot;showMsg(1)&quot;</span>&gt;</span>div1</span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo3&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;showMsg(2)&quot;</span>&gt;</span>div2</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 5.self:只有event.target是当前操作的元素时才触发事件; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo1&quot;</span> @<span class="attr">click.self</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>//从某种程度上来说，类似于阻止冒泡，点击什么元素触发什么事件</span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>点我提示信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 6.passive:事件的默认行为立即执行，无需等待事件回调执行完毕; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;ul @scroll=&quot;demo&quot; class=&quot;list&quot;&gt; --&gt;</span>//此滚动条不用修饰</span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> @<span class="attr">wheel.passive</span>=<span class="string">&quot;demo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span>//鼠标滚轮动才会触发事件</span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm =<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">showInfo</span>(<span class="params">e</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(&#x27;同学你好！&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">showMsg</span>(<span class="params">msg</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(msg)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">demo</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">10000</span>;i++)</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;#&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;累坏了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-6-3-键盘事件"><a href="#1-6-3-键盘事件" class="headerlink" title="1.6.3 键盘事件"></a>1.6.3 键盘事件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1.Vue中常用的按键别名:</span><br><span class="line">回车=&gt; enter</span><br><span class="line">删除 =&gt; delete(捕获“删除”和“退格”键)</span><br><span class="line">退出 =&gt; esc</span><br><span class="line">空格=&gt; space</span><br><span class="line">换行 =&gt; tab（特殊，必须配合keydown使用）</span><br><span class="line">上=&gt; up</span><br><span class="line">下 =&gt; down</span><br><span class="line">左=&gt;left</span><br><span class="line">右=&gt; right</span><br><span class="line">2.Vue未提供别名的按键，可以使用按键原始的key值去绑定，但注意要转为kebab-case(短横线命名)</span><br><span class="line">3.系统修饰键(用法特殊):ctrl、alt、shift、meta</span><br><span class="line">(1).配合keyup使用:按下修饰键的同时，再按下其他键，随后释放其他键，事件才被触发。(2).配合keydown使用:正常触发事件。</span><br><span class="line">4.也可以使用keyCode去指定具体的按键(不推荐)</span><br><span class="line">5.Vue.config.keyCodes.自定义键名 =键码，可以去定制按键别名</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>键盘事件<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- 引入Vue --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>欢迎来到&#123;&#123;name&#125;&#125;学习<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;按下回车键提示输入&quot;</span> @<span class="attr">keyup.ctrl.y</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>   //同时按下ctrl和y键才能被触发</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">showInfo</span>(<span class="params">e</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">value</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-7-计算属性-computed"><a href="#1-7-计算属性-computed" class="headerlink" title="1.7 计算属性 computed"></a>1.7 计算属性 computed</h2><h3 id="1-7-1-姓名案例-插值语法实现"><a href="#1-7-1-姓名案例-插值语法实现" class="headerlink" title="1.7.1 姓名案例_插值语法实现"></a>1.7.1 姓名案例_插值语法实现</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_插值语法实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 准备好一个容器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名：<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;firstName.slice(0,3)&#125;&#125;-&#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">firstName</span>:<span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">lastName</span>:<span class="string">&#x27;三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-7-2-姓名案例-methods语法实现"><a href="#1-7-2-姓名案例-methods语法实现" class="headerlink" title="1.7.2 姓名案例_methods语法实现"></a>1.7.2 姓名案例_methods语法实现</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_methods实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 准备好一个容器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名：<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName()&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">firstName</span>:<span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">lastName</span>:<span class="string">&#x27;三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">fullName</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-7-3-姓名案例-计算属性实现"><a href="#1-7-3-姓名案例-计算属性实现" class="headerlink" title="1.7.3 姓名案例_计算属性实现"></a>1.7.3 姓名案例_计算属性实现</h3><p>​        计算属性:</p><ol><li><p>定义J要用的属性不存在，要通过已有属性计算得来。</p></li><li><p>原理:底层借助了<code>Objcet.defineproperty</code>方法提供的getter和setter。</p></li><li><p>get函数什么时候执行?</p><p>​ (1)初次读取时会执行一次。</p><pre><code> (2).当依赖的数据发生改变时会被再次调用。</code></pre></li><li><p>优势:与methods实现相比，内部有缓存机制(复用)，效率更高，调试方便。</p></li><li><p>备注:</p><p>​       1.计算属性最终会出现在vm上，直接读取使用即可。</p><p>​        2.如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据发生</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_计算属性实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 准备好一个容器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名：<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">firstName</span>:<span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">lastName</span>:<span class="string">&#x27;三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">fullName</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// get有什么作用？ 当有人读取fullName时，get就会被调用，且返回值就作为fullName的值</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// get什么时候被调用？ 1.初次读取fullName时。 1.所依赖的数据发生变化时</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">get</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get被调用了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 此处的this指的是vm</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span>+<span class="string">&#x27;-&#x27;</span>+<span class="variable language_">this</span>.<span class="property">lastName</span> </span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// set什么时候被调用？ 当fullName被修改时</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">const</span> arr=value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">firstName</span>=arr[<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">lastName</span>=arr[<span class="number">1</span>]</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 简写（只有只考虑读取补考虑修改的时候才能用简写）</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// computed:&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     fullName()&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         console.log(&#x27;get被调用了&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         // 此处的this指的是vm</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         return this.firstName+&#x27;-&#x27;+this.lastName </span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-8-监视属性-watch"><a href="#1-8-监视属性-watch" class="headerlink" title="1.8 监视属性 watch"></a>1.8 监视属性 watch</h2><h3 id="1-8-1-天气案例"><a href="#1-8-1-天气案例" class="headerlink" title="1.8.1 天气案例"></a>1.8.1 天气案例</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>天气案例<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>今天天气很&#123;&#123;Info&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 绑定事件的时候：@xx=&quot;yyy&quot;,yyy可以写一些简单的语句 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;button @click=&quot;isHot=!isHot&quot;&gt;切换天气&lt;/button&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;ChangeWeather&quot;</span>&gt;</span>切换天气<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">isHot</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Info</span>()&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">isHot</span> ? <span class="string">&#x27;炎热&#x27;</span>:<span class="string">&#x27;凉爽&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">ChangeWeather</span>()&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">isHot</span>=!<span class="variable language_">this</span>.<span class="property">isHot</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-8-2-天气案列-监视属性"><a href="#1-8-2-天气案列-监视属性" class="headerlink" title="1.8.2 天气案列 _监视属性"></a>1.8.2 天气案列 _监视属性</h3><p>监视属性watch:</p><ol><li>当被监视的属性变化时，回调函数自动调用，进行相关操作</li><li>监视的属性必须存在，才能进行监视!!</li><li>监视的两种写法:</li></ol><p>​(1).newVue时传入watch配置</p><p>​(2).通过vm.$watch监视</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>天气案列 _监视属性<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>今天天气很&#123;&#123;Info&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 绑定事件的时候：@xx=&quot;yyy&quot;,yyy可以写一些简单的语句 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;button @click=&quot;isHot=!isHot&quot;&gt;切换天气&lt;/button&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;ChangeWeather&quot;</span>&gt;</span>切换天气<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">isHot</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Info</span>()&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">isHot</span> ? <span class="string">&#x27;炎热&#x27;</span>:<span class="string">&#x27;凉爽&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">ChangeWeather</span>()&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">isHot</span>=!<span class="variable language_">this</span>.<span class="property">isHot</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// watch:&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     isHot:&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         immediate:true,//初始化时让handler调用一下</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         // handler什么时候调用？ 当isHot发生改变的时候</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         handler(newValue,oldValue)&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//             console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         &#125;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    vm.$watch(<span class="string">&#x27;isHot&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">immediate</span>:<span class="literal">true</span>,<span class="comment">//初始化时让handler调用一下</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// handler什么时候调用？ 当isHot发生改变的时候</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>,newValue,oldValue)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-8-3-天气案列-深度监视"><a href="#1-8-3-天气案列-深度监视" class="headerlink" title="1.8.3 天气案列 _深度监视"></a>1.8.3 天气案列 _深度监视</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            深度监视:</span></span><br><span class="line"><span class="comment">                (1)Vue中的watch默认不监测对象内部值的改变(一层)。</span></span><br><span class="line"><span class="comment">                (2).配置deep:true可以监测对象内部值改变(多层)。</span></span><br><span class="line"><span class="comment">            备注:</span></span><br><span class="line"><span class="comment">                (1).Vue自身可以监测对象内部值的改变，但Vue提供的watch默认不可以!</span></span><br><span class="line"><span class="comment">                (2).使用watch时根据数据的具体结构，决定是否采用深度监视。</span></span><br><span class="line"><span class="comment">         --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>天气案列 _深度监视<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>今天天气很&#123;&#123;Info&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 绑定事件的时候：@xx=&quot;yyy&quot;,yyy可以写一些简单的语句 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;button @click=&quot;isHot=!isHot&quot;&gt;切换天气&lt;/button&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;ChangeWeather&quot;</span>&gt;</span>切换天气<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>a的值为&#123;&#123;number.a&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;number.a++&quot;</span>&gt;</span>点我a+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>b的值为&#123;&#123;number.b&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;number.b++&quot;</span>&gt;</span>点我b+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">isHot</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">number</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">a</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">b</span>:<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Info</span>()&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">isHot</span> ? <span class="string">&#x27;炎热&#x27;</span>:<span class="string">&#x27;凉爽&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">ChangeWeather</span>()&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">isHot</span>=!<span class="variable language_">this</span>.<span class="property">isHot</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">watch</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">isHot</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// immediate:true,//初始化时让handler调用一下</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// handler什么时候调用？ 当isHot发生改变的时候</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>,newValue,oldValue)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 监视多级结构中某个属性的变化</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#x27;number.a&#x27;:&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     handler()&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         console.log(&#x27;a的值变化了&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 监视多级结构中所有属性的变化</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">number</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">deep</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">handler</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;number的值变化了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// vm.$watch(&#x27;isHot&#x27;,&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     immediate:true,//初始化时让handler调用一下</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     // handler什么时候调用？ 当isHot发生改变的时候</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     handler(newValue,oldValue)&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//         console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-8-4-天气案列-深度监视-简写"><a href="#1-8-4-天气案列-深度监视-简写" class="headerlink" title="1.8.4 天气案列 _深度监视_简写"></a>1.8.4 天气案列 _深度监视_简写</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>天气案列 _深度监视_简写<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>今天天气很&#123;&#123;Info&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 绑定事件的时候：@xx=&quot;yyy&quot;,yyy可以写一些简单的语句 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;button @click=&quot;isHot=!isHot&quot;&gt;切换天气&lt;/button&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;ChangeWeather&quot;</span>&gt;</span>切换天气<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">isHot</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">number</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">a</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">b</span>:<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Info</span>()&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">isHot</span> ? <span class="string">&#x27;炎热&#x27;</span>:<span class="string">&#x27;凉爽&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">ChangeWeather</span>()&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">isHot</span>=!<span class="variable language_">this</span>.<span class="property">isHot</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">watch</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 正常写法：</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// isHot:&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     // immediate:true,//初始化时让handler调用一下</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     // handler什么时候调用？ 当isHot发生改变的时候</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     handler(newValue,oldValue)&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 简写：不能写配置项</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">isHot</span>(<span class="params">newValue,oldValue</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>,newValue,oldValue)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 正常写法</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// vm.$watch(&#x27;isHot&#x27;,&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     immediate:true,//初始化时让handler调用一下</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     // handler什么时候调用？ 当isHot发生改变的时候</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     handler(newValue,oldValue)&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//         console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 简写：不能写配置项</span></span></span><br><span class="line"><span class="language-javascript">    vm.$watch(<span class="string">&#x27;isHot&#x27;</span>,<span class="keyword">function</span>(<span class="params">newValue,oldValue</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>,newValue,oldValue)</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-8-5-姓名案例-watch实现"><a href="#1-8-5-姓名案例-watch实现" class="headerlink" title="1.8.5 姓名案例_watch实现"></a>1.8.5 姓名案例_watch实现</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        computed和watch之间的区别:</span></span><br><span class="line"><span class="comment">            1.computed能完成的功能，watch都可以完成。</span></span><br><span class="line"><span class="comment">            2.watch能完成的功能，computed不一定能完成，例如:watch可以进行异步操作。</span></span><br><span class="line"><span class="comment">        两个重要的小原则:</span></span><br><span class="line"><span class="comment">            1.所被Vue管理的函数，最好写成普通函数，这样this的指向才是vm或 组件实例对象。</span></span><br><span class="line"><span class="comment">            2.所有不被Vue所管理的函数(定时器的回调函数、ajax的回调函数等)，最好写成箭头函数，这样this的指向才是vm或组件实例对象。</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>姓名案例_watch实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 准备好一个容器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        姓：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;firstName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;lastName&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        全名：<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">firstName</span>:<span class="string">&#x27;张&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">lastName</span>:<span class="string">&#x27;三&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">fullName</span>:<span class="string">&#x27;张-三&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">watch</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">firstName</span>(<span class="params">val</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">fullName</span>=val+<span class="string">&#x27;-&#x27;</span>+<span class="variable language_">this</span>.<span class="property">lastName</span></span></span><br><span class="line"><span class="language-javascript">                &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">lastName</span>(<span class="params">val</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">fullName</span>=<span class="variable language_">this</span>.<span class="property">firstName</span>+<span class="string">&#x27;-&#x27;</span>+val</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 简写（只有只考虑读取补考虑修改的时候才能用简写）</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// computed:&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     fullName()&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         console.log(&#x27;get被调用了&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         // 此处的this指的是vm</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         return this.firstName+&#x27;-&#x27;+this.lastName </span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-9-class与style绑定"><a href="#1-9-class与style绑定" class="headerlink" title="1.9 class与style绑定"></a>1.9 class与style绑定</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        绑定样式:</span></span><br><span class="line"><span class="comment">            1.class样式</span></span><br><span class="line"><span class="comment">                写法:class=&quot;xxx&quot;xxx可以是字符串、对象、数组。</span></span><br><span class="line"><span class="comment">                字符申写法适用于:类名不确定，要动态获取。</span></span><br><span class="line"><span class="comment">                对象写法适用于:要绑定多个样式，个数不确定，名字也不确定。</span></span><br><span class="line"><span class="comment">                数组写法适用于:要绑定多个样式，个数确定，名字也确定，但不确定用不用。</span></span><br><span class="line"><span class="comment">            2.style样式</span></span><br><span class="line"><span class="comment">                :style=&quot;&#123;fontSize: xxx&#125;&quot;其中xxx是动态值。</span></span><br><span class="line"><span class="comment">                :style=&quot;[a,b]&quot;其中a、b是样式对象。</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>绑定样式<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.basic</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.happy</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#ab86dc</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>:pink;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.sad</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#303230</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.normal</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.atguigu1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-radius</span>: <span class="number">10px</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.atguigu2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">231</span>, <span class="number">173</span>, <span class="number">233</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-shadow</span>: <span class="number">5px</span> <span class="number">5px</span> <span class="built_in">rgb</span>(<span class="number">170</span>, <span class="number">167</span>, <span class="number">167</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.atguigu3</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">60px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-weight</span>: bold;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 绑定class样式--字符串写法，适用于：样式的类名不确定，需要动态指定 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;mood&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeMood&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 绑定class样式--数组写法，适用于：要绑定的样式个数不确定，名字也不确定 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;arr&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 绑定class样式--对象写法，适用于：要绑定的样式个数确定，名字也确定,但要动态决定用不用 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;div class=&quot;basic&quot; :class=&quot;arr1&quot;&gt;&#123;&#123;name&#125;&#125;</span></span><br><span class="line"><span class="comment">            &lt;button @click=&quot;change2&quot;&gt;点我应用atguigu2&lt;/button&gt;</span></span><br><span class="line"><span class="comment">            &lt;button @click=&quot;change3&quot;&gt;点我应用atguigu3&lt;/button&gt;</span></span><br><span class="line"><span class="comment">        &lt;/div&gt;</span></span><br><span class="line"><span class="comment">        &lt;br&gt;&lt;br&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;classObj&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 绑定style样式--对象写法 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;styleObj&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 绑定style样式--数组写法 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;styleArr&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;[styleObj,styleObj2]&quot;</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">mood</span>:<span class="string">&#x27;normal&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">arr</span>:[<span class="string">&#x27;atguigu2&#x27;</span>,<span class="string">&#x27;atguigu3&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">arr1</span>:<span class="string">&#x27;atguigu1&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">classObj</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">atguigu1</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">atguigu2</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">styleObj</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fontSize</span>:<span class="string">&#x27;40px&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">color</span>:<span class="string">&#x27;gray&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">styleObj2</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">backgroundColor</span>:<span class="string">&#x27;pink&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">styleArr</span>:[</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fontSize</span>:<span class="string">&#x27;40px&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">color</span>:<span class="string">&#x27;gray&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">backgroundColor</span>:<span class="string">&#x27;pink&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">changeMood</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// this.mood=&#x27;happy&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> a=[<span class="string">&#x27;happy&#x27;</span>,<span class="string">&#x27;sad&#x27;</span>,<span class="string">&#x27;normal&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> index=<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">3</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">mood</span>=a[index]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">change2</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> arr=[<span class="string">&#x27;atguigu2&#x27;</span>,<span class="string">&#x27;atguigu3&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">arr1</span>=arr[<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">change3</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> arr=[<span class="string">&#x27;atguigu2&#x27;</span>,<span class="string">&#x27;atguigu3&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">arr1</span>=arr[<span class="number">1</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-10-条件渲染（v-if-show）"><a href="#1-10-条件渲染（v-if-show）" class="headerlink" title="1.10 条件渲染（v-if&#x2F;show）"></a>1.10 条件渲染（v-if&#x2F;show）</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        条件渲染:</span></span><br><span class="line"><span class="comment">            1.v-if</span></span><br><span class="line"><span class="comment">                写法:</span></span><br><span class="line"><span class="comment">                    (1).v-if=&quot;表达式&quot;</span></span><br><span class="line"><span class="comment">                    (2).v-else-if=&quot;表达式&quot;(3).v-else=&quot;表达式&quot;</span></span><br><span class="line"><span class="comment">                适用于:切换频率较低的场景。</span></span><br><span class="line"><span class="comment">                特点:不展示的DOM元素直接被移除。</span></span><br><span class="line"><span class="comment">                注意:v-if可以和:v-else-if、v-else一起使用，但要求结构不能被“打断”。</span></span><br><span class="line"><span class="comment">            2.v-show</span></span><br><span class="line"><span class="comment">                写法:v-show=&quot;表达式&quot;</span></span><br><span class="line"><span class="comment">                适用于:切换频率较高的场景。</span></span><br><span class="line"><span class="comment">                特点:不展示的DOM元素未被移除，仅仅是使用样式隐藏掉</span></span><br><span class="line"><span class="comment">            3.备注:使用v-if的时，元素可能无法获取到，而使用v-show一定可以获取到。</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>条件渲染<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n值是:&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 使用v-show做条件渲染 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;h2 v-show=&quot;false&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="comment">        &lt;h2 v-show=&quot;n===1&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 使用v-if做条件渲染 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;h2 v-if=&quot;false&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;h2 v-if=&quot;n===1&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 使用v-else和v-else-if做条件渲染 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;div v-if=&quot;n===1&quot;&gt;Angular&lt;/div&gt;</span></span><br><span class="line"><span class="comment">        &lt;div v-else-if=&quot;n===2&quot;&gt;React&lt;/div&gt;</span></span><br><span class="line"><span class="comment">        &lt;div v-else-if=&quot;n===3&quot;&gt;Vue&lt;/div&gt;</span></span><br><span class="line"><span class="comment">        &lt;div v-else&gt;哈哈&lt;/div&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- v-if和template的配合使用，不能与v-show配合使用 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;n===1&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>你好<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>尚硅谷<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">n</span>:<span class="string">&#x27;0&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-11-列表渲染"><a href="#1-11-列表渲染" class="headerlink" title="1.11 列表渲染"></a>1.11 列表渲染</h2><h3 id="1-11-1-基本列表-v-for"><a href="#1-11-1-基本列表-v-for" class="headerlink" title="1.11.1 基本列表(v-for)"></a>1.11.1 基本列表(v-for)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        v-for指令:</span></span><br><span class="line"><span class="comment">            1.用于展示列表数据</span></span><br><span class="line"><span class="comment">            2.语法:v-for=&quot;(item, index) in xxx&quot; :key=&quot;yyy&quot;</span></span><br><span class="line"><span class="comment">            3.可遍历:数组、对象、字符串(用的很少)、指定次数(用的很少)</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>基本列表<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 遍历数组 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员信息列表(遍历数组)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,index) in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 遍历对象 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>汽车信息(遍历对象)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,k) in car&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;k&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;value&#125;&#125;--&#123;&#123;k&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 遍历字符串 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>测试遍历字符串(用的少)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,index) in str&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;value&#125;&#125;--&#123;&#123;index&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 遍历指定次数 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>测试遍历指定次数(用的少)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(number,index) in 5&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;number&#125;&#125;--&#123;&#123;index&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">persons</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;李四&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;王五&#x27;</span>,<span class="attr">age</span>:<span class="number">17</span>&#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">car</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;奥迪A8&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">price</span>:<span class="string">&#x27;70万&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">color</span>:<span class="string">&#x27;黑色&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">str</span>:<span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-11-2-key作用与原理-面试题"><a href="#1-11-2-key作用与原理-面试题" class="headerlink" title="1.11.2 key作用与原理(面试题)"></a>1.11.2 key作用与原理(面试题)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        面试题:react、vue中的key有什么作用?(key的内部原理)</span></span><br><span class="line"><span class="comment">            1.虚拟DOM中key的作用:</span></span><br><span class="line"><span class="comment">                key是虚拟DOM对象的标识，当状态中的数据发生变化时，Vue会根据【新数据】生成【新的虚拟DOM】，</span></span><br><span class="line"><span class="comment">                随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下:</span></span><br><span class="line"><span class="comment">            2.对比规则:</span></span><br><span class="line"><span class="comment">                (1).旧虚拟DOM中找到了与新虚拟DOM相同的key:</span></span><br><span class="line"><span class="comment">                        ①.若虚拟DOM中内容没变，直接使用之前的真实DOM!</span></span><br><span class="line"><span class="comment">                        ①.若虚拟DOM中内容变了，则生成新的真实DOM，随后替换掉页面中之前的真实DOM。</span></span><br><span class="line"><span class="comment">                (2).旧虚拟DOM中未找到与新虚拟DOM相同的key</span></span><br><span class="line"><span class="comment">                    创建新的真实DOM，随后渲染到到页面。</span></span><br><span class="line"><span class="comment">            3.用index作为key可能会引发的问题:</span></span><br><span class="line"><span class="comment">                1.若对数据进行:逆序添加、逆序删除等破坏顺序操作:</span></span><br><span class="line"><span class="comment">                    会产生没有必要的真实DOM更新==&gt; 界面效果没问题，但效率低。</span></span><br><span class="line"><span class="comment">                2.如果结构中还包含输入类的DOM:</span></span><br><span class="line"><span class="comment">                    会产生错误DOM更新==&gt; 界面有问题。</span></span><br><span class="line"><span class="comment">            4.开发中如何选择key?:</span></span><br><span class="line"><span class="comment">                1.最好使用每条数据的唯一标识作为key，比如id、手机号、身份证号、学号等唯一值。</span></span><br><span class="line"><span class="comment">                2.如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，</span></span><br><span class="line"><span class="comment">                    使用index作为key是没有问题的。</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2024/04/09/vue2/04/09/vue2/image-20230925211828421.jpg" alt="image-20230925211828421"></p><p><img src="/2024/04/09/vue2/04/09/vue2/image-20230925212627874.jpg" alt="image-20230925212627874"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>key作用与原理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 遍历数组 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员信息列表(遍历数组)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">&quot;add&quot;</span>&gt;</span>添加一个老刘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,index) in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">persons</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;李四&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;王五&#x27;</span>,<span class="attr">age</span>:<span class="number">17</span>&#125;</span></span><br><span class="line"><span class="language-javascript">            ]</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">add</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> p=&#123;<span class="attr">id</span>:<span class="string">&#x27;004&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;老刘&#x27;</span>,<span class="attr">age</span>:<span class="number">30</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// this.persons.unshift(p) //向上添加出问题</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">push</span>(p) <span class="comment">//向下添加</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-11-3-列表过滤"><a href="#1-11-3-列表过滤" class="headerlink" title="1.11.3 列表过滤"></a>1.11.3 列表过滤</h3><p><img src="/2024/04/09/vue2/04/09/vue2/image-20230926164840424.jpg" alt="image-20230926164840424"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>列表过滤<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 遍历数组 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员信息列表(遍历数组)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyWord&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,index) in filpersons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;--&#123;&#123;p.sex&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//用watch实现</span></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// #region</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// new Vue(&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     el:&#x27;#root&#x27;,</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     data:&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//         keyWord:&#x27;&#x27;,</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//         persons:[</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//             &#123;id:&#x27;001&#x27;,name:&#x27;马冬梅&#x27;,age:18,sex:&#x27;女&#x27;&#125;,</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//             &#123;id:&#x27;002&#x27;,name:&#x27;周冬雨&#x27;,age:19,sex:&#x27;女&#x27;&#125;,</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//             &#123;id:&#x27;003&#x27;,name:&#x27;周杰伦&#x27;,age:17,sex:&#x27;男&#x27;&#125;,</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//             &#123;id:&#x27;004&#x27;,name:&#x27;温兆伦&#x27;,age:22,sex:&#x27;男&#x27;&#125;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//         ],</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//         filpersons:[]</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     &#125;,</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     watch:&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//         keyWord:&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//             immediate:true,</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//             handler(val)&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//                 this.filpersons=this.persons.filter((p)=&gt;&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//                     return p.name.indexOf(val) !== -1</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//                 &#125;)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//             &#125;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//         &#125;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//#endregion</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 用computed实现</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">keyWord</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">persons</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;马冬梅&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;周冬雨&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>,<span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;周杰伦&#x27;</span>,<span class="attr">age</span>:<span class="number">17</span>,<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;004&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;温兆伦&#x27;</span>,<span class="attr">age</span>:<span class="number">22</span>,<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">filpersons</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">p</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> p.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="variable language_">this</span>.<span class="property">keyWord</span>) !== -<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                &#125;)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-11-4-列表排序"><a href="#1-11-4-列表排序" class="headerlink" title="1.11.4 列表排序"></a>1.11.4 列表排序</h3><p><img src="/2024/04/09/vue2/04/09/vue2/image-20230926172641350.jpg" alt="image-20230926172641350"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>列表排序<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 遍历数组 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员信息列表(遍历数组)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入姓名&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyWord&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sortType=0&quot;</span>&gt;</span>年龄原序列<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sortType=1&quot;</span>&gt;</span>年龄降序<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sortType=2&quot;</span>&gt;</span>年龄升序<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,index) in filpersons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;--&#123;&#123;p.sex&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 用computed实现</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">keyWord</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">sortType</span>:<span class="number">0</span>,<span class="comment">//0原序列 1降序 2升序</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">persons</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;马冬梅&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;周冬雨&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>,<span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;周杰伦&#x27;</span>,<span class="attr">age</span>:<span class="number">17</span>,<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;004&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;温兆伦&#x27;</span>,<span class="attr">age</span>:<span class="number">22</span>,<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">filpersons</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> arr= <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">p</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> p.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="variable language_">this</span>.<span class="property">keyWord</span>) !== -<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                &#125;)</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 判断一下是否需要排序</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">sortType</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">p1,p2</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">sortType</span>===<span class="number">1</span> ? p2.<span class="property">age</span> - p1.<span class="property">age</span> : p1.<span class="property">age</span> - p2.<span class="property">age</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> arr</span></span><br><span class="line"><span class="language-javascript">            &#125;            </span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2024/04/09/vue2/04/09/vue2/image-20230927101052415.jpg" alt="image-20230927101052415"></p><h3 id="1-11-5-更新时的一个小问题"><a href="#1-11-5-更新时的一个小问题" class="headerlink" title="1.11.5 更新时的一个小问题"></a>1.11.5 更新时的一个小问题</h3><p>数组中直接更改信息（this.persons[0]&#x3D;{id:’001’,name:’马老师’,age:21,sex:’男’}）不是响应式，在页面中不会显示更改结果</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>更新时的一个小问题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 遍历数组 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>人员信息列表(遍历数组)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateMa&quot;</span>&gt;</span>更新马冬梅的数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &lt;li v-for=&quot;(p,index) in filpersons&quot; :key=&quot;index&quot;&gt; --&gt;</span>//用index时在排序时，若后面跟输入框会导致信息错位</span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,index) in persons&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;p.id&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;--&#123;&#123;p.sex&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 用computed实现</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">persons</span>:[</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;马冬梅&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;周冬雨&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>,<span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;周杰伦&#x27;</span>,<span class="attr">age</span>:<span class="number">17</span>,<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#123;<span class="attr">id</span>:<span class="string">&#x27;004&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;温兆伦&#x27;</span>,<span class="attr">age</span>:<span class="number">22</span>,<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">updateMa</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">persons</span>.<span class="title function_">splice</span>(<span class="number">0</span>,<span class="number">1</span>,&#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;马老师&#x27;</span>,<span class="attr">age</span>:<span class="number">21</span>,<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>&#125;)</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//this.persons[0]=&#123;id:&#x27;001&#x27;,name:&#x27;马老师&#x27;,age:21,sex:&#x27;男&#x27;&#125;//不奏效</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-11-6-总结vue数据监测"><a href="#1-11-6-总结vue数据监测" class="headerlink" title="1.11.6 总结vue数据监测"></a>1.11.6 总结vue数据监测</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">    Vue监视数据的原理:</span></span><br><span class="line"><span class="comment">        1.vue会监视data中所有层次的数据。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        2.如何监测对象中的数据?</span></span><br><span class="line"><span class="comment">            通过setter实现监视，且要在new Vue时就传入要监测的数据。</span></span><br><span class="line"><span class="comment">                (1).对象中后追加的属性，Vue默认不做响应式处理</span></span><br><span class="line"><span class="comment">                (2).如需给后添加的属性做响应式，请使用如下API:</span></span><br><span class="line"><span class="comment">                    Vue.set(target,propertyName/index，value)或 </span></span><br><span class="line"><span class="comment">                    vm.$set(target,propertyName/index,value)</span></span><br><span class="line"><span class="comment">        3.如何监测数组中的数据?</span></span><br><span class="line"><span class="comment">            通过包裹数组更新元素的方法实现，本质就是做了两件事:</span></span><br><span class="line"><span class="comment">                (1).调用原生对应的方法对数组进行更新。</span></span><br><span class="line"><span class="comment">                (2).重新解析模板，进而更新页面。</span></span><br><span class="line"><span class="comment">        4.在Vue修改数组中的某个元素一定要用如下方法:</span></span><br><span class="line"><span class="comment">            1.使用这些API:push()、pop()、shift()、unshift()、splice()、sort()、reverse()</span></span><br><span class="line"><span class="comment">            2.Vue.set() 或vm.$set()</span></span><br><span class="line"><span class="comment">        特别注意:Vue.set() 和 vm.$set()不能给vm 或 vm的根数据对象添加属性!!!</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>总结vue数据监测<span class="tag">&lt;/<span class="name">title</span>&gt;</span>、</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>学生信息<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;student.age++&quot;</span>&gt;</span>年龄加1岁<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addsex&quot;</span>&gt;</span>添加性别属性，默认值：男<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;student.sex=&#x27;女&#x27;&quot;</span>&gt;</span>修改性别<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addfriend&quot;</span>&gt;</span>在列表首位添加一个朋友<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updatefirstfriend&quot;</span>&gt;</span>修改第一个朋友的名字为：张三<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addhobby&quot;</span>&gt;</span>添加一个爱好<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updatehobby&quot;</span>&gt;</span>修改第一个爱好为：开车<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;removesmoke&quot;</span>&gt;</span>过滤掉爱好中的抽烟<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>姓名：&#123;&#123;student.name&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>年龄：&#123;&#123;student.age&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-if</span>=<span class="string">&quot;student.sex&quot;</span>&gt;</span>性别：&#123;&#123;student.sex&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>爱好：<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(h,index) in student.hobby&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;h&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>朋友们：<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(f,index) in student.friends&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;f.name&#125;&#125;--&#123;&#123;f.age&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">student</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;tom&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">age</span>:<span class="number">18</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">hobby</span>:[<span class="string">&#x27;抽烟&#x27;</span>,<span class="string">&#x27;喝酒&#x27;</span>,<span class="string">&#x27;烫头&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">friends</span>:[</span></span><br><span class="line"><span class="language-javascript">                   &#123;<span class="attr">name</span>:<span class="string">&#x27;jerry&#x27;</span>,<span class="attr">age</span>:<span class="number">35</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                   &#123;<span class="attr">name</span>:<span class="string">&#x27;tony&#x27;</span>,<span class="attr">age</span>:<span class="number">36</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">            &#125;           </span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">addsex</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// Vue.set(this.student,&#x27;sex&#x27;,&#x27;男&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">student</span>,<span class="string">&#x27;sex&#x27;</span>,<span class="string">&#x27;男&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">addfriend</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">friends</span>.<span class="title function_">unshift</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>, <span class="attr">age</span>:<span class="number">45</span>&#125;)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">updatefirstfriend</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">friends</span>[<span class="number">0</span>].<span class="property">name</span>=<span class="string">&quot;张三&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">addhobby</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// this.student.hobby.unshift(&#x27;唱歌&#x27;) //向前添加</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>.<span class="title function_">push</span>(<span class="string">&#x27;唱歌&#x27;</span>) <span class="comment">//向后添加</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">updatehobby</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// this.student.hobby.splice(0,1,&#x27;开车&#x27;) //0代表第1个数据，1代表从第0个开始删一个，删完之后插入一个新的数据、</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// Vue.set(this.student.hobby,&#x27;0&#x27;,&#x27;开车&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;开车&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">removesmoke</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>=<span class="variable language_">this</span>.<span class="property">student</span>.<span class="property">hobby</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">h</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span> h!==<span class="string">&#x27;抽烟&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;)<span class="comment">//新数组代替原数组</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-12-收集表单数据（v-model的使用）"><a href="#1-12-收集表单数据（v-model的使用）" class="headerlink" title="1.12 收集表单数据（v-model的使用）"></a>1.12 收集表单数据（v-model的使用）</h2><h3 id="1-12-1-收集表单数据"><a href="#1-12-1-收集表单数据" class="headerlink" title="1.12.1 收集表单数据"></a>1.12.1 收集表单数据</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">    收集表单数据:</span></span><br><span class="line"><span class="comment">        若:&lt;input type=&quot;text&quot;/&gt;，则v-model收集的是value值，用户输入的就是value值。</span></span><br><span class="line"><span class="comment">        若:&lt;input type=&quot;radio&quot;/&gt;，则v-model收集的是value值，且要给标签配置value值。若:&lt;input type=&quot;checkbox&quot;/&gt;</span></span><br><span class="line"><span class="comment">            1.没有配置input的value属性，那么收集的就是checked(勾选or未勾选，是布尔值)</span></span><br><span class="line"><span class="comment">            2.配置input的value属性:</span></span><br><span class="line"><span class="comment">                (1)v-model的初始值是非数组，那么收集的就是checked(勾选or未勾选，是布尔值)</span></span><br><span class="line"><span class="comment">                (2)v-model的初始值是数组，那么收集的的就是value组成的数组</span></span><br><span class="line"><span class="comment">        备注:v-model的三个修饰符:</span></span><br><span class="line"><span class="comment">            lazy: 失去焦点再收集数据</span></span><br><span class="line"><span class="comment">            number:输入字符串转为有效的数字 </span></span><br><span class="line"><span class="comment">                type=&quot;number&quot;:限制输入框中输入的数据只能为数字</span></span><br><span class="line"><span class="comment">                v-model.number：将输入的数字由字符串类型转为数值类型</span></span><br><span class="line"><span class="comment">            trim:输入首尾空格过滤</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>收集表单数据<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> @<span class="attr">submit.prevent</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;demo1&quot;</span>&gt;</span>账号：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;demo1&quot;</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;userInfor.account&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;demo2&quot;</span>&gt;</span>密码：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;demo2&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfor.password&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;demo8&quot;</span>&gt;</span>年龄：<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">id</span>=<span class="string">&quot;demo8&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;userInfor.age&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            性别：</span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;demo3&quot;</span>&gt;</span>女<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;demo3&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfor.sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;demo4&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;demo4&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfor.sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            爱好：</span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;demo5&quot;</span>&gt;</span>吃饭<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;demo5&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfor.hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;eat&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;demo6&quot;</span>&gt;</span>睡觉<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;demo6&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfor.hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sleep&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;demo7&quot;</span>&gt;</span>学习<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;demo7&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfor.hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;study&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            所属校区：</span><br><span class="line">            <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfor.city&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>请选择所属校区<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;beijing&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;shenzhen&quot;</span>&gt;</span>深圳<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;shanghai&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;henan&quot;</span>&gt;</span>河南<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            其他信息：</span><br><span class="line">            <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;userInfor.other&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfor.agree&quot;</span>&gt;</span></span><br><span class="line">            阅读并接受<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.atguigu.com&quot;</span>&gt;</span>《用户协议》<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">userInfor</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">account</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">password</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">age</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">sex</span>:<span class="string">&#x27;female&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">hobby</span>:[],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">city</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">other</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">agree</span>:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">demo</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">userInfor</span>));</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-13-过滤器"><a href="#1-13-过滤器" class="headerlink" title="1.13 过滤器"></a>1.13 过滤器</h2><h3 id="1-13-1-过滤器"><a href="#1-13-1-过滤器" class="headerlink" title="1.13.1 过滤器"></a>1.13.1 过滤器</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">    过滤器:</span></span><br><span class="line"><span class="comment">        定义:对要显示的数据进行特定格式化后再显示(适用于一些简单逻辑的处理)。</span></span><br><span class="line"><span class="comment">        语法:</span></span><br><span class="line"><span class="comment">            1.注册过滤器:Vue.filter(name,callback)或new Vue&#123;filters:&#123;&#125;&#125;</span></span><br><span class="line"><span class="comment">            2.使用过滤器: &#123;&#123; xxx | 过滤器名&#125;&#125;或v-bind:属性 = &quot;xxx | 过滤器名&quot;</span></span><br><span class="line"><span class="comment">        备注:</span></span><br><span class="line"><span class="comment">            1.过滤器也可以接收额外参数、多个过滤器也可以串联</span></span><br><span class="line"><span class="comment">            2.并没有改变原本的数据，是产生新的对应的数据</span></span><br><span class="line"><span class="comment">            3.&lt;input type=&quot;text&quot; v-model=&quot;msg |mySlice&quot;&gt; //报错，v-model不适用</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>过滤器<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/dayjs.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>显示格式化后的时间<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 计算属性实现 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>现在是：&#123;&#123;fmtTime&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- methods属性实现 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>现在是：&#123;&#123;getfmtTime()&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 过滤器实现 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>现在是：&#123;&#123;time | timeFormater&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 过滤器实现（传参） --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>现在是：&#123;&#123;time | timeFormater(&#x27;YYYY-MM-DD&#x27;)&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>现在是：&#123;&#123;time | timeFormater(&#x27;YYYY-MM-DD&#x27;) | mySlice&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span> <span class="attr">:x</span>=<span class="string">&quot;msg | mySlice&quot;</span>&gt;</span>尚硅谷<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;input type=&quot;text&quot; v-model=&quot;msg |mySlice&quot;&gt; --&gt;</span> //不适用</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;msg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;msg | mySlice&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 全局过滤器</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;mySlice&#x27;</span>,<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> value.<span class="title function_">slice</span>(<span class="number">0</span>,<span class="number">4</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">time</span>:<span class="string">&#x27;1697872908680&#x27;</span>,<span class="comment">//时间戳</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">msg</span>:<span class="string">&#x27;你好，尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">computed</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">fmtTime</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="title function_">dayjs</span>().<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">getfmtTime</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="title function_">dayjs</span>().<span class="title function_">format</span>(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//局部过滤器</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">filters</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">timeFormater</span>(<span class="params">value,str=<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="title function_">dayjs</span>(value).<span class="title function_">format</span>(str)</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// return dayjs(value).format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;)</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// mySlice(value)&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     return value.slice(0,4)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">msg</span>:<span class="string">&#x27;helloatguigu&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-14-内置标签"><a href="#1-14-内置标签" class="headerlink" title="1.14 内置标签"></a>1.14 内置标签</h2><h3 id="1-14-1-v-text指令"><a href="#1-14-1-v-text指令" class="headerlink" title="1.14.1 v-text指令"></a>1.14.1 v-text指令</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>v-text_指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        我们学过的指令:</span></span><br><span class="line"><span class="comment">            v-bind:单向绑定解析表达式，可简写为:xxx </span></span><br><span class="line"><span class="comment">v-model :双向数据绑定</span></span><br><span class="line"><span class="comment">            v-for:遍历数组/对象/字符串</span></span><br><span class="line"><span class="comment">            v-on:绑定事件监听，可简写为@</span></span><br><span class="line"><span class="comment">            v-if:条件渲染(动态控制节点是否存存在)</span></span><br><span class="line"><span class="comment">            v-else:条件渲染(动态控制节点是否存存在) </span></span><br><span class="line"><span class="comment">            v-show :条件渲染(动态控制节点是否展示) </span></span><br><span class="line"><span class="comment">            v-text指令:</span></span><br><span class="line"><span class="comment">                1.作用:向其所在的节点中渲染文本内容。</span></span><br><span class="line"><span class="comment">                2.与插值语法的区别:v-text会替换掉节点中的内容，&#123;&#123;xx&#125;&#125;则不会。</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-text</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-text</span>=<span class="string">&quot;str&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">str</span>:<span class="string">&#x27;&lt;h3&gt;你好&lt;/h3&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-14-2-v-html指令"><a href="#1-14-2-v-html指令" class="headerlink" title="1.14.2 v-html指令"></a>1.14.2 v-html指令</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>v-html_指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        v-html指令:</span></span><br><span class="line"><span class="comment">            1.作用:向指定节点中渲染包含html结构的内容。</span></span><br><span class="line"><span class="comment">            2.与插值语法的区别:</span></span><br><span class="line"><span class="comment">                (1).v-html会替换掉节点中所有的内容，&#123;&#123;xx&#125;&#125;则不会。</span></span><br><span class="line"><span class="comment">                (2).v-html可以识别html结构。</span></span><br><span class="line"><span class="comment">            3.严重注意:v-html有安全性问题!!!!</span></span><br><span class="line"><span class="comment">                (1).在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击。</span></span><br><span class="line"><span class="comment">                (2).一定要在可信的内容上使用v-html，永不要用在用户提交的内容上!</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&quot;str&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> //支持结构解析</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&quot;str2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        new Vue(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            el:&#x27;#root&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            data:&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                name:&#x27;尚硅谷&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                str:&#x27;<span class="tag">&lt;<span class="name">h3</span>&gt;</span>你好<span class="tag">&lt;/<span class="name">h3</span>&gt;</span>&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                str2:&#x27;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">javascript:location.href</span>=<span class="string">&quot;http://www.baidu.com?&quot;</span>+<span class="attr">document.cookie</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">a</span>&gt;</span>&#x27;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-14-3-v-cloak指令"><a href="#1-14-3-v-cloak指令" class="headerlink" title="1.14.3 v-cloak指令"></a>1.14.3 v-cloak指令</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        v-cloak指令(没有值):</span></span><br><span class="line"><span class="comment">            1.本质是一个特殊属性，Vue实例创建完毕并接管容器后，会删掉v-cloak属性。</span></span><br><span class="line"><span class="comment">            2.使用css配合v-cloak可以解决网速慢时页面展示出&#123;&#123;xxx&#125;&#125;的问题。</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-14-4-v-once指令"><a href="#1-14-4-v-once指令" class="headerlink" title="1.14.4 v-once指令"></a>1.14.4 v-once指令</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>v-cloak指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        v-once指令:</span></span><br><span class="line"><span class="comment">            1.v-once所在节点在初次动态渲染后，就视为静态内容了。</span></span><br><span class="line"><span class="comment">            2.以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能。</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-once</span>&gt;</span>初始值：&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>现在的值：&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点击n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">n</span>:<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-14-5-v-pre-指令"><a href="#1-14-5-v-pre-指令" class="headerlink" title="1.14.5 v-pre 指令"></a>1.14.5 v-pre 指令</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">    v-pre指令:</span></span><br><span class="line"><span class="comment">        1.跳过其所在节点的编译过程。</span></span><br><span class="line"><span class="comment">        2.可利用它跳过:没有使用指令语法、没有使用插值语法的节点，会加快编译。</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>v-pre指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-pre</span>&gt;</span>Vue其实很简单<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-pre</span>&gt;</span>现在的值：&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-pre</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点击n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">n</span>:<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-15-自定义指令"><a href="#1-15-自定义指令" class="headerlink" title="1.15 自定义指令"></a>1.15 自定义指令</h2><h3 id="1-15-1-自定义指令（函数式）"><a href="#1-15-1-自定义指令（函数式）" class="headerlink" title="1.15.1 自定义指令（函数式）"></a>1.15.1 自定义指令（函数式）</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>自定义指令_函数式<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        需求1: 定义一个v-big指令，和v-text功能类似，但会把绑定的数值放大10倍.</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n值是:<span class="tag">&lt;<span class="name">span</span> <span class="attr">v-text</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>放大10倍后的n值是:<span class="tag">&lt;<span class="name">span</span> <span class="attr">v-big</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            长字符串的名字书写方式：v-big-number</span></span><br><span class="line"><span class="comment">            &lt;h2&gt;放大10倍后的n值是:&lt;span v-big-number=&quot;n&quot;&gt;&lt;/span&gt;&lt;/h2&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">n</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">directives</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// big函数何时会被调用：</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//      1.指令与元素成功绑定时（一上来）</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//      2.指令所在的模板被重新解析时</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">big</span>(<span class="params">element,binding</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                element.<span class="property">innerText</span>=binding.<span class="property">value</span>*<span class="number">10</span></span></span><br><span class="line"><span class="language-javascript">                  <span class="variable language_">console</span>.<span class="title function_">log</span>(element,binding.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#x27;big-number&#x27;(element,binding)&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     element.innerText=binding.value*10</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//       console.log(element,binding.value);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-15-2-自定义函数（对象式）"><a href="#1-15-2-自定义函数（对象式）" class="headerlink" title="1.15.2 自定义函数（对象式）"></a>1.15.2 自定义函数（对象式）</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        自定义指令总结:</span></span><br><span class="line"><span class="comment">        一、定义语法:</span></span><br><span class="line"><span class="comment">            (1).局部指令:</span></span><br><span class="line"><span class="comment">                new Vue(&#123;                            new Vue(&#123;</span></span><br><span class="line"><span class="comment">                    directives:&#123;指令名:配置对象&#125;或        directives&#123;指令名:回调函数&#125;</span></span><br><span class="line"><span class="comment">                &#125;)                                    &#125;)</span></span><br><span class="line"><span class="comment">            (2).全局指令:</span></span><br><span class="line"><span class="comment">                Vue.directive(指令名,配置对象)       或   Vue.directive(指令名,回调函数)</span></span><br><span class="line"><span class="comment">        二、配置对象中常用的3个回调:</span></span><br><span class="line"><span class="comment">            (1).bind:指令与元素成功绑定时调用。</span></span><br><span class="line"><span class="comment">            (2).inserted:指令所在元素被插入页面时调用。</span></span><br><span class="line"><span class="comment">            (3).update:指令所在模板结构被重新解析时调用。</span></span><br><span class="line"><span class="comment">        三、备注:</span></span><br><span class="line"><span class="comment">            1.指令定义时不加v-，但使用时要加V-;</span></span><br><span class="line"><span class="comment">            2.指令名如果是多个单词，要使用kebab-case命名方式，不要用camelCase命名。</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>自定义指令_对象式<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        需求2: 定义一个v-fbind指令，和v-bind功能类似，但可以让其所绑定的input元素默认获取焦点.</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n值是:<span class="tag">&lt;<span class="name">span</span> <span class="attr">v-text</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-fbind:value</span>=<span class="string">&quot;n&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-fbind:value</span>=<span class="string">&quot;x&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 全局指令</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;fbind&#x27;</span>,&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 指令与元素成功绑定时（一上来）</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">bind</span>(<span class="params">element,binding</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    element.<span class="property">value</span>=binding.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;bind&#x27;</span>,<span class="variable language_">this</span>);<span class="comment">//此处的this是window</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 指令所在元素被插入页面时</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">inserted</span>(<span class="params">element,binding</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// element.value=binding.value</span></span></span><br><span class="line"><span class="language-javascript">                    element.<span class="title function_">focus</span>()</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;inserted&#x27;</span>,<span class="variable language_">this</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 指令所在的模板被重新解析时</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">update</span>(<span class="params">element,binding</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    element.<span class="property">value</span>=binding.<span class="property">value</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// element.focus()</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;update&#x27;</span>,<span class="variable language_">this</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">n</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">directives</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// fbind函数何时会被调用：</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//      1.指令与元素成功绑定时（一上来）</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//      2.指令所在的模板被重新解析时</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// fbind(element,binding)&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     element.focus()</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     element.value=binding.value</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     console.log(element,binding.value);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// fbind:&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     // 指令与元素成功绑定时（一上来）</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     bind(element,binding)&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         console.log(&#x27;bind&#x27;,this);//此处的this是window</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     &#125;,</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     // 指令所在元素被插入页面时</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     inserted(element,binding)&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         element.value=binding.value</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         element.focus()</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         console.log(&#x27;inserted&#x27;,this);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     &#125;,</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     // 指令所在的模板被重新解析时</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     update(element,binding)&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         element.value=binding.value</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         // element.focus()</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         console.log(&#x27;update&#x27;,this);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">x</span>:<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-16-生命周期"><a href="#1-16-生命周期" class="headerlink" title="1.16 生命周期"></a>1.16 生命周期</h2><h3 id="1-16-1-引出生命周期"><a href="#1-16-1-引出生命周期" class="headerlink" title="1.16.1 引出生命周期"></a>1.16.1 引出生命周期</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">       生命周期:</span></span><br><span class="line"><span class="comment">           1.又名:生命周期回调函数、生命周期函数、生命周期钩子。</span></span><br><span class="line"><span class="comment">           2.是什么:Vue在关键时刻帮我们调用的一些特殊名称的函数。</span></span><br><span class="line"><span class="comment">           3.生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的。</span></span><br><span class="line"><span class="comment">           4.生命周期函数中的this指向是vm 或 组件实例对象。</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>引出生命周期<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;opacity&#125;&quot;</span>&gt;</span>欢迎学习<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm =<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">opacity</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 不能使用这个</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// change()&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     setInterval(()=&gt;&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         this.opacity-=0.01</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         if(this.opacity&lt;=0)&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//             this.opacity=1</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         &#125;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     &#125;)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// Vue完成模板的解析并把初始的DOM元素放入页面后（挂载完毕）调用mounted</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">opacity</span>-=<span class="number">0.01</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">opacity</span>&lt;=<span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">opacity</span>=<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 通过外部的定时器实现（不推荐）</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// setInterval(()=&gt;&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     vm.opacity-=0.01</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     if(vm.opacity&lt;=0)&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//         vm.opacity=1</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-16-2-生命周期（挂载-更新-销毁流程）"><a href="#1-16-2-生命周期（挂载-更新-销毁流程）" class="headerlink" title="1.16.2 生命周期（挂载&#x2F;更新&#x2F;销毁流程）"></a>1.16.2 生命周期（挂载&#x2F;更新&#x2F;销毁流程）</h3><p><img src="/2024/04/09/vue2/04/09/vue2/image-20231024135311691.jpg" alt="image-20231024135311691"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>生命周期_挂载流程<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n值是:&#123;&#123;n&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>点我n+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;bye&quot;</span>&gt;</span>点我销毁vm<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// template:`</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     &lt;div id=&quot;root&quot;&gt;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         &lt;h2&gt;当前的n值是:&#123;&#123;n&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//         &lt;button @click=&quot;add&quot;&gt;点我n+1&lt;/button&gt;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     &lt;/div&gt;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// `,</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">n</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">add</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;add&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">n</span>++</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">bye</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// @click是dom自带的，所以销毁后点击n+1时bye仍执行输出(？视频中执行输出了，自己的代码没有输出？)</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;bye&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.$destroy()</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//vm.$destroy()完全销毁一个实例。清理它与其它实例的连接，解绑它的全部指令及事件监听器(此处的事件监听器指的是自定义事件并非dom自带的)。</span></span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">watch</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 自定义事件，销毁之后不显示</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">n</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;n变了&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeCreate&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// console.log(this);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// debugger;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;created&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">beforeMount</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeMount&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// debugger;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mounted&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 生命周期-更新流程</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">beforeUpdate</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeUpdate&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">updated</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;updated&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// this.n=99</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 生命周期-销毁流程</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeDestroy&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">destroyed</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;destroyed&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-16-3-生命周期总结"><a href="#1-16-3-生命周期总结" class="headerlink" title="1.16.3 生命周期总结"></a>1.16.3 生命周期总结</h3><p>​<strong>常用的生命周期钩子:</strong><br>​        1.mounted: 发送ajax请求、启动定时器、绑定自定义事件、订阅消息等[初始化操作]<br>​        2.beforeDestroy: 清除定时器、解绑自定义事件、取消订阅消息等[收尾工作]。<br>​    <strong>关于销毁Vue实例</strong><br>​        1.销毁后借助Vue开发者工具看不到任何信息。<br>​        2.销毁后自定义事件会失效，但原生DOM事件依然有效。<br>​        3.一般不会在beforeDestroy操作数据，因为即便作数据，也不会再触发更新流程了。</p><p><img src="/2024/04/09/vue2/04/09/vue2/image-20231024151830196.jpg" alt="image-20231024151830196"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>生命周期总结<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;opacity&#125;&quot;</span>&gt;</span>欢迎学习<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;stop&quot;</span>&gt;</span>点我停止变换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;opacity=1&quot;</span>&gt;</span>点我透明度为1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm =<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">opacity</span>:<span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">stop</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// clearInterval(this.timer)</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.$destroy()</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// Vue完成模板的解析并把初始的DOM元素放入页面后（挂载完毕）调用mounted</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setInterval&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">timer</span>=<span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">opacity</span>-=<span class="number">0.01</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">opacity</span>&lt;=<span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">opacity</span>=<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;vm即将驾鹤西去了&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">clearInterval</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="2-Vue组件化编程"><a href="#2-Vue组件化编程" class="headerlink" title="2.Vue组件化编程"></a>2.Vue组件化编程</h1><h2 id="2-1-对组件的理解"><a href="#2-1-对组件的理解" class="headerlink" title="2.1 对组件的理解"></a>2.1 对组件的理解</h2><ul><li><p><strong>模块</strong></p><p>理解：向外提供特定功能的js程序，一般就是一个js文件</p><p>作用：复用js，简化js的编写，提高js运行效率</p></li><li><p><strong>组件</strong></p><p>理解：用来实现应用中<strong>局部</strong>（特定）功能<strong>代码</strong>和<strong>资源</strong>的<strong>集合</strong>(html&#x2F;css&#x2F;js&#x2F;image….)</p><p>作用：复用编码，简化项目编码，提高运行效率</p></li><li><p><strong>模块化</strong></p><p>当应用中的js都是以模块来编写的，那么这个应用就是一个模块化的应用</p></li><li><p><strong>组件化</strong></p><p>当应用中的功能都是多组件的方式来编写的，那么这个应用就是一个组件化的应用</p></li></ul><p><img src="/2024/04/09/vue2/04/09/vue2/image-20231025103133574.jpg" alt="image-20231025103133574"></p><p><img src="/2024/04/09/vue2/04/09/vue2/image-20231025103857897.jpg" alt="image-20231025103857897"></p><p><img src="/2024/04/09/vue2/04/09/vue2/image-20231025104120480.jpg" alt="image-20231025104120480"></p><h2 id="2-2-非单文件组件"><a href="#2-2-非单文件组件" class="headerlink" title="2.2 非单文件组件"></a>2.2 非单文件组件</h2><h3 id="2-2-1-基本使用"><a href="#2-2-1-基本使用" class="headerlink" title="2.2.1 基本使用"></a>2.2.1 基本使用</h3><p><strong>一个文件中包含用n个组件</strong></p><p><strong>(单文件组件：一个文件中只包含用1个组件)</strong></p><p><strong>Vue中使用组件的三大步骤:</strong></p><ul><li><strong>定义组件(创建组件)</strong></li><li><strong>注册组件</strong></li><li><strong>使用组件(写组件标签)</strong></li></ul><ol><li><p>如何定义一个组件?<br>使用eextend(options)创建，其中options和new Vue(options)时传入的那个options几乎一样，但也有点区别;<br>​区别如下:</p><ul><li>el不要写，为什么?一最终所有的组件都要经过一个vm的管理，由vm中的el决定服务哪个容器。</li><li>data必须写成函数，为什么?-避免组件被复用时，数据存在引用关系。备注:使用template可以配置组件结构。</li></ul></li><li><p>如何注册组件?</p><ol><li>局部注册:靠<code>newVue</code>的时候传入<code>components</code>选项</li><li>全局注册:靠<code>Vue.component(&#39;组件名&#39;,组件)</code></li></ol></li><li><p>编写组件标签:<br><code>&lt;school&gt;&lt;/school&gt;</code></p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>基本使用<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 第三步：编写组件标签 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 第三步：编写组件标签 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">student</span>&gt;</span><span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 第一步：创建school组件</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> school=<span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">template</span>:<span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校名称：&#123;&#123;schoolName&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;button @click=&quot;showName&quot;&gt;带我提示学校名&lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        `</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">schoolName</span>:<span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">address</span>:<span class="string">&#x27;北京昌平&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">showName</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">schoolName</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 第一步：创建student组件</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> student=<span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">template</span>:<span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学生名称：&#123;&#123;studentName&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学生年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        `</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">studentName</span>:<span class="string">&#x27;张三&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">age</span>:<span class="number">18</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 第一步：创建hello组件</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> hello=<span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">template</span>:<span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;你好啊!&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        `</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>:<span class="string">&#x27;Tom&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 第二部：全局注册组件</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;hello&#x27;</span>,hello)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 创建vm</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">msg</span>:<span class="string">&#x27;你好啊！&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 第二步：注册组件（局部注册）</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            school,</span></span><br><span class="line"><span class="language-javascript">            student,</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root2&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// components:&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     hello</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-2-2-组件的几个注意点"><a href="#2-2-2-组件的几个注意点" class="headerlink" title="2.2.2 组件的几个注意点"></a>2.2.2 组件的几个注意点</h3><p>几个注意点:</p><ol><li><p>关于组件名:<br>一个单词组成:<br>    第一种写法(首字母小写):<code>school</code><br>​第二种写法(首字母大写):<code>School</code></p><p>多个单词组成:<br>    第一种写法(kebab-case命名):<code>my-school</code><br>​第二种写法(CamelCase命名):<code>MySchool</code>(需要Vue脚手架支持)</p><p>备注:<br>    (1).组件名尽可能回避HTML中已有的元素名称，例如:h2、H2都不行。(2).可以使用name配置项指定组件在开发者工具中呈现的名字。</p></li><li><p>关于组件标签:<br>第一种写法:<code>&lt;school&gt;&lt;/school&gt;</code></p><p>第二种写法:<code>&lt;school/&gt;</code></p><p>备注:不用使用脚手架时，<code>&lt;school/&gt;</code>会导致后续组件不能渲染。</p></li><li><p>一个简写方式:<br><code>const school = Vue.extend(options)</code> 可简写为:<code>const school = options</code></p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>组件的几个注意点<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    // 自定义组件</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    const school=(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        template:`</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校名称：</span><span class="template-variable">&#123;&#123;<span class="name">schoolName</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校地址：</span><span class="template-variable">&#123;&#123;<span class="name">address</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        `,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        data()&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            return&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                schoolName:&#x27;尚硅谷&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                address:&#x27;北京昌平&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    new Vue(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        el:&#x27;#root&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        data:&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            msg:&#x27;欢迎学习Vue！&#x27;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        components:&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            school</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-2-3-组件的嵌套"><a href="#2-2-3-组件的嵌套" class="headerlink" title="2.2.3 组件的嵌套"></a>2.2.3 组件的嵌套</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>组件的嵌套<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;app&gt;&lt;/app&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    // 创建student组件</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    const student=Vue.extend(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        template:`</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学生姓名：</span><span class="template-variable">&#123;&#123;<span class="name">studentName</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学生年龄：</span><span class="template-variable">&#123;&#123;<span class="name">age</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        `,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        data()&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            return&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                studentName:&#x27;张三&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                age:18</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    // 定义hello组件</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    const hello=Vue.extend(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        template:`<span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">msg</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span>`,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        data()&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            return&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                msg:&#x27;欢迎来到尚硅谷学习&#x27;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    // 定义school组件</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    const school=(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        template:`</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校名称：</span><span class="template-variable">&#123;&#123;<span class="name">schoolName</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校地址：</span><span class="template-variable">&#123;&#123;<span class="name">address</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">student</span>&gt;</span><span class="tag">&lt;/<span class="name">student</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        `,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        data()&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            return&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                schoolName:&#x27;尚硅谷&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                address:&#x27;北京昌平&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        components:&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            student</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    // 定义app组件</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    const app=Vue.extend(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        template:`</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        `,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        components:&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            hello,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            school</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    // 创建vm</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    new Vue(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        template:`<span class="tag">&lt;<span class="name">app</span>&gt;</span><span class="tag">&lt;/<span class="name">app</span>&gt;</span>`,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        el:&#x27;#root&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        // 注册组件（局部）</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        components:&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">            app</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        &#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    &#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-2-4-VueComponent"><a href="#2-2-4-VueComponent" class="headerlink" title="2.2.4 VueComponent"></a>2.2.4 VueComponent</h3><p>​    关于VueComponent:</p><ol><li><p>school组件本质是一个名为VueComponent的构造函数，且不是程序员定义的，是Vue.extend生成的。</p></li><li><p>我们只需要写<code>&lt;school/&gt;</code>或<code>&lt;school&gt;&lt;/school&gt;</code>，Vue解析时会帮我们创建school组件的实例对象.</p><p>即Vue帮我们执行的:new VueComponent(options)。</p></li><li><p>特别注意:每次调用Vue.extend，返回的都是一个全新的VueComponent!!!!</p></li><li><p>关于this指向:</p><ol><li><p>组件配置中:</p><p>data函数、methods中的函数、watch中的函数、computed中的函数它们的this均是【VueComponent实例对象】。</p></li><li><p>new Vue()配置中:</p><p>data函数、methods中的函数、watch中的函数、computed中的函数它们的this均是【Vue实例对象】。</p></li></ol></li><li><p>VueComponent的实例对象，以后简称vc(也可称之为:组件实例对象) Vue的实例对象，以后简称vm。</p></li></ol><p><img src="/2024/04/09/vue2/04/09/vue2/image-20231025203037138.jpg" alt="image-20231025203037138"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>VueComponent<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 定义school组件</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> school=<span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">template</span>:<span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校名称：&#123;&#123;schoolName&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;button @click=&quot;showName&quot;&gt;点我提示学校名称&lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        `</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">schoolName</span>:<span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">address</span>:<span class="string">&#x27;北京昌平&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">showName</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">schoolName</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 定义hello组件</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> hello=<span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">template</span>:<span class="string">`&lt;h1&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;`</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">msg</span>:<span class="string">&#x27;欢迎来到尚硅谷学习&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)     </span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">components</span>:&#123;school,hello&#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-2-5-一个重要的内置关系"><a href="#2-2-5-一个重要的内置关系" class="headerlink" title="2.2.5 一个重要的内置关系"></a>2.2.5 一个重要的内置关系</h3><ol><li>一个重要的内置关系:<code>VueComponent.prototype.__proto__ === Vue.prototype</code></li><li>为什么要有这个关系:让组件实例对象(vc)可以访问到Vue原型上的属性、方法。</li><li>组件实例对象（vc）就是一个小型的vm</li></ol><p><img src="/2024/04/09/vue2/04/09/vue2/image-20231025212246444.jpg" alt="image-20231025212246444"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>一个重要的内置关系<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">x</span>=<span class="number">99</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 定义school组件</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> school=<span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">template</span>:<span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校名称：&#123;&#123;schoolName&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;button @click=&quot;showX&quot;&gt;点我输出X&lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">            &lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        `</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">schoolName</span>:<span class="string">&#x27;尚硅谷&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">address</span>:<span class="string">&#x27;北京昌平&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">showX</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">x</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">msg</span>:<span class="string">&#x27;你好&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">components</span>:&#123;school&#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// console.log(school.prototype.__proto__===Vue.prototype);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// // 定义一个构造函数</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// function Demo()&#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     this.a=1</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     this.b=2</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// // 创建一个Demo的实例对象</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// const d=new Demo()</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// console.log(Demo.prototype); //显式原型属性</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// console.log(d.__proto__); //隐式原型属性</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// // 程序员通过显示原型属性操作原型对象，追加一个x属性，值为99</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// Demo.prototype.x=99</span></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// console.log(d.__proto__.x);</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-3-单文件组件"><a href="#2-3-单文件组件" class="headerlink" title="2.3 单文件组件"></a>2.3 单文件组件</h2><p>以下文件并不能成功渲染在页面上，需要配置脚手架才可以！！！</p><p><strong>index.html</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>联系一下单文件组件的语法<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">App</span>&gt;</span><span class="tag">&lt;/<span class="name">App</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>main.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="attr">components</span>:&#123;</span><br><span class="line">        <span class="title class_">App</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>App.vue</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;School&gt;&lt;/School&gt;</span><br><span class="line">    &lt;student&gt;&lt;/student&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 引入组件</span><br><span class="line">import School from &#x27;./School.vue&#x27;</span><br><span class="line">import Student from &#x27;./Student.vue&#x27;</span><br><span class="line"></span><br><span class="line">    export default &#123;</span><br><span class="line">        name:&#x27;App&#x27;,</span><br><span class="line">        components:&#123;</span><br><span class="line">            School,</span><br><span class="line">            Student</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><strong>School.vue</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;!-- 组件的结构 --&gt;</span><br><span class="line">    &lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">        &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;button @click=&quot;showName&quot;&gt;带我提示学校名&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    // 组件交互相关的代码</span><br><span class="line">    export default &#123;</span><br><span class="line">        name:&#x27;School&#x27;,</span><br><span class="line">        data()&#123;</span><br><span class="line">            return&#123;</span><br><span class="line">                name:&#x27;尚硅谷&#x27;,</span><br><span class="line">                address:&#x27;北京昌平&#x27;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            showName()&#123;</span><br><span class="line">                alert(this.name)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    /* 组件的样式 */</span><br><span class="line">    .demo&#123;</span><br><span class="line">        background-color: #6ab8d4;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><strong>Student.vue</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;!-- 组件的结构 --&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;学生名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;学生年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    // 组件交互相关的代码</span><br><span class="line">    export default &#123;</span><br><span class="line">        name:&#x27;Student&#x27;,</span><br><span class="line">        data()&#123;</span><br><span class="line">            return&#123;</span><br><span class="line">                name:&#x27;张三&#x27;,</span><br><span class="line">                age:18</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="3-Vue脚手架"><a href="#3-Vue脚手架" class="headerlink" title="3. Vue脚手架"></a>3. Vue脚手架</h1><h2 id="3-1-初始化脚手架"><a href="#3-1-初始化脚手架" class="headerlink" title="3.1 初始化脚手架"></a>3.1 初始化脚手架</h2><h3 id="3-1-1-创建Vue脚手架"><a href="#3-1-1-创建Vue脚手架" class="headerlink" title="3.1.1 创建Vue脚手架"></a>3.1.1 创建Vue脚手架</h3><ol><li><p>第一步：<strong>全局</strong>安装@vue&#x2F;cli</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install <span class="literal">-g</span> @vue/<span class="built_in">cli</span></span><br></pre></td></tr></table></figure></li><li><p>第二步：<strong>切换到你要创建项目的目录</strong>，然后使用命令创建目录</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create xxxx</span><br></pre></td></tr></table></figure></li><li><p>第三步：启动项目</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure></li></ol><p><strong>备注：</strong></p><ol><li><p>如果出现下载缓慢（最好直接在第一部之前直接）配置npm淘宝镜像：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></li><li><p>Vue脚手架隐藏了所有webpack相关的配置，若想查看具体的webpack配置，请执行</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue inspect &gt; output.js</span><br></pre></td></tr></table></figure></li></ol><p>通过上述方式创建脚手架实现单文件组件中所书写的页面</p><p><img src="/2024/04/09/vue2/04/09/vue2/image-20231105193315153.jpg" alt="image-20231105193315153"></p><p><img src="/2024/04/09/vue2/04/09/vue2/image-20231105193249828.jpg" alt="image-20231105193249828"></p><h3 id="3-1-2-脚手架文件结构"><a href="#3-1-2-脚手架文件结构" class="headerlink" title="3.1.2 脚手架文件结构"></a>3.1.2 脚手架文件结构</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">├─node_modules</span><br><span class="line">├─public</span><br><span class="line">│ ├─favicon.ico：页签图标</span><br><span class="line">│ └─index.html：主页面</span><br><span class="line">├─src</span><br><span class="line">│  ├─assets：存放静态资源</span><br><span class="line">│  │ └─logo.jpg</span><br><span class="line">│  ├─components：存放组件</span><br><span class="line">│  │ └─HelloWorld.vue</span><br><span class="line">│  ├─App.vue：汇总所有组件</span><br><span class="line">│  ├─main.js：入口文件</span><br><span class="line">├─.gitignore：git版本管制忽略的配置</span><br><span class="line">├─babel.config.js：babel的配置文件</span><br><span class="line">├─package.json：应用包配置文件</span><br><span class="line">├─package-lock.json：包版本控制文件</span><br><span class="line">├─README.md：应用描述文件</span><br><span class="line">├─vue.config.js：可修改默认配置文件，与默认配置整合，若不写则选择默认配置</span><br><span class="line">├─jsconfig.json</span><br></pre></td></tr></table></figure><h3 id="3-1-3-分析render函数及不同版本的vue"><a href="#3-1-3-分析render函数及不同版本的vue" class="headerlink" title="3.1.3 分析render函数及不同版本的vue"></a>3.1.3 分析render函数及不同版本的vue</h3><p><strong>main.js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该文件是整个项目的入口文件</span></span><br><span class="line"><span class="comment">// 引入Vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span> <span class="comment">//残缺版的，不能使用template</span></span><br><span class="line"><span class="comment">// import Vue from &#x27;vue/dist/vue&#x27; //完整版的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入App组件,它是所有组件的父组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// 关闭生产提示</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 关于不同版本的Vue:</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line">    <span class="comment">// 1.vue.js与vue.runtime.xxx.js的区别:</span></span><br><span class="line">    <span class="comment">//   (1).vue.js是完整版的Vue，包含:核心功能+模板解析器。</span></span><br><span class="line">    <span class="comment">//   (2).vue.runtime.xxx.js是运行版的Vue，只包含:核心功能;没有模板解析器</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.因为vue.runtime.xxx.js没有模板解析器，所以不能使用template配置项，需要使用</span></span><br><span class="line">    <span class="comment">//   render函数接收到的createElement函数大指定具休内容。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建Vue实例对象---vm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="comment">// 将App组件放入容器中</span></span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line"></span><br><span class="line">  <span class="comment">// render(a)&#123;</span></span><br><span class="line">  <span class="comment">//   console.log(typeof a);</span></span><br><span class="line">  <span class="comment">//   return null</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// template:`&lt;div&gt;</span></span><br><span class="line">  <span class="comment">//   &lt;App&gt;&lt;/App&gt;</span></span><br><span class="line">  <span class="comment">// &lt;/div&gt;`,</span></span><br><span class="line">  <span class="comment">// components:&#123;</span></span><br><span class="line">  <span class="comment">//   App</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-1-4-vue-config-js配置文件"><a href="#3-1-4-vue-config-js配置文件" class="headerlink" title="3.1.4 vue.config.js配置文件"></a>3.1.4 vue.config.js配置文件</h3><p>使用<code>vue inspect &gt; output.js</code>可以查看到Vue脚手架的默认配置</p><p>使用vue.config.js可以对脚手架进行个性化定制，详情见：<a href="https://cli.vuejs.org/zh">https://cli.vuejs.org/zh</a></p><h2 id="3-2-ref属性"><a href="#3-2-ref属性" class="headerlink" title="3.2 ref属性"></a>3.2 ref属性</h2><p>  1.被用来给元素或子组件注册引用信息(id的替代者)</p><p>  2.应用在html标签上获取的是真实DOM元素，应用在组件标签上是组件实例对象(vc)</p><p>  3.使用方式:</p><p>​    打标识:<code>&lt;h1 ref=&quot;xxx&quot;&gt;.....&lt;/h1&gt;</code>或<code>&lt;School ref=&quot;xxx&quot;&gt;&lt;/School&gt;</code></p><p>​    获取:<code>this.$refs.xxx</code></p><h2 id="3-3-props配置"><a href="#3-3-props配置" class="headerlink" title="3.3 props配置"></a>3.3 props配置</h2><p>功能：让组件接收外部传过来的数据</p><ol><li>传递数据：</li></ol><p>​      <code>&lt;Demo name=&quot;xxx&quot;/&gt;</code></p><ol start="2"><li><p>接收数据：</p><p>第一种方式(只接收)：<code>props:[&#39;name&#39;]</code></p><p>第二种方式(限制类型)：</p><p><code>props:&#123;</code></p><p><code>name:Number</code></p><p><code>&#125;</code></p><p>第三种方式(限制类型、限制必要性、指定默认值)：</p><p> <code>props:&#123;</code></p><p>​<code>name:&#123;</code></p><p>​<code>type:String,//类型</code></p><p>​<code>required:true,//必要性</code></p><p>​<code>default:&#39;老王&#39;//默认值</code></p><p> <code>&#125;</code></p><p>  <code>&#125;</code></p></li></ol><p>​    备注：props是只读的，Vue底层会监测你对props的修改，如果进行了修改，就会发出警告，</p><p>​    若业务需求确实需要修改，那么请复制props的内容到data中一份，然后去修改data中</p><p>​    的数据。</p><h2 id="3-4-mixin混入-合"><a href="#3-4-mixin混入-合" class="headerlink" title="3.4 mixin混入(合)"></a>3.4 mixin混入(合)</h2><p>  功能：可以把多个组件共用的配置提取成一个混入对象</p><p>  使用方法：</p><p>​    第一步定义混合，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">      &#123;</span><br><span class="line"></span><br><span class="line">​        data()&#123;...&#125;,</span><br><span class="line"></span><br><span class="line">​        methods()&#123;...&#125;,</span><br><span class="line"></span><br><span class="line">​        ...</span><br><span class="line"></span><br><span class="line">​      &#125;</span><br></pre></td></tr></table></figure><p>​    第二步使用混合，例如：</p><p>​      (1).全局混入在main.js中：<code>Vue.mixin(xxx)</code></p><p>​      (2).局部混入：<code>mixins:[xxx,xxx]</code></p><h2 id="3-5-插件-plugins-js"><a href="#3-5-插件-plugins-js" class="headerlink" title="3.5 插件(plugins.js)"></a>3.5 插件(plugins.js)</h2><p>  功能：用于增强Vue</p><p>  本质：包含instal1方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据。</p><p>  定义插件：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">    对象.<span class="property">install</span> = <span class="keyword">function</span> (<span class="params">Vue, options</span>)&#123;</span><br><span class="line"></span><br><span class="line">​      <span class="comment">// 1.添加全局过滤器</span></span><br><span class="line"></span><br><span class="line">​      <span class="title class_">Vue</span>.<span class="title function_">filter</span>(....)</span><br><span class="line"></span><br><span class="line">​      <span class="comment">// 2. 添加全局指令</span></span><br><span class="line"></span><br><span class="line">​      <span class="title class_">Vue</span>.<span class="title function_">directive</span>(...)</span><br><span class="line"></span><br><span class="line">​      <span class="comment">// 3. 配置全局混入(合)</span></span><br><span class="line"></span><br><span class="line">​      <span class="title class_">Vue</span>.<span class="title function_">mixin</span>(....)</span><br><span class="line"></span><br><span class="line">​      <span class="comment">// 4.添加实例方法 </span></span><br><span class="line"></span><br><span class="line">​      <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myMethod</span> =<span class="keyword">function</span> (<span class="params"></span>) (...)</span><br><span class="line"></span><br><span class="line">​      <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myProperty</span> = xxxx</span><br><span class="line"></span><br><span class="line">​    &#125;</span><br></pre></td></tr></table></figure><p>  使用插件：<code>Vue.use()</code></p><h2 id="3-6-scoped样式"><a href="#3-6-scoped样式" class="headerlink" title="3.6 scoped样式"></a>3.6 scoped样式</h2><p><img src="/2024/04/09/vue2/04/09/vue2/image-20231107211326988.jpg" alt="image-20231107211326988"></p><p>  作用：让样式在局部生效，防止冲突</p><p>  写法：<code>&lt;style scoped&gt;</code></p><h2 id="3-7-Todo-list案例"><a href="#3-7-Todo-list案例" class="headerlink" title="3.7 Todo-list案例"></a>3.7 Todo-list案例</h2><ol><li><p>组件化编码流程：</p><ol><li><p>拆分静态组件：组件要按照功能点拆分，命名不要与html元素冲突。</p></li><li><p>实现动态组件：考虑好数据的存放位置，数据是一个组件在用，还是一些组件在用:</p><ul><li><p>一个组件在用：放在组件自身即可.</p></li><li><p>一些组件在用：放在他们共同的父组件上(状态提升)。</p></li></ul></li><li><p>实现交互：从绑定事件开始。</p></li></ol></li><li><p>props适用于：</p><ul><li>父组件&#x3D;&#x3D;&gt;子组件 通信</li><li>子组件&#x3D;&#x3D;&gt;父组件 通信(要求父先给子一个函数)</li></ul></li><li><p>使用v-model时要切记：v-model绑定的值不能是props传过来的值，因为props是不可以修改的！</p></li><li><p>props传过来的若是对象类型的值，修改对象中的属性时Vue不会报错，但不推荐这样做。</p></li></ol><h2 id="3-8-weStorage"><a href="#3-8-weStorage" class="headerlink" title="3.8 weStorage"></a>3.8 weStorage</h2><ol><li><p>存储内容大小一般支持5MB左右(不同浏览器可能还不一样)</p></li><li><p>浏览器端通过 <code>Window.sessionStorage</code>和 <code>Window.localStorage</code>属性来实现本地存储机制。</p></li><li><p>相关API：</p><ul><li><p><code>xxxxxStorage.setItem(&#39;key&#39;, ‘value&#39;);</code><br>该方法接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值。</p></li><li><p>xxxxxStorage.getItem(‘person’);<br>该方法接受一个键名作为参数，返回键名对应的值。</p></li><li><p><code>xxxxxStorage.removeItem(&#39;key&#39;);</code><br>该方法接受一个键名作为参数，并把该键名从存储中删除。</p></li><li><p><code>xxxxxStorage.clear()</code><br>该方法会清空存储中的所有数据。</p></li></ul></li><li><p>备注：</p><ol><li>sessionStorage存储的内容会随着浏览器窗口关闭而消失。</li><li>localStorage存储的内容，需要手动清除才会消失。</li><li><code>xxxxxStorage.getItem(xxx)</code>如果xxx对应的value获取不到，那么getltem的返回值是null。</li><li><code>JSON.parse(null)</code>的结果依然是null。</li></ol></li></ol><h3 id="3-8-1-localStorage"><a href="#3-8-1-localStorage" class="headerlink" title="3.8.1 localStorage"></a>3.8.1 localStorage</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>localStorage<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>localStorage<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;saveData()&quot;</span>&gt;</span>点我保存一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;readData()&quot;</span>&gt;</span>点我读取一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;deleteData()&quot;</span>&gt;</span>点我删除一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;deleteAllData()&quot;</span>&gt;</span>点我清空一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> p=&#123;<span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">saveData</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg&#x27;</span>,<span class="string">&#x27;hello!!!&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 如果第二个参数没有写成字符串类型，则会强制转换为字符串类型</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg2&#x27;</span>,<span class="number">666</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 相当于p调用了tostring展示不出具体效果，只要第二个对象参数value不是string类型就会调用tostring</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg3&#x27;</span>,p)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// JSON.stringify(p)能将一个对象变成字符串的形式，并展示其中的内容</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;person&#x27;</span>,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(p))</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">readData</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg2&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg3&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// JSON.parse()方法可以将数据转换成js对象</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> result =<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;person&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(result));</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">deleteData</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;msg&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">deleteAllData</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">localStorage</span>.<span class="title function_">clear</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-8-2-sessionStorage"><a href="#3-8-2-sessionStorage" class="headerlink" title="3.8.2 sessionStorage"></a>3.8.2 sessionStorage</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>sessionStorage<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>sessionStorage<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;saveData()&quot;</span>&gt;</span>点我保存一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;readData()&quot;</span>&gt;</span>点我读取一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;deleteData()&quot;</span>&gt;</span>点我删除一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;deleteAllData()&quot;</span>&gt;</span>点我清空一个数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> p=&#123;<span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">saveData</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg&#x27;</span>,<span class="string">&#x27;hello!!!&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 如果第二个参数没有写成字符串类型，则会强制转换为字符串类型</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg2&#x27;</span>,<span class="number">666</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 相当于p调用了tostring展示不出具体效果，只要第二个对象参数value不是string类型就会调用tostring</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg3&#x27;</span>,p)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// JSON.stringify(p)能将一个对象变成字符串的形式，并展示其中的内容</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;person&#x27;</span>,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(p))</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">readData</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg2&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg3&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// JSON.parse()方法可以将数据转换成js对象</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> result =<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;person&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(result));</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">deleteData</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;msg&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">deleteAllData</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">sessionStorage</span>.<span class="title function_">clear</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-9-组件的自定义事件"><a href="#3-9-组件的自定义事件" class="headerlink" title="3.9 组件的自定义事件"></a>3.9 组件的自定义事件</h2><ol><li><p>一种组件间通信的方式，适用于<strong>子组件&#x3D;&#x3D;&#x3D;&gt;父组件</strong></p></li><li><p>使用场景：A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定自定义事件(事件的回调在A中)。</p></li><li><p>绑定自定义事件：</p><ol><li><p>第一种方式，在父组件中：<code>&lt;Demo @atguigu=&quot;test&quot;/&gt;</code>或<code>&lt;Demo v-on:atguigu=&quot;test&quot;/&gt;</code></p></li><li><p>第二种方式，在父组件中：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Demo</span> ref=<span class="string">&quot;demo&quot;</span>/&gt;</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">xxx</span>.$on(<span class="string">&#x27;atguigu&#x27;</span>,<span class="variable language_">this</span>.<span class="property">test</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>若想让自定义事件只能触发一次，可以使用<code>once</code>修饰符，或<code>$once</code>方法。</p></li></ol></li><li><p>触发自定义事件：<code>this.$emit(&#39;atguigu&#39;，数据)</code></p></li><li><p>解绑自定义事件 <code>this.$off(&#39;atguigu&#39;)</code></p></li><li><p>组件上也可以绑定原生DOM事件，需要使用<code>native</code>修饰符。</p></li><li><p>注意：通过 <code>this.$refs.xxx.$on(&#39;atguigu&#39;，回调)</code>绑定自定义事件时，回调<strong>要么配置在methods中，要么用箭头函数</strong>，否则this指向会出问题！</p></li></ol><h2 id="3-10-全局事件总线（GlobalEventBus"><a href="#3-10-全局事件总线（GlobalEventBus" class="headerlink" title="3.10 全局事件总线（GlobalEventBus)"></a>3.10 全局事件总线（GlobalEventBus)</h2><p><img src="/2024/04/09/vue2/04/09/vue2/c2001a9a40f4d59805acf5fca043bb8.jpg" alt="c2001a9a40f4d59805acf5fca043bb8"></p><ol><li><p>一种组件间通信的方式，适用于<strong>任意组件间通信</strong>。</p></li><li><p>安装全局事件总线：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">······</span><br><span class="line"><span class="title function_">beforeCreate</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span>= <span class="variable language_">this</span> <span class="comment">//安装全局事件总线，$bus就是当前应用的vm</span></span><br><span class="line">&#125;,</span><br><span class="line">······</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>使用事件总线：<br>1.接收数据：A组件想接收数据，则在A组件中给$bus绑定自定义事件，事件的回调留在A组件自身。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="title function_">demo</span>(<span class="params">data</span>)&#123;......&#125;</span><br><span class="line">&#125;</span><br><span class="line">······</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&#x27;xxxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.提供数据：<code>this.$bus.$emit（&#39;xxxx&#39;,数据）</code></p></li><li><p>最好在<code>beforeDestroy</code>钩子中，用<code>$off</code>去解绑<strong>当前组件所用到</strong>的事件。</p></li></ol><h2 id="3-11-消息订阅与发布-pubsub"><a href="#3-11-消息订阅与发布-pubsub" class="headerlink" title="3.11 消息订阅与发布(pubsub)"></a>3.11 消息订阅与发布(pubsub)</h2><ol><li><p>一种组件间通信的方式，适用于任意组件间通信。</p></li><li><p>使用步骤：</p><ol><li><p>安装pubsub:<code>npm i pubsub-js</code></p></li><li><p>引入：<code>import pubsub from&#39;pubsub-js&#39;</code></p></li><li><p>接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的<strong>回调留在A组件自身</strong>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="title function_">demo</span>(<span class="params">data</span>)&#123;......&#125;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">pid</span>=pubsub.<span class="title function_">subscribe</span>(<span class="string">&#x27;xxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>)<span class="comment">//订阅消息</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>提供数据：<code>pubsub.publish(&#39;xxx&#39;，数据)</code></p></li><li><p>最好在beforeDestroy钩子中，用<code>PubSub.unsubscribe(pid)</code>去<code>&lt;span style=&quot;color:red”＞取消订阅&lt;/span&gt;</code></p></li></ol></li></ol><h2 id="3-12-nextTick"><a href="#3-12-nextTick" class="headerlink" title="3.12 nextTick"></a>3.12 nextTick</h2><ol><li><p>语法:<code>this.$nextTick(function()&#123;&#125;)</code></p></li><li><p>作用：nextTick会等到下一次DMO更新完毕后执行其指定的回调函数</p></li><li><p>什么时候用:当改变数据后，要基于更新后的新的DOM进行某些操作时，要在nextTick所指定的回调函数中执行</p></li></ol><h2 id="3-13-Vue封装的过度与动画"><a href="#3-13-Vue封装的过度与动画" class="headerlink" title="3.13 Vue封装的过度与动画"></a>3.13 Vue封装的过度与动画</h2><ol><li><p>作用：在插入、更新或移除DOM元素时，在合适的时候给元素添加样式类名</p></li><li><p>图示：</p></li><li><p>写法：</p><ol><li><p>准备好样式：</p><ul><li>元素进入的样式：<ol><li>v-enter：进入的起点</li><li>v-enter-active：进入过程中</li><li>v-enter-to：进入的终点</li></ol></li><li>元素离开的样式：<ol><li>v-leave：离开的起点</li><li>v-leave-active：离开过程中</li><li>v-leave-to：离开的终点</li></ol></li></ul></li><li><p>使用<code>&lt;transition&gt;</code>包裹要过度的元素，并配置name属性：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>你好啊！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>备注：若有多个元素需要过度，则需要使用：<code>&lt;transition-group&gt;</code>，且每个元素都要指定key值。</p></li></ol></li></ol><h1 id="4-Vue中的Ajax"><a href="#4-Vue中的Ajax" class="headerlink" title="4. Vue中的Ajax"></a>4. Vue中的Ajax</h1><h2 id="4-1-vue脚手架配置代理-解决开发环境Ajax跨域问题"><a href="#4-1-vue脚手架配置代理-解决开发环境Ajax跨域问题" class="headerlink" title="4.1 vue脚手架配置代理(解决开发环境Ajax跨域问题)"></a>4.1 vue脚手架配置代理(解决开发环境Ajax跨域问题)</h2><p><strong>方法一</strong></p><p>​在vue.config.js中添加如下配置：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>:&#123;</span><br><span class="line"><span class="attr">proxy</span>:<span class="string">&quot;http://localhost:5000&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：</p><ol><li>优点：配置简单，请求资源时直接发给前端（8080）即可</li><li>缺点：不能配置多个代理，不能灵活的控制请求是否走代理</li><li>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器（优先匹配前端资源）</li></ol><p><strong>方法二</strong></p><p>​编写vue.config.js配置具体的代理规则</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">devServer</span>:&#123;</span><br><span class="line">    <span class="attr">proxy</span>:&#123;</span><br><span class="line">      <span class="string">&#x27;/api1&#x27;</span>:&#123;<span class="comment">//匹配所有以&#x27;/api1&#x27;开头的请求路径</span></span><br><span class="line">        <span class="attr">target</span>:<span class="string">&#x27;http://localhost:5000&#x27;</span>,<span class="comment">//代理目标的基础路径</span></span><br><span class="line">        <span class="attr">pathRewrite</span>:&#123;</span><br><span class="line">          <span class="string">&#x27;^/api1&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">ws</span>:<span class="literal">true</span>,<span class="comment">//用于支持websocket</span></span><br><span class="line">        <span class="attr">changeOrigin</span>:<span class="literal">true</span></span><br><span class="line">      &#125;，</span><br><span class="line">      <span class="string">&#x27;/api2&#x27;</span>:&#123;<span class="comment">//匹配所有以&#x27;/api2&#x27;开头的请求路径</span></span><br><span class="line">        <span class="attr">target</span>:<span class="string">&#x27;http://localhost:5001&#x27;</span>,<span class="comment">//代理目标的基础路径</span></span><br><span class="line">        <span class="attr">pathRewrite</span>:&#123;</span><br><span class="line">          <span class="string">&#x27;^/api2&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">ws</span>:<span class="literal">true</span>,<span class="comment">//用于支持websocket</span></span><br><span class="line">        <span class="attr">changeOrigin</span>:<span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000</span></span><br><span class="line"><span class="comment">change0rigin设置为false时，服务器收到的请求头中的host为：localhost:8080</span></span><br><span class="line"><span class="comment">changeOrigin默认值为true</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>说明：</p><ol><li><p>优点：可以配置多个代理，且可以灵活的控制请求是否走代理。</p></li><li><p>缺点：配置略微繁琐，请求资源时必须加前缀。</p></li></ol><h2 id="4-2-插槽"><a href="#4-2-插槽" class="headerlink" title="4.2 插槽"></a>4.2 插槽</h2><ol><li><p>作用：让父组件可以向子组件指定位置插入htm结构，也是一种组件间通信的方式，适用于<strong>父组件&#x3D;&#x3D;&#x3D;&gt;子组件</strong>。</p></li><li><p>分类：默认插槽、具名插槽、作用域插槽</p></li><li><p>使用方式：</p><ol><li><p>默认插槽：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">父组件中：</span><br><span class="line">    &lt;Category&gt;</span><br><span class="line">    &lt;div&gt;html结构1&lt;/div&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line">子组件中：</span><br><span class="line">    &lt;template&gt;</span><br><span class="line">        &lt;div&gt; </span><br><span class="line">            &lt;!--定义插槽--&gt;</span><br><span class="line">        &lt;slot&gt;插槽默认内容...&lt;/slot&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br></pre></td></tr></table></figure></li><li><p>具名插槽：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">父组件中：</span><br><span class="line">    &lt;Category&gt;</span><br><span class="line">        &lt;template slot=&quot;center&quot;&gt;</span><br><span class="line">        &lt;div&gt;html结构1&lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;template v-slot:footer&gt;</span><br><span class="line">        &lt;div&gt;html结构2&lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line">子组件中：</span><br><span class="line">    &lt;template&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;!--定义插槽--&gt;</span><br><span class="line">            &lt;slot name=&quot;center&quot;&gt;插槽默认内容...&lt;/slot&gt;</span><br><span class="line">            &lt;slot name=&quot;footer&quot;&gt;插槽默认内容...&lt;/slot&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br></pre></td></tr></table></figure></li><li><p>作用域插槽：</p><ol><li><p>理解：<strong>数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定</strong>。(games数据在Category组件中，但使用数据所遍历出来的结构由App组件决定)</p></li><li><p>具体编码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">父组件中：</span><br><span class="line">    &lt;Category&gt;</span><br><span class="line">        &lt;template scope=&quot;scopeData&quot;&gt;</span><br><span class="line">        &lt;!--生成的是ul列表 --&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">                &lt;li v-for=&quot;g in scopeData.games&quot;：key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/1i&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Category&gt;</span><br><span class="line">        &lt;template slot-scope=&quot;scopeData&quot;&gt;</span><br><span class="line">            &lt;!--生成的是h4标题 --&gt;</span><br><span class="line">            &lt;h4 v-for=&quot;g in scopeData.games&quot;：key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/h4&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">    &lt;/Category&gt;</span><br><span class="line">子组件中：</span><br><span class="line">    &lt;template&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;slot ：games=&quot;games&quot;&gt;&lt;/slot&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        export default [</span><br><span class="line">            name:&#x27;Category&#x27;,</span><br><span class="line">            props:[&#x27;title&#x27;], </span><br><span class="line">            //数据在子组件自身</span><br><span class="line">            data()&#123;</span><br><span class="line">                return&#123;</span><br><span class="line">                    games:[&#x27;蛋仔派对&#x27;,&#x27;桃园深处有人家&#x27;,&#x27;超级玛丽&#x27;,&#x27;地铁跑酷&#x27;]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol></li></ol></li></ol><h1 id="5-vuex"><a href="#5-vuex" class="headerlink" title="5. vuex"></a>5. vuex</h1><h2 id="5-1-理解-vuex"><a href="#5-1-理解-vuex" class="headerlink" title="5.1 理解 vuex+"></a>5.1 理解 vuex+</h2><h3 id="5-1-1-vuex-是什么"><a href="#5-1-1-vuex-是什么" class="headerlink" title="5.1.1 vuex 是什么"></a>5.1.1 vuex 是什么</h3><ol><li><p>概念：专门在Vue中实现集中式状态(数据)管理的一个Vue插件，对vue应用中多个组件的共享状态进行集中式的管理(读&#x2F;写)，也是一种组件间通信的方式，且适用于任意组件间通信。 </p></li><li><p>Github地址：<a href="https://github.com/vuejs/vuex">https://github.com/vuejs/vuex</a></p></li></ol><h3 id="5-1-2-什么时候使用-Vuex"><a href="#5-1-2-什么时候使用-Vuex" class="headerlink" title="5.1.2 什么时候使用 Vuex"></a>5.1.2 什么时候使用 Vuex</h3><ol><li><p>多个组件依赖于同一状态</p></li><li><p>来自不同组件的行为需要变更同一状态</p></li></ol><h2 id="5-2-搭建vuex环境"><a href="#5-2-搭建vuex环境" class="headerlink" title="5.2 搭建vuex环境"></a>5.2 搭建vuex环境</h2><ol><li><p>创建文件：<code>src/store/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引入Vue核心库</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">// 使用Vuex</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"><span class="comment">// 准备actions对象--用于响应组件中用户的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"><span class="comment">//准备mutations对象--修改state中的数据</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"><span class="comment">// 准备state对象--用于存储具体的数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 暴露store</span></span><br><span class="line"><span class="comment">// export default store</span></span><br></pre></td></tr></table></figure></li><li><p>在<code>main.js</code>中创建vm时传入<code>store</code>配置项</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入store</span></span><br><span class="line"><span class="keyword">import</span> store  <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line"><span class="comment">// 关闭生产提示</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">// 创建vm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  store,</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ol><h2 id="5-3-基本使用"><a href="#5-3-基本使用" class="headerlink" title="5.3 基本使用"></a>5.3 基本使用</h2><h3 id="5-3-1-actions-mutations-state的使用"><a href="#5-3-1-actions-mutations-state的使用" class="headerlink" title="5.3.1     actions,mutations,state的使用"></a>5.3.1     actions,mutations,state的使用</h3><ol><li><p>初始化数据、配置<code>actions</code>、配置<code>mutations</code>、操作文件<code>store.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// 引入vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">// 使用Vuex</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"><span class="comment">// 准备actions--用于响应组件中的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="title function_">jia</span>(<span class="params">context,value</span>)&#123;</span><br><span class="line">        <span class="comment">// context是简洁版的store里面有commit和dispatch，value是自己选择的n值即要加的值</span></span><br><span class="line">        <span class="comment">// console.log(&#x27;actions被调用了&#x27;,context,value);</span></span><br><span class="line">        context.<span class="title function_">commit</span>(<span class="string">&#x27;JIA&#x27;</span>,value)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">jian</span>(<span class="params">context,value</span>)&#123;</span><br><span class="line">        context.<span class="title function_">commit</span>(<span class="string">&#x27;JIAN&#x27;</span>,value)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">jiaOdd</span>(<span class="params">context,value</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(context.<span class="property">state</span>.<span class="property">sum</span>%<span class="number">2</span>)&#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&#x27;JIA&#x27;</span>,value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">jiaWait</span>(<span class="params">context,value</span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&#x27;JIA&#x27;</span>,value)</span><br><span class="line">        &#125;,<span class="number">500</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 准备mutations--用于操作数据(state)</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="title function_">JIA</span>(<span class="params">state,value</span>)&#123;</span><br><span class="line">        <span class="comment">// console.log(&#x27;mutations被调用了&#x27;,state,value);</span></span><br><span class="line">        state.<span class="property">sum</span>+=value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">JIAN</span>(<span class="params">state,value</span>)&#123;</span><br><span class="line">        state.<span class="property">sum</span>-=value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 准备state--用于存储数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">sum</span>:<span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 暴露store</span></span><br><span class="line"><span class="comment">// export default store</span></span><br></pre></td></tr></table></figure></li><li><p>组件中读取vuex中的数据：<code>$store.state.sum</code></p></li><li><p>组件中修改vuex中的数据：<code>$store.dispatch(&#39;action中的方法名&#39;,数据)</code>或<code>$store.commit(&#39;mutations中的方法名&#39;,数据)</code></p><p><strong>备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写<code>dispatch</code>，直接编写<code>commit</code></strong></p></li></ol><h3 id="5-3-2-getters的使用"><a href="#5-3-2-getters的使用" class="headerlink" title="5.3.2 getters的使用"></a>5.3.2 getters的使用</h3><ol><li><p>概念：当state中的数据需要经过加工后再使用时，可以用getters加工</p></li><li><p>在<code>store.js</code>中追加<code>getters</code>配置</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line"><span class="keyword">const</span> getters=&#123;</span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">sum</span>*<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">......</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>组件中读取数据：<code>&#123;&#123;$store.getters.bigSum&#125;&#125;</code></p></li></ol><h3 id="5-3-3-四个map方法的使用"><a href="#5-3-3-四个map方法的使用" class="headerlink" title="5.3.3 四个map方法的使用"></a>5.3.3 四个map方法的使用</h3><ol><li><p><strong>mapState方法</strong>：用于帮助我们映射<code>state</code>中的数据为计算属性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line"><span class="comment">// 借助mapState生成计算属性，从state中读取数据（对象写法）</span></span><br><span class="line">    ...<span class="title function_">mapState</span>(&#123;<span class="attr">he</span>:<span class="string">&#x27;sum&#x27;</span>,<span class="attr">xuexiao</span>:<span class="string">&#x27;school&#x27;</span>,<span class="attr">xueke</span>:<span class="string">&#x27;subject&#x27;</span>&#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 借助mapState生成计算属性，从state中读取数据（数组写法）</span></span><br><span class="line">    ...<span class="title function_">mapState</span>([<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>]),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p><strong>mapGetters方法</strong>：用于帮助我们映射<code>getters</code>中的数据为计算属性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line"><span class="comment">// 借助mapGetters生成计算属性，从getters中读取数据（对象写法）</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>(&#123;<span class="attr">bigSum</span>:<span class="string">&#x27;bigSum&#x27;</span>&#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 借助mapGetters生成计算属性，从getters中读取数据（数组写法）</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;bigSum&#x27;</span>])</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p><strong>mapMutations方法</strong>：用于帮助我们生成与mutations对话的方法,即：包含<code>$store.commit(xxx)</code>的函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="comment">// 借助mapMutations生成对应的方法方法中会调用commit去联系mutations（对象写法）</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>(&#123;<span class="attr">increment</span>:<span class="string">&#x27;JIA&#x27;</span>,<span class="attr">decrement</span>:<span class="string">&#x27;JIA&#x27;</span>&#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 借助mapMutations生成对应的方法方法中会调用commit去联系mutations（数组写法）</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>([<span class="string">&#x27;JIA&#x27;</span>,<span class="string">&#x27;JIAN&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>mapActions方法</strong>：用于帮助我们生成与actions对话的方法,即：包含<code>$store.dispatch(xxx)</code>的函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="comment">// 借助mapActions生成对应的方法方法中会调用dispatch去联系actions（对象写法）</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>(&#123;<span class="attr">incrementOdd</span>:<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="attr">incrementWait</span>:<span class="string">&#x27;jiaWait&#x27;</span>&#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 借助mapActions生成对应的方法方法中会调用dispatch去联系actions（数组写法）</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>([<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="string">&#x27;jiaWait&#x27;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p><strong>备注：mapActions和mapMutations使用时，若需要传递参数需要：在模板中绑定事件时传好参数，否则参数是事件对象</strong></p><h3 id="5-3-4-模块化-命名空间"><a href="#5-3-4-模块化-命名空间" class="headerlink" title="5.3.4 模块化+命名空间"></a>5.3.4 模块化+命名空间</h3><ol><li><p>目的：让代码更好维护，让多种数据分类更加明确</p></li><li><p>修改<code>store.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countAbout = &#123;</span><br><span class="line">    <span class="attr">namespaced</span>:<span class="literal">true</span>,<span class="comment">//开启命名空间</span></span><br><span class="line">    <span class="attr">state</span>:&#123;x,<span class="number">1</span>&#125;,</span><br><span class="line">    <span class="attr">actions</span>:&#123;......&#125;,</span><br><span class="line"><span class="attr">mutations</span>:&#123;......&#125;,</span><br><span class="line"><span class="attr">getters</span>:&#123;</span><br><span class="line">        <span class="title function_">bigSum</span>(<span class="params">state</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> state.<span class="property">sum</span>*<span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">             </span><br><span class="line"><span class="keyword">const</span> personAbout = &#123;</span><br><span class="line">    <span class="attr">namespaced</span>:<span class="literal">true</span>,<span class="comment">//开启命名空间</span></span><br><span class="line">    <span class="attr">state</span>:&#123; ... &#125;,</span><br><span class="line">    <span class="attr">actions</span>:&#123;......&#125;,</span><br><span class="line"><span class="attr">mutations</span>:&#123;......&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建并暴露store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">modules</span>:&#123;</span><br><span class="line">        countAbout,</span><br><span class="line">        personAbout</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;)             </span><br></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中读取state数据:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接读取</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">personAbout</span>.<span class="property">personList</span></span><br><span class="line"><span class="comment">//方式二：借助mapGetters读取</span></span><br><span class="line">...<span class="title function_">mapState</span>(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>])</span><br></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中读取getters数据:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接读取</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>[<span class="string">&#x27;personAbout/firstPersonName&#x27;</span>]</span><br><span class="line"><span class="comment">//方式二：借助mapGetters读取</span></span><br><span class="line">...<span class="title function_">mapGetters</span>(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;bigSum&#x27;</span>])</span><br></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中调用dispatch</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接dispatch</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;personAbout/addPersonWang&#x27;</span>,personObj)</span><br><span class="line"><span class="comment">//方式二：借助mapActions</span></span><br><span class="line">...<span class="title function_">mapActions</span>(<span class="string">&#x27;countAbout&#x27;</span>,&#123;<span class="attr">incrementOdd</span>:<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="attr">incrementWait</span>:<span class="string">&#x27;jiaWait&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中调用commit</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：自己直接commit</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;personAbout/ADD_PERSON&#x27;</span>,personObj)</span><br><span class="line"><span class="comment">//方式二：借助mapMutations</span></span><br><span class="line">...<span class="title function_">mapMutations</span>(<span class="string">&#x27;countAbout&#x27;</span>,&#123;<span class="attr">increment</span>:<span class="string">&#x27;JIA&#x27;</span>,<span class="attr">decrement</span>:<span class="string">&#x27;JIA&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure></li></ol><h1 id="6-vue-router"><a href="#6-vue-router" class="headerlink" title="6. vue-router"></a>6. vue-router</h1><p>路由：</p><ol><li>理解：一个路由(route)就是一组映射关系(key-value),多个路由需要路由器（route)进行管理</li><li>前端路由：key是路径，value是组件</li></ol><h2 id="6-1-基本路由"><a href="#6-1-基本路由" class="headerlink" title="6.1 基本路由"></a>6.1 基本路由</h2><h3 id="6-1-1-基本使用"><a href="#6-1-1-基本使用" class="headerlink" title="6.1.1 基本使用"></a>6.1.1 基本使用</h3><ol><li><p>安装vue-router,命令：<code>npm i vue-router</code>(如果是vue2则是：<code>npm i vue-router@3</code>)</p></li><li><p>应用插件：<code>Vue.use(VueRouter)</code></p></li><li><p>编写router配置项：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该文件专门用于创建整个应用的路由器</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="comment">// 引入组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;../components/About&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Home&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个路由器</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">About</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Home</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//暴露router</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure></li><li><p>实现切换（active-class可配置高亮样式）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">&quot;list-group-item&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>指定展示位置</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="6-1-2-几个注意点"><a href="#6-1-2-几个注意点" class="headerlink" title="6.1.2 几个注意点"></a>6.1.2 几个注意点</h3><ol><li><p>路由组件通常存放在pages文件夹，一般组件通常存放在components文件夹。</p></li><li><p>通过切换，“隐藏”了的路由组件，默认是被销毁掉的，需要的时候再去挂载。</p></li><li><p>每个组件都有自己的$route属性，里面存储着自己的路由信息。</p></li><li><p>整个应用只有一个router，可以通过组件的$router属性获取到。</p></li></ol><h2 id="6-2-嵌套（多级）路由"><a href="#6-2-嵌套（多级）路由" class="headerlink" title="6.2 嵌套（多级）路由"></a>6.2 嵌套（多级）路由</h2><ol><li><p>配置路由规则，使用children配置项</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建并暴露一个路由器</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">About</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Home</span>,</span><br><span class="line">            <span class="attr">children</span>:[ <span class="comment">//通过children配置子级路由</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>, <span class="comment">//此处一定不要写：/news</span></span><br><span class="line">                    <span class="attr">component</span>:<span class="title class_">News</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">path</span>:<span class="string">&#x27;message&#x27;</span>, <span class="comment">//此处一定不要写：/message</span></span><br><span class="line">                    <span class="attr">component</span>:<span class="title class_">Message</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>跳转（要写完整路径）：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">&quot;list-group-item &quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">to</span>=<span class="string">&quot;/home/news&quot;</span>&gt;</span>News<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="6-3-路由传参"><a href="#6-3-路由传参" class="headerlink" title="6.3 路由传参"></a>6.3 路由传参</h2><h3 id="6-3-1-路由的query参数"><a href="#6-3-1-路由的query参数" class="headerlink" title="6.3.1 路由的query参数"></a>6.3.1 路由的query参数</h3><ol><li><p>传递参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 跳转路由并携带query参数，to的字符串写法 --&gt;</span><br><span class="line">&lt;!-- <span class="language-xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;`/home/message/detail?id=$&#123;m.id&#125;&amp;title=$&#123;m.title&#125;`&quot;</span>&gt;</span>&#123;&#123;m.title&#125;&#125;<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span>&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 跳转路由并携带query参数，to的对象写法 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">    path:&#x27;/home/message/detail&#x27;,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">    query:&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        id:m.id,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        title:m.title</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">    &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">&#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &#123;&#123;m.title&#125;&#125;</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li><p>接收参数</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;$route.query.id&#125;&#125;</span><br><span class="line">&#123;&#123;$route.query.title&#125;&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="6-3-2-命名路由"><a href="#6-3-2-命名路由" class="headerlink" title="6.3.2 命名路由"></a>6.3.2 命名路由</h3><ol><li><p>作用：可以简化路由的跳转</p></li><li><p>如何使用</p><ol><li><p>给路由命名：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">Home</span>,</span><br><span class="line">    <span class="attr">children</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">News</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Message</span>,</span><br><span class="line">            <span class="attr">children</span>:[</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,<span class="comment">//给路由命名</span></span><br><span class="line">                    <span class="attr">path</span>:<span class="string">&#x27;detail&#x27;</span>,</span><br><span class="line">                    <span class="attr">component</span>:<span class="title class_">Detail</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>简化跳转：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 简化前需要些完整的路径 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;/home/message/detail&quot;</span>&gt;</span>跳转<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 简化后，直接通过名字跳转 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;name:&#x27;xiangqing&#x27;&#125;&quot;</span>&gt;</span>跳转<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 简化写法配合传递参数 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-link</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml"><span class="attr">:to</span>=<span class="string">&quot;&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        name:&#x27;xiangqing&#x27;,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        query:&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            id:m.id,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            title:m.title</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">    &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">&#125;&quot;</span>&gt;</span>跳转<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li></ol></li></ol><h3 id="6-3-3-路由的params参数"><a href="#6-3-3-路由的params参数" class="headerlink" title="6.3.3 路由的params参数"></a>6.3.3 路由的params参数</h3><ol><li><p>配置路由，声明接受params参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Home</span>,</span><br><span class="line">            <span class="attr">children</span>:[</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">                    <span class="attr">component</span>:<span class="title class_">News</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">path</span>:<span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">                    <span class="attr">component</span>:<span class="title class_">Message</span>,</span><br><span class="line">                    <span class="attr">children</span>:[</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">                            <span class="attr">path</span>:<span class="string">&#x27;detail/:id/:title&#x27;</span>,<span class="comment">//使用占位符声明接受params参数</span></span><br><span class="line">                            <span class="attr">component</span>:<span class="title class_">Detail</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;,</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li><li><p>传递参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 跳转路由并携带params参数，to的字符串写法 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;`/home/message/detail/$&#123;m.id&#125;/$&#123;m.title&#125;`&quot;</span>&gt;</span>&#123;&#123;m.title&#125;&#125;<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span>&amp;nbsp;&amp;nbsp;</span><br><span class="line"></span><br><span class="line">&lt;!-- 跳转路由并携带params参数，to的对象写法,不允许使用path只能用name --&gt;</span><br><span class="line">&lt;!-- <span class="attr">path</span>:<span class="string">&#x27;/home/message/detail&#x27;</span>, --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">    name:&#x27;xiangqing&#x27;,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">    params:&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        id:m.id,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        title:m.title</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">    &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">&#125;&quot;</span>&gt;</span>&#123;&#123;m.title&#125;&#125;<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><strong>特别注意：路由携带params参数时，若使用to的对象写法,则不能使用使用path配置项，必须使用name配置！！！</strong></p></li><li><p>接收参数：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;$route.<span class="property">params</span>.<span class="property">id</span>&#125;&#125;</span><br><span class="line">&#123;&#123;$route.<span class="property">params</span>.<span class="property">title</span>&#125;&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="6-3-4-路由的props配置"><a href="#6-3-4-路由的props配置" class="headerlink" title="6.3.4 路由的props配置"></a>6.3.4 路由的props配置</h3><p>作用：让路由组件更方便的收到参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;detail/:id/:title&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">Detail</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// props的第一种写法，值为对象，该对象中的所有key-value都会以props的形式传给Detail组件</span></span><br><span class="line">    <span class="comment">// props:&#123;a:1,b:&#x27;hello&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// props的第二种写法，值为布尔值，若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传给Detail组件</span></span><br><span class="line">    <span class="comment">// props:true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// props的第三种写法，值为函数,函数有三中写法，并且同时适用于params和query</span></span><br><span class="line">    <span class="title function_">props</span>(<span class="params">$route</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">id</span>:$route.<span class="property">params</span>.<span class="property">id</span>,</span><br><span class="line">            <span class="attr">title</span>:$route.<span class="property">params</span>.<span class="property">title</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// props(&#123;params&#125;)&#123;</span></span><br><span class="line">    <span class="comment">//     return &#123;</span></span><br><span class="line">    <span class="comment">//         id:params.id,</span></span><br><span class="line">    <span class="comment">//         title:params.title</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// props(&#123;params:&#123;id,title&#125;&#125;)&#123;</span></span><br><span class="line">    <span class="comment">//     return &#123;</span></span><br><span class="line">    <span class="comment">//         id,</span></span><br><span class="line">    <span class="comment">//         title</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-4-编程式路由导航"><a href="#6-4-编程式路由导航" class="headerlink" title="6.4 编程式路由导航"></a>6.4 编程式路由导航</h2><ol><li><p>作用：不借助<code>&lt;router-link&gt;</code>实现路由跳转，让路由跳转更加灵活</p></li><li><p>具体编码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//$router的两个API</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">    <span class="attr">params</span>:&#123;</span><br><span class="line">        <span class="attr">id</span>:m.<span class="property">id</span>,</span><br><span class="line">        <span class="attr">title</span>:m.<span class="property">title</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line">    <span class="attr">params</span>:&#123;</span><br><span class="line">        <span class="attr">id</span>:m.<span class="property">id</span>,</span><br><span class="line">        <span class="attr">title</span>:m.<span class="property">title</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//前进</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">back</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//后退</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">forward</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//可前进可后退</span></span><br><span class="line"><span class="comment">// 值为负数的时候向后退，数字绝对值为几，就后退几步，值为正数时，前进，数字为几，就前进几步</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">go</span>(-<span class="number">2</span>)</span><br></pre></td></tr></table></figure></li></ol><h2 id="6-5-缓存路由组件"><a href="#6-5-缓存路由组件" class="headerlink" title="6.5 缓存路由组件"></a>6.5 缓存路由组件</h2><ol><li><p>作用：让不展示的路由组件保持挂载，不被销毁</p></li><li><p>具体编码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//缓存一个组件</span><br><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">include</span>=<span class="string">&quot;News&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line"></span><br><span class="line">//缓存多个组件</span><br><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">:include</span>=<span class="string">&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line"></span><br><span class="line">//缓存所有组件</span><br><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="6-6-两个新的生命周期钩子-activated-deactivated"><a href="#6-6-两个新的生命周期钩子-activated-deactivated" class="headerlink" title="6.6 两个新的生命周期钩子(activated,deactivated)"></a>6.6 两个新的生命周期钩子(activated,deactivated)</h2><ol><li>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态</li><li>具体名字：<ol><li><code>activated</code>路由组件<strong>被激活</strong>时触发</li><li><code>deactivated</code>路由组件<strong>失活</strong>时触发</li></ol></li></ol><p><strong>注意：必须在有<code>&lt;keep-alive include=&quot;News&quot;&gt;&lt;/keep-alive&gt;</code>的情况下使用才生效</strong></p><h2 id="6-7-路由守卫"><a href="#6-7-路由守卫" class="headerlink" title="6.7 路由守卫"></a>6.7 路由守卫</h2><ol><li><p>作用：对路由进行权限控制</p></li><li><p>分类：全局守卫，独享守卫，组件守卫</p></li><li><p>全局守卫</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局前置路由守卫————初始化的时候被调用，每次路由切换之前被调用</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123;<span class="comment">//判断是否需要鉴权</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>)===<span class="string">&#x27;南阳理工学院&#x27;</span>)&#123;</span><br><span class="line">            <span class="title function_">next</span>()</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&#x27;不属于南阳理工学院，无权查看！！！&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="title function_">next</span>()<span class="comment">//放行</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局后置路由守卫————初始化的时候被调用，每次路由切换之后被调用</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span></span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span>=to.<span class="property">meta</span>.<span class="property">title</span> || <span class="string">&#x27;vue_test&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>独享守卫</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">beforeEnter</span>:(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;独享路由守卫&#x27;</span>,to,<span class="keyword">from</span>);</span><br><span class="line">    <span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123;<span class="comment">//判断是否需要鉴权</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>)===<span class="string">&#x27;南阳理工学院&#x27;</span>)&#123;</span><br><span class="line">            <span class="title function_">next</span>()</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&#x27;不属于南阳理工学院，无权查看！！！&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="title function_">next</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>组件守卫</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 进入守卫：通过路由规则，进入该组件时被调用</span></span><br><span class="line"><span class="attr">beforeRouteEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;About--beforeRouterEnter&#x27;</span>,to,<span class="keyword">from</span>);</span><br><span class="line">    <span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123;<span class="comment">//判断是否需要鉴权</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>)===<span class="string">&#x27;南阳理工学院&#x27;</span>)&#123;</span><br><span class="line">            <span class="title function_">next</span>()</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&#x27;不属于南阳理工学院，无权查看！！！&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="title function_">next</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// 离开守卫：通过路由规则，离开该组件时被调用</span></span><br><span class="line">beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="6-8-路由器的两种工作模式-hash-history"><a href="#6-8-路由器的两种工作模式-hash-history" class="headerlink" title="6.8 路由器的两种工作模式(hash,history)"></a>6.8 路由器的两种工作模式(hash,history)</h2><ol><li><p>对于一个url来说，什么是hash值？——#及其后面的内容就是hash值。</p></li><li><p>hash值不会包含在HTTP请求中，即：hash值不会带给服务器。</p></li><li><p>hash模式：</p><ol><li>地址中永远带着#号，不美观。</li><li>若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法。</li><li>兼容性较好。</li></ol></li><li><p>history模式：</p><ol><li><p>地址干净，美观。</p></li><li><p>兼容性和hash模式相比略差。</p></li><li><p>应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题。</p></li></ol></li></ol><p><strong>用node express框架搭建一个微型服务器</strong></p><ol><li><p>新建文件夹，用vscode打开，在终端运行<code>npm init</code>将express变为一个合法的包</p></li><li><p>在终端安装express,<code>npm i express</code>安装</p></li><li><p>在新建文件夹上，新建server.js文件，搭建微型服务器</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// 创建一个app实力对象</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"><span class="comment">// 配置一个后端路由 </span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/person&#x27;</span>,<span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// response给客户端返回东西</span></span><br><span class="line">    response.<span class="title function_">send</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;tom&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 端口监听</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">5005</span>,<span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;服务器启动成功了！&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p><code>node server</code>启动服务器</p></li></ol><p><strong>解决node.js里面history404问题</strong></p><ol><li><p>在服务器终端安装中间件：<code>npm i connect-history-api-fallback</code></p></li><li><p>在服务器中引入：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> history = <span class="built_in">require</span>(<span class="string">&#x27;connect-history-api-fallback&#x27;</span>)</span><br></pre></td></tr></table></figure></li><li><p>应用中间件（在静态资源<code>app.use(express.static(__dirname+&#39;/static&#39;))</code>之前使用）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(<span class="title function_">history</span>())</span><br></pre></td></tr></table></figure></li></ol><h1 id="7-Vue-UI组件库"><a href="#7-Vue-UI组件库" class="headerlink" title="7. Vue UI组件库"></a>7. Vue UI组件库</h1><h2 id="7-1-移动端常用UI-组件库"><a href="#7-1-移动端常用UI-组件库" class="headerlink" title="7.1 移动端常用UI 组件库"></a>7.1 移动端常用UI 组件库</h2><ol><li>Vant <a href="https://youzan.github.io/vant">https://youzan.github.io/vant</a></li><li>Cube UI <a href="https://didi.github.io/cube-ui">https://didi.github.io/cube-ui</a></li><li>Mint UI <a href="http://mint-ui.github.io/">http://mint-ui.github.io</a></li></ol><h2 id="7-2-PC端常用-UI组件库"><a href="#7-2-PC端常用-UI组件库" class="headerlink" title="7.2 PC端常用 UI组件库"></a>7.2 PC端常用 UI组件库</h2><ol><li>Element UI <a href="https://element.eleme.cn/">https://element.eleme.cn</a></li><li>IView UI <a href="https://www.iviewui.com/">https://www.iviewui.com</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>HTML简介</title>
      <link href="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/"/>
      <url>/2023/10/25/HTML%E7%AE%80%E4%BB%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="HTML标签（上）"><a href="#HTML标签（上）" class="headerlink" title="HTML标签（上）"></a>HTML标签（上）</h1><h2 id="1-网页"><a href="#1-网页" class="headerlink" title="1.网页"></a>1.网页</h2><h3 id="1-1-什么是网页"><a href="#1-1-什么是网页" class="headerlink" title="1.1 什么是网页"></a>1.1 什么是网页</h3><p>网页是构成网站的基本元素，通常由图片，连接，文字，声音，视频等元素组成，常见以.htm或.html后缀结尾的文件，成为HTML文件</p><h3 id="1-2-什么是HMTL"><a href="#1-2-什么是HMTL" class="headerlink" title="1.2 什么是HMTL"></a>1.2 什么是HMTL</h3><p>HTML指的是超文本<strong>标记语言</strong>（含义1、超越了文本限制2、超级链接文本）</p><h3 id="1-3-网页的形成"><a href="#1-3-网页的形成" class="headerlink" title="1.3 网页的形成"></a>1.3 网页的形成</h3><p>网页是由网页元素组成，通过HTML标签描述出来，通过浏览器解析来显示给用户的</p><h2 id="2-常用浏览器"><a href="#2-常用浏览器" class="headerlink" title="2.常用浏览器"></a>2.常用浏览器</h2><h3 id="浏览器内核"><a href="#浏览器内核" class="headerlink" title="浏览器内核"></a>浏览器内核</h3><p>浏览器内核：负责读取网页内容，整理讯息，计算网页的显示方式并显示页面。目前国内一般浏览器会采用Webkit&#x2F;Blink内核，如360，UC，QQ，搜狗等</p><h2 id="3-Web标准"><a href="#3-Web标准" class="headerlink" title="3.Web标准"></a>3.Web标准</h2><p>Web标准是由W3C组织和其他标准化组织制定的一系列标准的集合。W3C（万维网联盟）是国际最著名的标准化组织</p><h3 id="3-1-为什么需要Web标准"><a href="#3-1-为什么需要Web标准" class="headerlink" title="3.1 为什么需要Web标准"></a>3.1 为什么需要Web标准</h3><ol><li>让Web的发展前景更广阔</li><li>内容能被更广泛的设备访问</li><li>更容易被搜索引擎搜索</li><li>页面更统一，更标准</li><li>提高网页浏览速度</li></ol><h3 id="3-2Web标准的构成"><a href="#3-2Web标准的构成" class="headerlink" title="3.2Web标准的构成"></a>3.2Web标准的构成</h3><p>主要包括<strong>结构、表现和行为</strong>三个方面</p><ol><li>结构：结构用于对网页元素进行整理和分类，现阶段主要学的是HTML</li><li>表现：表现用于设置网页元素的版式、颜色、大小等外观样式，主要指的是CSS</li><li>行为：行为指的是网页模型的定义及交互的编写，现阶段主要学的是Javascript</li></ol><h2 id="4-HTML语法规范"><a href="#4-HTML语法规范" class="headerlink" title="4.HTML语法规范"></a>4.HTML语法规范</h2><h3 id="4-1-基本语法概述"><a href="#4-1-基本语法概述" class="headerlink" title="4.1 基本语法概述"></a>4.1 基本语法概述</h3><ol><li>HTML标签是<strong>由尖括号包围的关键词</strong>，例如**<html>**</html></li><li>HTML标签<strong>通常是成对出现的</strong>，例<html>和</html>，我们称为<strong>双标签</strong>。标签对中的第一个标签是开始标签，第二个标签是结束标签</li><li>有些特殊的标签必须是单个标签(极少情况)，例如<code>&lt;br/&gt;</code>，我们称为<strong>单标签</strong></li></ol><h3 id="4-2-标签关系"><a href="#4-2-标签关系" class="headerlink" title="4.2 标签关系"></a>4.2 标签关系</h3><p> 双标签关系可以分为两类：<strong>包含关系</strong>和<strong>并列关系</strong></p><h4 id="4-2-1包含关系"><a href="#4-2-1包含关系" class="headerlink" title="4.2.1包含关系"></a>4.2.1包含关系</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="4-2-2并列关系"><a href="#4-2-2并列关系" class="headerlink" title="4.2.2并列关系"></a>4.2.2并列关系</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="5-HTML基本结构标签"><a href="#5-HTML基本结构标签" class="headerlink" title="5.HTML基本结构标签"></a>5.HTML基本结构标签</h2><h3 id="5-1-第一个HTML网页"><a href="#5-1-第一个HTML网页" class="headerlink" title="5.1 第一个HTML网页"></a>5.1 第一个HTML网页</h3><p>每一个网页都会有一个基本的结构标签（也成为股价标签），页面内容也是在这些基本标签上书写的，HTML页面也成为HTML文档</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span> //HTML标签：页面中最大的标签，称为根标签</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span> //文档的头部：注意在head标签中我们必须要设置的标签是title</span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span> //文档的标题：让页面拥有一个属于自己的网页标题</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span> //文档的主体：元素包含文档的所有内容，页面内容基本都是放在body里面的</span><br><span class="line">     主体内容</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>HTML文档的后缀必须是.html或.htm</strong></p><h2 id="6-网页开发工具"><a href="#6-网页开发工具" class="headerlink" title="6.网页开发工具"></a>6.网页开发工具</h2><h3 id="6-1-文档类型声明标签"><a href="#6-1-文档类型声明标签" class="headerlink" title="6.1 文档类型声明标签"></a>6.1 文档类型声明标签</h3><!DOCPYTE><p>文档类型声明，作用就是告诉浏览器使用哪种HTML版本来显示网页</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCPYTE <span class="keyword">html</span>&gt;</span> //当前页面采取的是HTML5版本来显示网页</span><br><span class="line">注意：1.<span class="meta">&lt;!DOCPYTE&gt;</span>声明位于文档中的最前面的位置，处于<span class="tag">&lt;<span class="name">html</span>&gt;</span>标签之前</span><br><span class="line"> 2.<span class="meta">&lt;!DOCPYTE&gt;</span>不是一个HTML标签，它就是一个文档类型声明标签</span><br></pre></td></tr></table></figure><h3 id="6-2-lang语言种类"><a href="#6-2-lang语言种类" class="headerlink" title="6.2 lang语言种类"></a>6.2 lang语言种类</h3><p>用来定义当前文档显示的语言</p><ol><li>en定义语言为中文</li><li>zh-CN定义语言为中文</li></ol><h3 id="6-3-字符集"><a href="#6-3-字符集" class="headerlink" title="6.3 字符集"></a>6.3 字符集</h3><p>字符集是多个字符的集合，在<head>标签内，可以通过<meta>标签的charset属性来规定HTML文档应该用哪种字符编码</head></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span> //charset常用的值有GB2312（简体中文）、BIG5（繁体中文）、GBK（简体中文和繁体中文）、UTF-8（万国码，基本包含了全世界所有国家用到的所有字符）</span><br></pre></td></tr></table></figure><h2 id="7-HTML常用标签"><a href="#7-HTML常用标签" class="headerlink" title="7.HTML常用标签"></a>7.HTML常用标签</h2><h3 id="7-1-标题标签"><a href="#7-1-标题标签" class="headerlink" title="7.1 标题标签&lt;h1&gt;-&lt;h6&gt;"></a>7.1 标题标签<code>&lt;h1&gt;-&lt;h6&gt;</code></h3><p>HTML提供了6个等级的网页标题<code>&lt;h1&gt;-&lt;h6&gt;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是一级标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"> //h是指head的缩写，意为头部、标题</span><br><span class="line"> //标签语义：作为标题使用，并且依据重要性递减，即h1最大，依次递减</span><br></pre></td></tr></table></figure><p>特点：</p><ol><li>加了标题的文字会变得加粗，字号也会一次变大</li><li>一个标题独占一行</li></ol><h3 id="7-2-段落标签"><a href="#7-2-段落标签" class="headerlink" title="7.2 段落标签&lt;p&gt;"></a>7.2 段落标签<code>&lt;p&gt;</code></h3><p><code>&lt;p&gt;</code>标签用于定义段落，将整个网页分为若干个段落</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>我是一个段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">//标签语义：可以把HTML文档分割为若干段落</span><br></pre></td></tr></table></figure><p>特点：</p><ol><li>文本在一个段落中会根据浏览器窗口的大小自动切换</li><li>段落和段落之间保有空隙</li></ol><h3 id="7-3-换行标签"><a href="#7-3-换行标签" class="headerlink" title="7.3 换行标签&lt;br /&gt;"></a>7.3 换行标签<code>&lt;br /&gt;</code></h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">//单词break的缩写，意为打断，换行</span><br><span class="line">//标签语义：强制换行</span><br></pre></td></tr></table></figure><p>特点：</p><ol><li><code>&lt;br /&gt;</code>是一个<strong>单标签</strong></li><li><code>&lt;br /&gt;</code>标签只是简单的开始新的一行，跟段落不一样，段落之间会插入一些垂直的间距</li></ol><h3 id="7-4-文本格式化标签"><a href="#7-4-文本格式化标签" class="headerlink" title="7.4 文本格式化标签"></a>7.4 文本格式化标签</h3><p>在网页中，有时候需要为文字设置*<em>粗体，</em>斜体*或者<u>下划线</u>**等效果，这时候就需要用到HTML中的文本格式化标签，使文字以特殊的方式显示 </p><p>标签语义：突出重要性，比普通文字更重要     </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span> //加粗     </span><br><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span> //加粗     </span><br><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">em</span>&gt;</span> //倾斜     </span><br><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> //倾斜     </span><br><span class="line"><span class="tag">&lt;<span class="name">del</span>&gt;</span><span class="tag">&lt;/<span class="name">del</span>&gt;</span> //删除线     </span><br><span class="line"><span class="tag">&lt;<span class="name">s</span>&gt;</span><span class="tag">&lt;/<span class="name">s</span>&gt;</span> //删除线     </span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span>&gt;</span><span class="tag">&lt;/<span class="name">ins</span>&gt;</span> //下划线     </span><br><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span><span class="tag">&lt;/<span class="name">u</span>&gt;</span> //下划线</span><br></pre></td></tr></table></figure><h3 id="7-5和标签"><a href="#7-5和标签" class="headerlink" title="7.5&lt;div&gt;和&lt;span&gt;标签"></a>7.5<code>&lt;div&gt;</code>和<code>&lt;span&gt;</code>标签</h3><p> <code>&lt;div&gt;</code>和<code>&lt;span&gt;</code>标签是没有语义的，它们就是一个盒子，用来装内容的</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>这是头部<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">//div是division的缩写，表示分割、分区</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>今日价格<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">//span意为跨度、跨距</span><br></pre></td></tr></table></figure><p>特点：</p><ol><li><code>&lt;div&gt;</code>标签用来布局，但现在一行只能放一个<code>&lt;div&gt;</code>，<strong>大盒子</strong></li><li><code>&lt;span&gt;</code>标签用来布局，一行可以放多个<code>&lt;span&gt;</code>，<strong>小盒子</strong></li></ol><h3 id="7-6图像标签和路径"><a href="#7-6图像标签和路径" class="headerlink" title="7.6图像标签和路径"></a>7.6图像标签和路径</h3><h4 id="7-6-1图像标签"><a href="#7-6-1图像标签" class="headerlink" title="7.6.1图像标签"></a>7.6.1图像标签</h4><p>在HTML标签中，<code>&lt;img&gt;</code>标签用于定义HTML页面中的图像</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;图像URL&quot;</span> /&gt;</span></span><br><span class="line">//单词image的缩写，意为图像</span><br><span class="line">//src是<span class="tag">&lt;<span class="name">img</span>&gt;</span>标签的必须属性，它用于指定图像文件的路径和文件名</span><br><span class="line">//所谓属性：就是这个图像标签的特性</span><br></pre></td></tr></table></figure><p>图像标签的其它属性</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src  :图片路径//必须属性</span><br><span class="line">alt  :文本  //替换文本，图像不能显示的文字</span><br><span class="line">title :文本  //提示文本，鼠标放在图像上，显示的文字</span><br><span class="line">width :像素  //设置图像的宽度</span><br><span class="line">height :像素  //设置图像的高度</span><br><span class="line">border :像素  //设置图像的边框粗细</span><br></pre></td></tr></table></figure><p>图像属性标签注意点：</p><ol><li>图像标签可以拥有多个属性，必须写在标签的后面</li><li>属性之间不分先后顺序，标签名与属性，属性与属性之间均以空格隔开</li><li>属性采取键值对的格式，即key&#x3D;“value”的格式，属性&#x3D;“属性值”</li></ol><h4 id="7-6-2-路径"><a href="#7-6-2-路径" class="headerlink" title="7.6.2 路径"></a>7.6.2 路径</h4><p><strong>目录文件夹</strong>：就是普通文件夹，里面只不过存放了我们做页面所需要的相关材料，比如HTML文件、图片等<br><strong>根目录</strong>：打开目录文件夹的第一层就是根目录<br>路径可以分为：</p><ol><li><p>相对路径：以引用文件所在位置为参考基础，而建立出的目录路径，即图片相对于HTML页面的位置</p><p><img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221010205133066.png" alt="image-20221010205133066"></p></li><li><p>绝对路径：是指目录下的绝对位置，直接到达目标位置，通常是从盘符开始的路径<strong>（绝对路径的符号是\）</strong></p><p><img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221010210230226.png" alt="image-20221010210230226"></p></li></ol><h3 id="7-7-超链接标签"><a href="#7-7-超链接标签" class="headerlink" title="7.7 超链接标签"></a>7.7 超链接标签</h3><p>在HTML标签中，<code>&lt;a&gt;</code>标签用于定义超链接，作用是从一个页面链接到另一个页面</p><h4 id="7-7-1链接的语法格式"><a href="#7-7-1链接的语法格式" class="headerlink" title="7.7.1链接的语法格式"></a>7.7.1链接的语法格式</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;转跳目标&quot;</span> <span class="attr">target</span>=<span class="string">&quot;目标窗口的弹出方式&quot;</span>&gt;</span> 文本或图像 <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>两个属性的作用：</p><p><img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221010211438066.png" alt="image-20221010211438066"></p><h4 id="7-7-2链接分类"><a href="#7-7-2链接分类" class="headerlink" title="7.7.2链接分类"></a>7.7.2链接分类</h4><ol><li><p>外部链接：例如</p><p><code>&lt;a href=&quot;http://www.baidu.com&quot;&gt;百度&lt;/a&gt;</code></p></li><li><p>内部链接：网页内部页面之间的相互链接，直接链接内部网页名称即可，例如</p><p><code>&lt;a href=&quot;index.html&quot;&gt;首页&lt;/a&gt;</code></p></li><li><p>空链接：如果当时没有确定连接目标时，例如</p><p><code>&lt;a href=&quot;#&quot;&gt;首页&lt;/a&gt;</code></p></li><li><p>下载链接：如果href里面地址是一个文件或者压缩包，会下载这个文件。例如</p><p><code>&lt;a href=&quot;img.zip&quot;&gt;下载文件&lt;/a&gt;</code></p></li><li><p>网页元素链接：在网页中的各种网页元素，如文本、图像、表格、音频、视频等都可以添加超链接，例如<code>&lt;a href=&quot;http://www.baidu.com&quot;&gt;&lt;img src=&quot;img.jpg&quot;/&gt;&lt;/a&gt;</code></p></li><li><p>锚点链接：点我们点击链接，可以快速定位到页面中的某个位置</p><ul><li>在链接文本的href属性中，设置属性值为**#名字**的形式，如:<code>&lt;a href=&quot;#two&quot;&gt;第二集&lt;/a&gt;</code></li><li>找到目标位置标签，里面添加一个id属性&#x3D;刚才的名字，如：<code>&lt;h3 id=&quot;two&quot;&gt;第二集介绍&lt;/h3&gt;</code></li></ul></li></ol><h2 id="8-HTML中的注释和特殊字符"><a href="#8-HTML中的注释和特殊字符" class="headerlink" title="8.HTML中的注释和特殊字符"></a>8.HTML中的注释和特殊字符</h2><h3 id="8-1注释"><a href="#8-1注释" class="headerlink" title="8.1注释"></a>8.1注释</h3><p>如果需要在HTML文档中添加一些便于阅读和理解的但又不需要显示在页面中的注释文字，就需要使用注释标签，HTML中的注释以**<code>&lt;!--</code>开头，以<code>--&gt;</code>结束（快捷键：ctrl+&#x2F;）**</p><h3 id="8-2特殊字符"><a href="#8-2特殊字符" class="headerlink" title="8.2特殊字符"></a>8.2特殊字符</h3><p>在HTML页面中，一些特殊的符号很难或者不方便直接使用，此时我们就可以使用下面的字符来替代</p><p><img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221012132726848.png" alt="image-20221012132726848"></p><h1 id="HTML标签（下）"><a href="#HTML标签（下）" class="headerlink" title="HTML标签（下）"></a>HTML标签（下）</h1><h2 id="1-表格标签"><a href="#1-表格标签" class="headerlink" title="1.表格标签"></a>1.表格标签</h2><h3 id="1-1表格的主要作用"><a href="#1-1表格的主要作用" class="headerlink" title="1.1表格的主要作用"></a>1.1表格的主要作用</h3><p>主要用于<strong>展示&#x2F;显示数据</strong>，并不是用来布局页面</p><h3 id="1-2表格的基本语法"><a href="#1-2表格的基本语法" class="headerlink" title="1.2表格的基本语法"></a>1.2表格的基本语法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格内的文字<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li><code>&lt;table&gt;&lt;/table&gt;</code>是用于定义表格的标签</li><li><code>&lt;tr&gt;&lt;/tr&gt;</code>标签用于定义表格中的行，必须嵌套在<code>&lt;table&gt;&lt;/table&gt;</code>标签中</li><li><code>&lt;td&gt;&lt;/td&gt;</code>用于定义表格中的单元格，必须嵌套在<code>&lt;tr&gt;&lt;/tr&gt;</code>标签中</li><li>字母td指表格数据，即数据单元格的内容</li></ol><h3 id="1-3表头单元格标签"><a href="#1-3表头单元格标签" class="headerlink" title="1.3表头单元格标签"></a>1.3表头单元格标签</h3><p>一般表头单元格位于表格的第一行或者第一列，表头单元格里面的文本内容加粗居中显示</p><p><code>&lt;th&gt;</code>标签表示HTML表格的表头部分,其中的文字会加粗居中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>单元格内的文字<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="1-4表格属性"><a href="#1-4表格属性" class="headerlink" title="1.4表格属性"></a>1.4表格属性</h3><p>不常用，通常通过css设置（这些表格属性要写在<code>&lt;table&gt;&lt;/table&gt;</code>里面</p><p><img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221012210511056.png" alt="image-20221012210511056"></p><p>例如：</p><p><img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221012211237223.png" alt="image-20221012211237223"></p><h3 id="1-5表格结构标签"><a href="#1-5表格结构标签" class="headerlink" title="1.5表格结构标签"></a>1.5表格结构标签</h3><p>在表格标签中，分别用：</p><ol><li><code>&lt;thead&gt;</code>标签表示表格的头部区域，<code>&lt;thead&gt;</code>内部必须拥有<code>&lt;tr&gt;</code>标签，一般位于第一行。</li><li><code>&lt;tbody&gt;</code>标签表示表格的主题区域，用于放数据本体。</li><li>以上两个标签都是放在<code>&lt;table&gt;&lt;/table&gt;</code>之中的</li></ol><h3 id="1-6合并单元格"><a href="#1-6合并单元格" class="headerlink" title="1.6合并单元格"></a>1.6合并单元格</h3><ol><li>合并单元格的方式<ul><li>跨行合并：rowspan&#x3D;“合并单元格的个数”</li><li>跨列合并：colspan&#x3D;“合并单元格的个数”</li></ul></li></ol><p><img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221013202126865.png" alt="image-20221013202126865"></p><ol start="2"><li><p>目标单元格：（写合并代码）</p><ul><li>跨行：最上侧单元格为目标单元格，写合并代码</li><li>跨列：最左侧单元格为目标单元格，写合并代码</li></ul></li><li><p>合并单元格三部曲：</p><ol><li>先确定是跨行还是跨列合并</li><li>找到目标单元格，写上合并方式&#x3D;合并的单元格数量。例如：<code>&lt;td colspan=&quot;2&quot;&gt;&lt;/td&gt;</code></li><li>删除多余的单元格</li></ol></li></ol><h2 id="2-列表标签"><a href="#2-列表标签" class="headerlink" title="2.列表标签"></a>2.列表标签</h2><p>列表是用来布局的</p><p>列表分为三大类：<strong>有序列表，无序列表和自定义列表</strong></p><h3 id="2-1无序列表"><a href="#2-1无序列表" class="headerlink" title="2.1无序列表"></a>2.1无序列表</h3><p><code>&lt;ul&gt;</code>标签表示HTML页面中项目的无序列表，一般会以项目符号呈现列表项，而列表项使用<code>&lt;li&gt;</code>标签定义，无序列表的基本语法格式如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意：</p><ol><li>无序列表的各个列表项之间没有顺序级别之分，是并列的</li><li><code>&lt;ul&gt;&lt;/ul&gt;</code>中只能嵌套<code>&lt;li&gt;&lt;/li&gt;</code>,直接在<code>&lt;ul&gt;&lt;/ul&gt;</code>标签中输入其他标签或者文字的做法是不被允许的</li><li><code>&lt;li&gt;</code>与<code>&lt;/li&gt;</code>之间相当于一个容器，可以容纳所有元素</li><li>无序列表会带有自己的样式属性，但是在实际应用时，我们会使用css来设置</li></ol><h3 id="2-2有序列表"><a href="#2-2有序列表" class="headerlink" title="2.2有序列表"></a>2.2有序列表</h3><p><code>&lt;ol&gt;</code>标签用于定义有序列表，列表排序以数字来显示，并且使用<code>&lt;li&gt;</code>标签来定义列表项</p><p>有序列表的基本语法格式如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意：</p><ol><li><code>&lt;ol&gt;&lt;/ol&gt;</code>中只能嵌套<code>&lt;li&gt;&lt;/li&gt;</code>,直接在<code>&lt;ol&gt;&lt;/ol&gt;</code>标签中输入其他标签或者文字的做法是不被允许的</li><li><code>&lt;li&gt;</code>与<code>&lt;/li&gt;</code>之间相当于一个容器，可以容纳所有元素</li><li>有序列表会带有自己的样式属性，但是在实际应用时，我们会使用css来设置</li></ol><h3 id="2-3自定义列表"><a href="#2-3自定义列表" class="headerlink" title="2.3自定义列表"></a>2.3自定义列表</h3><p>自定义列表常用于对术语或名词进行解释和描述，定义列表的列表项前没有任何项目符号</p><p>在HTML标签中，<code>&lt;dl&gt;</code>标签用于定义描述列表（或定义列表），该标签会与<code>&lt;dt&gt;</code>（定义项目&#x2F;名字）和<code>&lt;dd&gt;</code>(描述每一个项目&#x2F;名字)一起使用</p><p>基本语法如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>名词1<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意：</p><ol><li><code>&lt;dl&gt;&lt;/dl&gt;</code>里面只能包含<code>&lt;dt&gt;</code>和<code>&lt;dd&gt;</code></li><li><code>&lt;dt&gt;</code>和<code>&lt;dd&gt;</code>个数没有限制，经常是一个<code>&lt;dt&gt;</code>对应多个<code>&lt;dd&gt;</code></li></ol><p>在HTML标签中，<code>&lt;dl&gt;</code>标签用于定义描述列表（或者定义列表），该标签会与<code>&lt;dt&gt;</code>（定义项目&#x2F;名字）和<code>&lt;dd&gt;</code>（描述每一个项目&#x2F;名字）一起使用</p><h3 id="2-4列表总结"><a href="#2-4列表总结" class="headerlink" title="2.4列表总结"></a>2.4列表总结</h3><table><thead><tr><th align="left">标签名</th><th>定义</th><th>说明</th></tr></thead><tbody><tr><td align="left"><ul></ul></td><td>无序标签</td><td>里面只能包含li，没有顺序，使用比较多。li里面可以包含任何标签</td></tr><tr><td align="left"><ol></ol></td><td>有序标签</td><td>里面只能包含li，有顺序，使用比较少。li里面可以包含任何标签</td></tr><tr><td align="left"><dl></dl></td><td>自定义标签</td><td>里面只能包含dt和dd。dt和dd里面可以放任何标签</td></tr></tbody></table><h2 id="3-表单标签"><a href="#3-表单标签" class="headerlink" title="3.表单标签"></a>3.表单标签</h2><h3 id="3-1表单的组成"><a href="#3-1表单的组成" class="headerlink" title="3.1表单的组成"></a>3.1表单的组成</h3><p>使用表单的目的是<strong>收集用户信息</strong></p><p>在HTML中，一个完整的表单通常由<strong>表单域，表单控件（也称表单元素）和提示信息</strong>三部分组成</p><p> <img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221014193334928.png" alt="image-20221014193334928"></p><h3 id="3-2表单域"><a href="#3-2表单域" class="headerlink" title="3.2表单域"></a>3.2表单域</h3><p><strong>表单域是一个包含表单元素的区域</strong></p><p>在HTML标签中，<code>&lt;form&gt;</code>标签用于定义表单域，以实现用户信息的收集和传递</p><p><strong><code>&lt;form&gt;</code>会把它范围内的表单元素信息提交给服务器</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;url地址&quot;</span> ,<span class="attr">method</span>=<span class="string">&quot;提交方式&quot;</span> <span class="attr">name</span>=<span class="string">&quot;表单域名称&quot;</span>&gt;</span></span><br><span class="line">    各种表单元素控件</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>常用属性：</p><p><img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221014194223250.png" alt="image-20221014194223250"></p><h3 id="3-3表单控件"><a href="#3-3表单控件" class="headerlink" title="3.3表单控件"></a>3.3表单控件</h3><h4 id="3-3-1表单元素"><a href="#3-3-1表单元素" class="headerlink" title="3.3.1&lt;input&gt;表单元素"></a>3.3.1<code>&lt;input&gt;</code>表单元素</h4><p>在表单元素中<code>&lt;input&gt;</code>标签用于<strong>收集用户信息</strong></p><p>在<code>&lt;input&gt;</code>标签中，包含一个type属性，根据不同的type属性值，输入字段很多种形式（可以是文本字段，复选框，掩码后的文本控件，单选按钮，按钮等）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;属性值&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>&lt;input /&gt;</code>标签为单标签</li><li>type属性设置不同的属性值来指定不同的控件类型</li></ul><p>type属性的属性值及其描述：</p><p><img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221014210755109.png" alt="image-20221014210755109"></p><p>除了type属性外，其他属性：</p><p><img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221014211702601.png" alt="image-20221014211702601"></p><ol><li>name和value是每个表单元素都有的属性值，主要给后台人员使用</li><li>name表单元素的名字，要求<strong>单选按钮和复选框都要有相同的name值</strong></li><li><strong>checked属性主要针对于单选按钮和复选框</strong>，主要作用一打开页面，就要可以默认选中某个表单元素</li><li>maxlength是用户可以在表单元素输入的最大字符，一般较少使用</li></ol><p>例如：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>表单元素<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- action表示提交的地址，method表示提交的方式 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;xx.php&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- text文本框，可以输入任何文字 --&gt;</span></span><br><span class="line">        用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;usename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;请输入用户名&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;6&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- password密码框，用户看不见输入的密码 --&gt;</span></span><br><span class="line">        密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pwd&quot;</span> &gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- radio单选按钮 ，可以实现多选--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- name是表单元素名字，这里性别单选按钮必须有相同的名字name才可以实现多选1 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 单选按钮和复选框可以设置checked属性，当页面打开的时候就可以默认选中这个按钮 --&gt;</span></span><br><span class="line">        性别：男 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;男&quot;</span>&gt;</span>女 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;女&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- checkbox复选框，可以实现多选 --&gt;</span></span><br><span class="line">        爱好：吃饭 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span> 睡觉 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span>&gt;</span> 打豆豆 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- submit提交按钮 value显示提交框里面的提示信息 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 点击提交按钮可以把表单域form里面的表单元素里面的值提交给后台服务器 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;免费注册&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- reset重置按钮可以还原表单元素初始的默认状态 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重新填写&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 普通按钮button,后期结合js，搭配使用 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;获取短信验证码&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 文件域 使用场景：上传文件时使用 --&gt;</span></span><br><span class="line">        上传头像：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-3-2标签"><a href="#3-3-2标签" class="headerlink" title="3.3.2&lt;label&gt;标签"></a>3.3.2<code>&lt;label&gt;</code>标签</h4><p><code>&lt;label&gt;</code>标签为input元素定义标注（标签）</p><p><code>&lt;label&gt;</code>标签用于绑定一个表单元素，当点击<code>&lt;label&gt;</code>标签内的文本时，浏览器就会自动将焦点（光标）转到或者选择对应表单元素上，用来增加用户体验</p><p>语法：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>核心：<code>&lt;label&gt;</code>标签的<strong>for属性</strong>应当与相关元素的<strong>id属性相同</strong></p><h4 id="3-3-3表单元素"><a href="#3-3-3表单元素" class="headerlink" title="3.3.3&lt;select&gt;表单元素"></a>3.3.3<code>&lt;select&gt;</code>表单元素</h4><p>使用场景:在页面中，如果有多个选择让用户选择，并且想要节约页面空间时，我们可以使用**<code>&lt;select&gt;</code><strong>标签控件定义</strong>下拉列表**</p><p>语法：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>选项3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-3-4表单元素"><a href="#3-3-4表单元素" class="headerlink" title="3.3.4&lt;textarea&gt;表单元素"></a>3.3.4<code>&lt;textarea&gt;</code>表单元素</h4><p>使用场景：当用户输入内容较多的情况下，我们就不能使用文本框表单了，此时我们就可以使用<code>&lt;textarea&gt;</code>标签</p><p>在表单元素中<code>&lt;textarea&gt;</code>标签是用于定定义多行文本输入的控件</p><p>在使用多行文本输入控件时，可以输入更多的文字，该控件常见于留言板，评论</p><p>语法：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">rows</span>=<span class="string">&quot;3&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line">    文本内容</span><br><span class="line"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-4综合案例"><a href="#3-4综合案例" class="headerlink" title="3.4综合案例"></a>3.4综合案例</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>青春不常在，抓紧谈恋爱<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;500&quot;</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 第一行 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span>性别：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;nan&quot;</span> &gt;</span> <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;nan&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/1.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;20&quot;</span>&gt;</span>男<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;nv&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;nv&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/1.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;20&quot;</span>&gt;</span>女<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 第二行 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span>生日：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>--请选择年份--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>2001<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>2002<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>2003<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>2004<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>--请选择月份--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>4<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>--请选择日期--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">option</span>&gt;</span>4<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 第三行 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span>所在地区：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;北京思密达&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 第四行 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span>婚姻状况:<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;marry&quot;</span> <span class="attr">id</span>=<span class="string">&quot;marry&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;marry&quot;</span>&gt;</span>未婚<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;marry&quot;</span> <span class="attr">id</span>=<span class="string">&quot;no&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;no&quot;</span>&gt;</span>已婚<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;marry&quot;</span> <span class="attr">id</span>=<span class="string">&quot;leave&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;leave&quot;</span>&gt;</span>离婚<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 第四行 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span>学历:<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 第五行 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span>喜欢的类型：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;love&quot;</span>&gt;</span>妩媚的</span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;love&quot;</span>&gt;</span>可爱的</span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;love&quot;</span>&gt;</span>小鲜肉</span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;love&quot;</span>&gt;</span>老腊肉</span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;love&quot;</span>&gt;</span>都喜欢</span><br><span class="line">           <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 第七行 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span>自我介绍:<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">textarea</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 第七行 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;免费注册&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 第八行 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;&quot;</span><span class="attr">checked</span>&gt;</span> 我同意注册条款和会员加入标准</span><br><span class="line">           <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 第八行 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>我是会员，立即登录<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 第八行 --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">h5</span>&gt;</span>我承诺<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">li</span>&gt;</span>年满十八岁，单身<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">li</span>&gt;</span>真诚寻找另一半<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">li</span>&gt;</span>一直第一<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2023/10/25/HTML%E7%AE%80%E4%BB%8B/10/25/HTML%E7%AE%80%E4%BB%8B/image-20221015154744231.png" alt="image-20221015154744231"></p><h3 id="3-5查阅文档"><a href="#3-5查阅文档" class="headerlink" title="3.5查阅文档"></a>3.5查阅文档</h3><ul><li>W3C:<a href="http://www.w3school.com.cn/">http://www.w3school.com.cn/</a></li><li>百度:<a href="http://www.baidu.com/">http://www.baidu.com</a></li><li>MDN:<a href="https://developer.mozilla.org/zh-CN/">https://developer.mozilla.org/zh-CN/</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>KVM/QEMU虚拟化环境和开发环境搭建</title>
      <link href="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
      <url>/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="KVM-QEMU虚拟化环境和开发环境搭建"><a href="#KVM-QEMU虚拟化环境和开发环境搭建" class="headerlink" title="KVM&#x2F;QEMU虚拟化环境和开发环境搭建"></a>KVM&#x2F;QEMU虚拟化环境和开发环境搭建</h1><h2 id="构建KVM环境"><a href="#构建KVM环境" class="headerlink" title="构建KVM环境"></a>构建KVM环境</h2><h3 id="打开CPU虚拟化支持"><a href="#打开CPU虚拟化支持" class="headerlink" title="打开CPU虚拟化支持"></a>打开CPU虚拟化支持</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655121971715-b94d7e00-2f06-4b04-8475-9f36356b9b2e.png" alt="img"></p><h3 id="查看系统版本"><a href="#查看系统版本" class="headerlink" title="查看系统版本"></a>查看系统版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/issue</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530081636263.png" alt="image-20230530081636263"></p><h3 id="查看内核版本"><a href="#查看内核版本" class="headerlink" title="查看内核版本"></a>查看内核版本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uname</span> -r</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530081659587.png" alt="image-20230530081659587"></p><h3 id="查看CPU虚拟化支持"><a href="#查看CPU虚拟化支持" class="headerlink" title="查看CPU虚拟化支持"></a>查看CPU虚拟化支持</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -E <span class="string">&#x27;(vmx|svm)&#x27;</span> /proc/cpuinfo</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530081739853.png" alt="image-20230530081739853"></p><h3 id="查看KVM模块"><a href="#查看KVM模块" class="headerlink" title="查看KVM模块"></a>查看KVM模块</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lsmod|grep kvm</span><br><span class="line"><span class="built_in">ls</span> -l /dev/kvm</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530081820565.png" alt="image-20230530081820565"></p><h2 id="安装QEMU"><a href="#安装QEMU" class="headerlink" title="安装QEMU"></a><strong>安装QEMU</strong></h2><h3 id="下载和解压，选定合适目录使用命令"><a href="#下载和解压，选定合适目录使用命令" class="headerlink" title="下载和解压，选定合适目录使用命令"></a>下载和解压，选定合适目录使用命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"><span class="comment"># wget下载</span></span><br><span class="line">wget https://download.qemu.org/qemu-4.1.0.tar.xz”下载压缩包</span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar xvJf qemu-4.1.0.tar.xz</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530082133666.png" alt="image-20230530082133666"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530082145202.png" alt="image-20230530082145202"></p><h3 id="直接运行代码仓库中configure-文件进行配置"><a href="#直接运行代码仓库中configure-文件进行配置" class="headerlink" title="直接运行代码仓库中configure 文件进行配置"></a>直接运行代码仓库中configure 文件进行配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> qemu-4.1.0</span><br><span class="line">./configure</span><br></pre></td></tr></table></figure><p>配置失败的尝试安装以下几个包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gtk2-devel</span><br><span class="line">yum install -y mesa-libGL-devel mesa-libGLU-devel</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530082544911.png" alt="image-20230530082544911"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530082552840.png" alt="image-20230530082552840"></p><p>安装完之后，继续执行命令“.&#x2F;configure”完成QEMU的配置。</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530082619628.png" alt="image-20230530082619628"></p><h3 id="qemu的编译与安装"><a href="#qemu的编译与安装" class="headerlink" title="qemu的编译与安装"></a>qemu的编译与安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 多线程编译</span></span><br><span class="line">make -j 10</span><br><span class="line"><span class="comment"># 安装</span></span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530082806174.png" alt="image-20230530082806174"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530082917005.png" alt="image-20230530082917005"></p><h3 id="查看Qemu"><a href="#查看Qemu" class="headerlink" title="查看Qemu"></a>查看Qemu</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">安装成功后，查看qemu提供的工具(按两次Tab键给出以qemu-开头的命令)</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530082932016.png" alt="image-20230530082932016"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> qemu-system-x86_64</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530083002594.png" alt="image-20230530083002594"></p><h2 id="安装虚拟化管理工具"><a href="#安装虚拟化管理工具" class="headerlink" title="安装虚拟化管理工具"></a>安装虚拟化管理工具</h2><h3 id="libvirt的安装"><a href="#libvirt的安装" class="headerlink" title="libvirt的安装"></a>libvirt的安装</h3><p>首先查看是否已安装Libvirt</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list installed|grep libvirt</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530083258678.png" alt="image-20230530083258678"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530083319851.png" alt="image-20230530083319851"></p><p>可以看到，CentOS中有默认的Libvirt。如果后续使用中没有问题，以下步骤可省略。如果出现软件版本不兼容，需要将Libvirt先卸载，然后再重新安装。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove libvirt-*   //卸载所有Libvirt相关的包</span><br></pre></td></tr></table></figure><p>重新安装Libvirt时，会在CentOS中同时安装Libvirt的服务器端和客户端。Libvirt服务器端的名称为libvirt，客户端的名称为libvirt-client。</p><p>使用yum下载安装前先搜索看下Libvirt的相关包。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum search libvirt</span><br><span class="line">yum install libvirt</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530083521092.png" alt="image-20230530083521092"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530083611035.png" alt="image-20230530083611035"></p><p>Libvirt安装时会默认安装libvirtd和virsh等可执行程序。安装成功后，可通过以下操作来查看安装的Libvirt的安装位置和版本号。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">which libvirtd       //查看libvirtd命令位置</span><br><span class="line">libvirtd --version   //查看libvirtd的版本号</span><br><span class="line">which virsh          //查看virsh命令位置</span><br><span class="line">virsh --version      //查看virsh的版本号</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530083710890.png" alt="image-20230530083710890"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530083719106.png" alt="image-20230530083719106"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530083723274.png" alt="image-20230530083723274"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530083731190.png" alt="image-20230530083731190"></p><p>Libvirt安装后会默认启动，查看已经安装的Libvirt是否启动，实质是查看Libvirt的libvirtd这个守护进程是否启动。使用以下命令查看libvirtd进程是否启动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -le|grep libvirtd</span><br></pre></td></tr></table></figure><p>但运行此命令时没有反应，说明并未启动libvirtd,所以执行下面命令</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530084139691.png" alt="image-20230530084139691"><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530084146200.png" alt="image-20230530084146200"></p><p>可以看到，libvirtd进程已经启动，进程号是4308。</p><p>可以使用命令“service libvirtd status”查看libvirtd进程状态。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service libvirtd status</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530084304488.png" alt="image-20230530084304488"></p><p>对libvirtd服务进行操作的命令行示例如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service libvirtd status</span><br><span class="line">service libvirtd stop</span><br><span class="line"> service libvirtd status</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530084416620.png" alt="image-20230530084416620"><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530084424885.png" alt="image-20230530084424885"></p><p>libvirtd是一个可执行程序，不仅可以使用“service”命令调用它作为服务来运行，也可以单独地运行libvirtd命令来使用它。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">libvirtd</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530084458615.png" alt="image-20230530084458615"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看版本号</span></span><br><span class="line">virt-manager --version</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530083952967.png" alt="image-20230530083952967"></p><h2 id="配置IDEA集成开发环境"><a href="#配置IDEA集成开发环境" class="headerlink" title="配置IDEA集成开发环境"></a>配置IDEA集成开发环境</h2><h3 id="安装IDEA"><a href="#安装IDEA" class="headerlink" title="安装IDEA"></a>安装IDEA</h3><h4 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 下载链接</span><br><span class="line">https:<span class="comment">//www.jetbrains.com/idea/download/other.html</span></span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530091224463.png" alt="image-20230530091224463"></p><h4 id="移动到安装目录并解压"><a href="#移动到安装目录并解压" class="headerlink" title="移动到安装目录并解压"></a>移动到安装目录并解压</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf ideaIU<span class="number">-2022.1</span><span class="number">.1</span>.tar.gz</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530092127775.png" alt="image-20230530092127775"></p><h4 id="赋权限并且运行"><a href="#赋权限并且运行" class="headerlink" title="赋权限并且运行"></a>赋权限并且运行</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 赋权限</span><br><span class="line">chmod <span class="number">755</span> -R idea-IU<span class="number">-221.5591</span><span class="number">.52</span>/</span><br><span class="line"></span><br><span class="line"># 运行 </span><br><span class="line">cd /home/centos/Downloads/idea-IU<span class="number">-221.5591</span><span class="number">.52</span>/bin</span><br><span class="line">./idea.sh</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530092330581.png" alt="image-20230530092330581"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530092504874.png" alt="image-20230530092504874"></p><h3 id="配置JDK"><a href="#配置JDK" class="headerlink" title="配置JDK"></a>配置JDK</h3><h4 id="下载-1"><a href="#下载-1" class="headerlink" title="下载"></a>下载</h4><p>使用IDEA自带的JDK下载工具，选择合适的版本</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230530112510568.png" alt="image-20230530112510568"></p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>选择刚刚下载好的JDK路径即可</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655122812957-9cbeb88b-ee88-4005-8180-59d51b569500.png" alt="img"></p><h3 id="配置Maven"><a href="#配置Maven" class="headerlink" title="配置Maven"></a>配置Maven</h3><h4 id="选择IDEA自带的maven配置即可"><a href="#选择IDEA自带的maven配置即可" class="headerlink" title="选择IDEA自带的maven配置即可"></a>选择IDEA自带的maven配置即可</h4><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655122876093-f2d3eacf-9742-463c-9943-5efc250671d4.png" alt="img"></p><h3 id="配置Git"><a href="#配置Git" class="headerlink" title="配置Git"></a>配置Git</h3><h4 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230601171535737.png" alt="image-20230601171535737"></p><h4 id="配置git"><a href="#配置git" class="headerlink" title="配置git"></a>配置git</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name  <span class="string">&quot;pepsi-hmt&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;3102454836@qq.com&quot;</span></span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230601172223270.png" alt="image-20230601172223270"></p><h4 id="IDAE配置Git"><a href="#IDAE配置Git" class="headerlink" title="IDAE配置Git"></a>IDAE配置Git</h4><p>选择合适的路径点击test 成功则会显示Git的版本号</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655123169142-e65d7b36-281b-4e17-ad65-c14fe9090034.png" alt="img"></p><h1 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a><strong>需求分析</strong></h1><h2 id="功能要求"><a href="#功能要求" class="headerlink" title="功能要求"></a>功能要求</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">登陆界面和web端管理</span><br><span class="line">宿主机详细信息</span><br><span class="line">Libvirt连接信息</span><br><span class="line">虚拟机信息、创建、启动、挂起、还原、保存、恢复、关闭、强制关闭、重启、删除</span><br><span class="line">快照信息、创建、删除、使用</span><br><span class="line">镜像信息、添加、删除、下载</span><br><span class="line">存储池信息、创建、删除</span><br><span class="line">网络断开和连接</span><br></pre></td></tr></table></figure><h2 id="程序功能模块"><a href="#程序功能模块" class="headerlink" title="程序功能模块"></a>程序功能模块</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.LibvirtUtils      获取连接和连接信息</span><br><span class="line">2.SigarUtils        获取宿主机信息</span><br><span class="line">3.LibvirtService    管理虚拟机的一系列操作</span><br><span class="line">4.LibvirtController 处理前端页面请求调用LibvirtService完成对虚拟机的业务</span><br><span class="line">5.UserController    处理前端页面请求完成登陆逻辑</span><br><span class="line">6.HTML页面           展示数据和方便操作</span><br></pre></td></tr></table></figure><h1 id="系统设计"><a href="#系统设计" class="headerlink" title="系统设计"></a>系统设计</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">云平台管理系统是对虚拟机进行管理和操作，</span><br><span class="line">该系统采用Libvirt Java API 进行分析和设计</span><br><span class="line">，使用编程语言java作为开发语言，使用IDEA作为开发平台，</span><br><span class="line">通过SpringBoot+Thymeleaf框架实现功能，能够很好的实现系统的开发及测试。</span><br></pre></td></tr></table></figure><h2 id="虚拟机基础管理"><a href="#虚拟机基础管理" class="headerlink" title="虚拟机基础管理"></a>虚拟机基础管理</h2><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655128181824-a904425c-2b77-4bcb-b306-2208c39437c8.png" alt="img"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655128394534-797e7346-602f-42cd-a5c1-1a01f2837a5a.png" alt="img"></p><h2 id="虚拟机镜像管理"><a href="#虚拟机镜像管理" class="headerlink" title="虚拟机镜像管理"></a>虚拟机镜像管理</h2><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655128630964-aa0623b5-d641-4e06-9220-e691cc25fe56.png" alt="img"></p><h2 id="虚拟机存储池管理"><a href="#虚拟机存储池管理" class="headerlink" title="虚拟机存储池管理"></a>虚拟机存储池管理</h2><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655128812444-ffaf4ec6-4b62-44a1-8227-85f25311ea25.png" alt="img"></p><h2 id="虚拟机网络管理"><a href="#虚拟机网络管理" class="headerlink" title="虚拟机网络管理"></a>虚拟机网络管理</h2><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655128888151-dba3c578-4b1e-4aa8-b163-0cc9f443169b.png" alt="img"></p><h1 id="系统实现"><a href="#系统实现" class="headerlink" title="系统实现"></a>系统实现</h1><h2 id="功能实现"><a href="#功能实现" class="headerlink" title="功能实现"></a>功能实现</h2><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20230601151633123.png" alt="image-20230601151633123"></p><h3 id="libvirt连接及其连接信息"><a href="#libvirt连接及其连接信息" class="headerlink" title="libvirt连接及其连接信息"></a>libvirt连接及其连接信息</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173140991-2674e3a1-d5ee-43d9-ae9b-43080e87e575.png" alt="img"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173191474-de0e5e26-f341-4f12-9883-98f0d88c5057.png" alt="img"></p><h3 id="主机信息"><a href="#主机信息" class="headerlink" title="主机信息"></a>主机信息</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173244672-2926f670-8406-49f6-8d38-5181643cb0e3.png" alt="img"></p><h3 id="通过name或者id获取Domain"><a href="#通过name或者id获取Domain" class="headerlink" title="通过name或者id获取Domain"></a>通过name或者id获取Domain</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173308317-8b88785d-92b1-44ef-a0c2-28df32a2e158.png" alt="img"></p><h3 id="通过name或者id获取虚拟机信息"><a href="#通过name或者id获取虚拟机信息" class="headerlink" title="通过name或者id获取虚拟机信息"></a>通过name或者id获取虚拟机信息</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174094891-aca809b4-7120-433b-a2d8-0d9a3b259a19.png" alt="img"></p><h3 id="获取虚拟机列表"><a href="#获取虚拟机列表" class="headerlink" title="获取虚拟机列表"></a>获取虚拟机列表</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173338835-8334835b-2885-4c3a-9f66-9ab9ae220484.png" alt="img"></p><h3 id="启动虚拟机"><a href="#启动虚拟机" class="headerlink" title="启动虚拟机"></a>启动虚拟机</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173396908-22b55b45-f22d-437c-8c31-0b7bfce78cf1.png" alt="img"></p><h3 id="关闭虚拟机"><a href="#关闭虚拟机" class="headerlink" title="关闭虚拟机"></a>关闭虚拟机</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173386356-04529824-a9a8-46f7-a70b-fd55e4473826.png" alt="img"></p><h3 id="强制关闭虚拟机"><a href="#强制关闭虚拟机" class="headerlink" title="强制关闭虚拟机"></a>强制关闭虚拟机</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173413644-dc48e87a-a26b-4f63-8ad4-0ca0cd6f6b91.png" alt="img"></p><h3 id="重启虚拟机"><a href="#重启虚拟机" class="headerlink" title="重启虚拟机"></a>重启虚拟机</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173437881-3a1e4674-5d5b-4ce2-b50a-b1fe32ace6d4.png" alt="img"></p><h3 id="挂起虚拟机"><a href="#挂起虚拟机" class="headerlink" title="挂起虚拟机"></a>挂起虚拟机</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173462426-2ef1dc2f-3965-43e8-affb-57ebc606a864.png" alt="img"></p><h3 id="还原虚拟机"><a href="#还原虚拟机" class="headerlink" title="还原虚拟机"></a>还原虚拟机</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173478164-76ce9547-ad28-450e-82ed-61cb560fc2af.png" alt="img"></p><h3 id="保存虚拟机"><a href="#保存虚拟机" class="headerlink" title="保存虚拟机"></a>保存虚拟机</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173498124-ada63e5e-8279-4833-a905-3d1b002d0b4c.png" alt="img"></p><h3 id="恢复虚拟机"><a href="#恢复虚拟机" class="headerlink" title="恢复虚拟机"></a>恢复虚拟机</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173514276-66ad59ab-810b-40f9-a634-b98992ffb226.png" alt="img"></p><h3 id="创建虚拟机"><a href="#创建虚拟机" class="headerlink" title="创建虚拟机"></a>创建虚拟机</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173557639-b6848eca-2b30-4f77-a4b9-9f4c5420b4c7.png" alt="img"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173578387-d5ab29ee-25ce-4c21-ad8d-13660a5bef6d.png" alt="img"></p><h3 id="删除虚拟机"><a href="#删除虚拟机" class="headerlink" title="删除虚拟机"></a>删除虚拟机</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173587446-9fe5659b-0e4f-45f4-86c6-5db50f65dc23.png" alt="img"></p><h3 id="获取镜像列表"><a href="#获取镜像列表" class="headerlink" title="获取镜像列表"></a>获取镜像列表</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173613588-343dae3c-c2ff-4f0a-a00f-8c79c70858fe.png" alt="img"></p><h3 id="添加镜像文件"><a href="#添加镜像文件" class="headerlink" title="添加镜像文件"></a>添加镜像文件</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173627288-2074fab3-630d-4530-a956-9613ca9d64ef.png" alt="img"></p><h3 id="下载镜像文件"><a href="#下载镜像文件" class="headerlink" title="下载镜像文件"></a>下载镜像文件</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173646471-7357ea03-70cc-42e4-8d86-cde110c22d06.png" alt="img"></p><h3 id="删除镜像文件"><a href="#删除镜像文件" class="headerlink" title="删除镜像文件"></a>删除镜像文件</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173664864-8da76a81-3f07-454d-8519-cff8149694e3.png" alt="img"></p><h3 id="获取网络状态"><a href="#获取网络状态" class="headerlink" title="获取网络状态"></a>获取网络状态</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173713723-a1fed8ca-390b-4ffb-92f2-b4a1aa413153.png" alt="img"></p><h3 id="关闭网络"><a href="#关闭网络" class="headerlink" title="关闭网络"></a>关闭网络</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173732781-336055e6-3566-44a8-8a26-5ede68e57c22.png" alt="img"></p><h3 id="开启网络"><a href="#开启网络" class="headerlink" title="开启网络"></a>开启网络</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173742479-a50a5718-a01d-4704-927d-51775dad8bdf.png" alt="img"></p><h3 id="获取快照列表"><a href="#获取快照列表" class="headerlink" title="获取快照列表"></a>获取快照列表</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173789496-74dfc5aa-e6ae-4eb1-b292-fb8d3799e134.png" alt="img"></p><h3 id="快照管理"><a href="#快照管理" class="headerlink" title="快照管理"></a>快照管理</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173845323-c399f785-18b6-49a2-9e93-3a46b4ffa208.png" alt="img"></p><h3 id="创建快照"><a href="#创建快照" class="headerlink" title="创建快照"></a>创建快照</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173861483-2c4d517c-02b2-4833-9f98-19d60c1c59fb.png" alt="img"></p><h3 id="删除快照"><a href="#删除快照" class="headerlink" title="删除快照"></a>删除快照</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173875594-097beb8d-5e52-4d68-9d61-e7a897c35f77.png" alt="img"></p><h3 id="启动快照"><a href="#启动快照" class="headerlink" title="启动快照"></a>启动快照</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655173889071-f141ca74-164f-4955-9eb5-865d9d794fa9.png" alt="img"></p><h3 id="获取存储池列表"><a href="#获取存储池列表" class="headerlink" title="获取存储池列表"></a>获取存储池列表</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174000895-d06e4ca6-b80f-499f-bc81-c29270e16eb2.png" alt="img"></p><h3 id="创建存储池"><a href="#创建存储池" class="headerlink" title="创建存储池"></a>创建存储池</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174026649-537832c8-4da9-4d18-a688-441d900903b2.png" alt="img"></p><h3 id="删除存储池"><a href="#删除存储池" class="headerlink" title="删除存储池"></a>删除存储池</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174040392-ce109c47-fd76-491c-8a99-fbcde0365ab6.png" alt="img"></p><h2 id="功能展示"><a href="#功能展示" class="headerlink" title="功能展示"></a>功能展示</h2><h3 id="登陆界面"><a href="#登陆界面" class="headerlink" title="登陆界面"></a>登陆界面</h3><p>账号密码都是admin 输入即可完成登陆</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174210360-776b3ef2-1208-4cf4-8b2d-64381ae21ed5.png" alt="img"></p><h3 id="首页界面"><a href="#首页界面" class="headerlink" title="首页界面"></a>首页界面</h3><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174250924-6f7de432-b25e-406c-9be9-28f19161e2b1.png" alt="img"></p><h3 id="注销登陆"><a href="#注销登陆" class="headerlink" title="注销登陆"></a>注销登陆</h3><p>点击注销登陆即可回到登陆界面</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174519296-47a86b4d-899d-45b4-9bb4-e9ce8d64e989.png" alt="img"></p><h3 id="宿主机信息"><a href="#宿主机信息" class="headerlink" title="宿主机信息"></a>宿主机信息</h3><p>点击宿主机详细信息即可查看信息</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174318932-85c00c6f-448c-4805-ab5e-080ae0b2b072.png" alt="img"></p><h3 id="Libvirt连接信息"><a href="#Libvirt连接信息" class="headerlink" title="Libvirt连接信息"></a>Libvirt连接信息</h3><p>点击Libvirt连接信息即可查看信息</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174407083-4aeecd19-d07a-4607-a661-230f623a579a.png" alt="img"></p><h3 id="虚拟机管理界面"><a href="#虚拟机管理界面" class="headerlink" title="虚拟机管理界面"></a>虚拟机管理界面</h3><p>点击云平台管理即可进入管理界面</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174461435-2999c302-81f9-40f2-8df2-2b209c6ef6f7.png" alt="img"></p><p>点击首页可以回到首页</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174627225-bd903075-3848-4cbe-80ca-a23d657bc5c7.png" alt="img"></p><h3 id="注销登陆-1"><a href="#注销登陆-1" class="headerlink" title="注销登陆"></a>注销登陆</h3><p>点击注销登陆即可回到登陆界面</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174636228-0fadbd7f-7b8d-4a97-9c96-3dfc46faa43f.png" alt="img"></p><h3 id="网络打开与关闭"><a href="#网络打开与关闭" class="headerlink" title="网络打开与关闭"></a>网络打开与关闭</h3><p>点击网络状态即可实现网络的打开与关闭</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174699244-1f6490f0-53b5-4436-8146-26c0492c63ff.png" alt="img"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175910046-b284997b-e5a9-4ff2-b4b6-f7cd207e4af3.png" alt="img"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174713262-ff89d7e7-2dcd-4eaf-865a-6229d90c8979.png" alt="img"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175895757-feb8deee-b259-47af-a623-2528932c80c6.png" alt="img"></p><h3 id="虚拟机添加"><a href="#虚拟机添加" class="headerlink" title="虚拟机添加"></a>虚拟机添加</h3><p>点击添加虚拟机按钮即可跳转到添加界面</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176486519-abb071ba-6722-4b1c-9d2e-d23596efda75.png" alt="img"></p><p>输入创建虚拟机的名称和选择虚拟机的镜像即可创建个默认大小的虚拟机</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174794558-ae9a6d65-51fd-466e-9410-4cf7e6598e5f.png" alt="img"></p><p>虚拟机创建成功</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174865239-1a24c014-cfdd-4d30-aed9-a99eeb5e763d.png" alt="img"></p><h3 id="虚拟机启动"><a href="#虚拟机启动" class="headerlink" title="虚拟机启动"></a>虚拟机启动</h3><p>点击虚拟机的启动按钮即可启动</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174928417-ed2eec5d-e633-41b1-a7e9-29b2fff8171f.png" alt="img"></p><p>虚拟机变为运行状态</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655174980001-a038c686-6ea1-4c15-a900-a0808f98a5e5.png" alt="img"></p><p>虚拟机管理器查看也是运行状态</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175035258-e72a49c4-b79f-4543-be4d-6c9df9c17543.png" alt="img"></p><p>虚拟机启动成功</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175063991-ff950dbf-6b83-4628-a88e-b3d57350dd2a.png" alt="img"></p><h3 id="虚拟机挂起"><a href="#虚拟机挂起" class="headerlink" title="虚拟机挂起"></a>虚拟机挂起</h3><p>点击虚拟机的挂起按钮即可挂起</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175131727-d08f857f-367f-4fc6-9b13-6a1777d233fa.png" alt="img"></p><p>虚拟机变为挂起状态</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175145488-737dd376-cd21-4483-92f7-2718f76195ae.png" alt="img"></p><p>虚拟机管理器查看也是挂起状态</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175157686-471b5669-c149-485f-a2a1-07099b1fd553.png" alt="img"></p><h3 id="虚拟机还原"><a href="#虚拟机还原" class="headerlink" title="虚拟机还原"></a>虚拟机还原</h3><p>点击虚拟机的还原按钮即可还原</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175237310-818dc542-30da-4a32-bd44-119592ea6c2a.png" alt="img"></p><p>虚拟机变为运行状态</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175254404-b6697774-ba76-4fc7-a123-3399f4c671d4.png" alt="img"></p><p>虚拟机管理器查看也是运行状态</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175265566-89e7b06e-8dd3-4829-9e0c-b077be7466fa.png" alt="img"></p><h3 id="虚拟机保存"><a href="#虚拟机保存" class="headerlink" title="虚拟机保存"></a>虚拟机保存</h3><p>点击虚拟机的保存按钮即可保存</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175314752-1dd020d2-0ac6-41ff-97c6-9b1605b986b5.png" alt="img"></p><p>选择合适的路径进行保存</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175355716-12c3b981-c8c7-4672-a822-bd56acd115fe.png" alt="img"></p><p>保存成功虚拟机状态为关闭并且生成磁盘文件</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175399111-43899f6d-0dea-40af-b250-8c49525068f9.png" alt="img"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175418005-0dbad86b-9424-4fd5-9656-41f5ef55ffd1.png" alt="img"></p><h3 id="虚拟机恢复"><a href="#虚拟机恢复" class="headerlink" title="虚拟机恢复"></a>虚拟机恢复</h3><p>点击虚拟机的恢复按钮即可恢复</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175450992-11629bbf-13bc-46ed-95e8-6a5e073926f3.png" alt="img"></p><p>选择磁盘文件</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175487579-6234d389-48d4-41d9-8bdd-b4619357e170.png" alt="img"></p><p>恢复成功虚拟机状态变为运行态</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175525492-f51d2955-6c48-429a-a640-f4d660d00f36.png" alt="img"></p><h3 id="虚拟机关闭与强制关闭"><a href="#虚拟机关闭与强制关闭" class="headerlink" title="虚拟机关闭与强制关闭"></a>虚拟机关闭与强制关闭</h3><p>点击虚拟机的关闭按钮或者强制关闭按钮即可关闭虚拟机</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175591789-403dbaee-bc7d-4118-9e93-78659a5d5a30.png" alt="img"></p><p>关闭成功变为关闭状态</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175756328-64b38520-6fc8-4c18-ac67-21458c0ed3e8.png" alt="img"></p><p>虚拟机管理器查看也是关闭状态</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175806979-b6636b80-fa4e-4066-adce-b874b7a7f08c.png" alt="img"></p><h3 id="虚拟机重启"><a href="#虚拟机重启" class="headerlink" title="虚拟机重启"></a>虚拟机重启</h3><p>点击虚拟机的重启按钮即可重启虚拟机</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175632244-ed318808-2fc9-4ee6-b379-ab1f5a88700f.png" alt="img"></p><p>虚拟机正在重启</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175654107-9e42e0bd-80fc-469c-8685-378fc815adf3.png" alt="img"></p><p>虚拟机启动成功并且状态仍然为运行状态</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175688402-3b0e06c6-198f-4372-b143-195af5b0db77.png" alt="img"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175708518-819a8e39-c5d1-4588-b8a8-befae275e02a.png" alt="img"></p><h3 id="虚拟机删除"><a href="#虚拟机删除" class="headerlink" title="虚拟机删除"></a>虚拟机删除</h3><p>点击删除按钮即可删除虚拟机</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175950329-47093b8d-4fe3-41e6-b3f6-b48097b07513.png" alt="img"></p><p>虚拟机删除后将不存在</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175968010-32644e7d-5a6b-4a8f-9d85-a1b4bbc0e835.png" alt="img"></p><p>虚拟机管理器查看也是是不存在</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655175998111-b094319a-77cf-4d50-910a-ff7950a5eaa1.png" alt="img"></p><h3 id="管理快照"><a href="#管理快照" class="headerlink" title="管理快照"></a>管理快照</h3><p>点击快照管理即可进入管理界面</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176099934-e51b113f-053a-4ce7-a01b-fedfe86e0e58.png" alt="img"></p><p>快照界面可以查看快照拍摄的时间状态等信息 也可以对快照进行一系列操作</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176415645-879d7703-2210-402f-bd7b-3d89f034da2b.png" alt="img"></p><h3 id="拍摄快照"><a href="#拍摄快照" class="headerlink" title="拍摄快照"></a>拍摄快照</h3><p>填入快照的名称点击拍摄按钮即可拍照</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176129535-9734b6f6-5800-4123-8aed-3ce580d479d8.png" alt="img"></p><p>拍摄成功</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176166603-a8969d62-3013-41fd-a99a-124d705d9ee8.png" alt="img"></p><h3 id="快照使用"><a href="#快照使用" class="headerlink" title="快照使用"></a>快照使用</h3><p>点击使用按钮即可恢复到此时的快照</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176226870-637fd1bd-3b0f-4565-90ea-80c48ef551c0.png" alt="img"></p><h3 id="快照删除"><a href="#快照删除" class="headerlink" title="快照删除"></a>快照删除</h3><p>点击删除按钮即可删除该快照</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176272672-fa47cb4c-f9aa-4f1d-9a1d-b81e6f2492cb.png" alt="img"></p><p>删除成功快照将不存在</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176291469-004e900a-3a87-412e-b568-ac51f5489c5a.png" alt="img"></p><h3 id="镜像管理"><a href="#镜像管理" class="headerlink" title="镜像管理"></a>镜像管理</h3><p>点击镜像管理即可进行镜像管理，该页面展示了镜像信息和定义了一系列操作</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176586754-1a2f24dc-881c-4488-88d7-7ca204b7b3c0.png" alt="img"></p><h3 id="镜像下载"><a href="#镜像下载" class="headerlink" title="镜像下载"></a>镜像下载</h3><p>点击镜像下载按钮即可下载镜像</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176676518-11804a43-46ef-46a9-bd77-c25ac0b2a996.png" alt="img"></p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176694101-dd8e9966-89b5-413b-8e7c-92c682bca0af.png" alt="img"></p><h3 id="镜像删除"><a href="#镜像删除" class="headerlink" title="镜像删除"></a>镜像删除</h3><p>点击镜像删除按钮即可删除镜像</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176891574-7331db78-1350-40ba-bb8f-329154fe6443.png" alt="img"></p><p>删除之后将不在列表中</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176916121-2bf81242-c506-4b23-b3aa-dcc89c3d6696.png" alt="img"></p><h3 id="镜像添加"><a href="#镜像添加" class="headerlink" title="镜像添加"></a>镜像添加</h3><p>点击镜像添加跳转到添加界面</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176769287-e2df9e66-92a6-4ffc-b5ce-8ea91183572e.png" alt="img"></p><p>输入添加镜像的名称和选择镜像文件点击提交按钮即可</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176799960-301ef6d2-499a-4ad8-90bf-2e4cf9b591c3.png" alt="img"></p><p>添加成功</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176867050-469d5ac2-9d56-4808-942a-fd5e7010ff0e.png" alt="img"></p><h3 id="添加存储池"><a href="#添加存储池" class="headerlink" title="添加存储池"></a>添加存储池</h3><p>点击添加存储池按钮跳转到添加界面</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655176997860-20febf0f-7318-439a-b7fd-bc1aca5ebec4.png" alt="img"></p><p>输入存储池名称和存储池的路径点击提交按钮即可</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655177045272-c7f758ff-4f8a-4cbb-9b95-5950040a3582.png" alt="img"></p><p>存储添加成功</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655177064181-53629a38-7dc8-426f-b0b8-63e486fdfeb9.png" alt="img"></p><h3 id="删除存储池-1"><a href="#删除存储池-1" class="headerlink" title="删除存储池"></a>删除存储池</h3><p>点击存储池管理按钮跳转到存储池管理界面</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655177118298-02bc07f3-197d-4585-9fb7-2ac76650d685.png" alt="img"></p><p>点击删除按钮即可删除存储池</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655177138412-9a903113-d63b-476c-a50f-314af0b92732.png" alt="img"></p><p>存储删除成功</p><p><img src="/2023/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10/22/KVM-QEMU%E8%99%9A%E6%8B%9F%E5%8C%96%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1655177151352-39b7ba5d-eee5-42f1-b3a1-2fed67b43cb0.png" alt="img"></p><h1 id="附录：源程序清单"><a href="#附录：源程序清单" class="headerlink" title="附录：源程序清单"></a>附录：源程序清单</h1><h2 id="utils"><a href="#utils" class="headerlink" title="utils"></a>utils</h2><h3 id="LibvirtUtils"><a href="#LibvirtUtils" class="headerlink" title="LibvirtUtils"></a>LibvirtUtils</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.Utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.libvirt.pojo.LibvirtConnect;</span><br><span class="line"><span class="keyword">import</span> lombok.SneakyThrows;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.java.Log;</span><br><span class="line"><span class="keyword">import</span> org.libvirt.Connect;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Log</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LibvirtUtils</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Connect connect;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Connection</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connect <span class="title function_">getConnection</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == connect) &#123;</span><br><span class="line">            connect = <span class="keyword">new</span> <span class="title class_">Connect</span>(<span class="string">&quot;qemu:///system&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">            log.info(<span class="string">&quot;Libvirt local connection successful&quot;</span> + <span class="string">&quot;\n&quot;</span></span><br><span class="line">                     + <span class="string">&quot;     连接URI: &quot;</span> + connect.getURI() + <span class="string">&quot;\n&quot;</span></span><br><span class="line">                     + <span class="string">&quot;     宿主机主机名: &quot;</span> + connect.getHostName() + <span class="string">&quot;\n&quot;</span></span><br><span class="line">                     + <span class="string">&quot;     宿主机剩余内存: &quot;</span> + connect.getFreeMemory() + <span class="string">&quot;\n&quot;</span></span><br><span class="line">                     + <span class="string">&quot;     宿主机最大cpu数量: &quot;</span> + connect.getMaxVcpus(<span class="literal">null</span>) + <span class="string">&quot;\n&quot;</span></span><br><span class="line">                     + <span class="string">&quot;     libvirt库版本号: &quot;</span> + connect.getLibVirVersion() + <span class="string">&quot;\n&quot;</span></span><br><span class="line">                     + <span class="string">&quot;     hypervisor名称: &quot;</span> + connect.getType()</span><br><span class="line">                    );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> connect;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ConnectionInfo</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> LibvirtConnect <span class="title function_">getConnectionIo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Connect</span> <span class="variable">connect</span> <span class="operator">=</span> getConnection();</span><br><span class="line">        <span class="keyword">return</span> LibvirtConnect.builder()</span><br><span class="line">            .url(connect.getURI())</span><br><span class="line">            .hostName(connect.getHostName())</span><br><span class="line">            .libVirVersion(connect.getLibVirVersion())</span><br><span class="line">            .hypervisorVersion(connect.getType())</span><br><span class="line">            .build();</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="SigarUtils"><a href="#SigarUtils" class="headerlink" title="SigarUtils"></a>SigarUtils</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.Utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.libvirt.pojo.Host;</span><br><span class="line"><span class="keyword">import</span> lombok.SneakyThrows;</span><br><span class="line"><span class="keyword">import</span> org.hyperic.sigar.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SigarUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Sigar sigar;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Sigar <span class="title function_">getSigarInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="literal">null</span> == sigar) sigar = <span class="keyword">new</span> <span class="title class_">Sigar</span>();</span><br><span class="line">        <span class="keyword">return</span> sigar;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// getHostInfo</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Host <span class="title function_">getHostInfo</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">OperatingSystem</span> <span class="variable">OS</span> <span class="operator">=</span> OperatingSystem.getInstance();</span><br><span class="line">        <span class="type">Mem</span> <span class="variable">mem</span> <span class="operator">=</span> getSigarInstance().getMem();</span><br><span class="line">        <span class="type">Swap</span> <span class="variable">swap</span> <span class="operator">=</span> sigar.getSwap();</span><br><span class="line">        CpuInfo[] cpuInfoList = getSigarInstance().getCpuInfoList();</span><br><span class="line"></span><br><span class="line">        HashMap&lt;String, Object&gt; fileInfoMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (FileSystem fs : getSigarInstance().getFileSystemList()) &#123;</span><br><span class="line">            <span class="comment">//盘符类型:ext4   硬盘类型:本地硬盘 2</span></span><br><span class="line">            <span class="keyword">if</span> (fs.getType() == <span class="number">2</span> &amp;&amp; fs.getSysTypeName().equals(<span class="string">&quot;ext4&quot;</span>)) &#123;</span><br><span class="line">                <span class="type">FileSystemUsage</span> <span class="variable">usage</span> <span class="operator">=</span> getSigarInstance().getFileSystemUsage(fs.getDirName());</span><br><span class="line">                fileInfoMap.put(<span class="string">&quot;devName&quot;</span>, fs.getDevName());              <span class="comment">// 盘符名称</span></span><br><span class="line">                fileInfoMap.put(<span class="string">&quot;dirName&quot;</span>, fs.getDirName());              <span class="comment">// 盘符路径</span></span><br><span class="line">                fileInfoMap.put(<span class="string">&quot;fileTotal&quot;</span>, usage.getTotal());           <span class="comment">// 总大小       KB</span></span><br><span class="line">                fileInfoMap.put(<span class="string">&quot;fileUsed&quot;</span>, usage.getUsed());             <span class="comment">// 已经使用量   KB</span></span><br><span class="line">                fileInfoMap.put(<span class="string">&quot;fileUsePercent&quot;</span>, (usage.getUsePercent() * <span class="number">100D</span>)); <span class="comment">// 资源的利用率 %</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        HashMap&lt;String, String&gt; netInfoMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String name : getSigarInstance().getNetInterfaceList()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (name.equals(<span class="string">&quot;ens33&quot;</span>)) &#123;</span><br><span class="line">                <span class="type">NetInterfaceConfig</span> <span class="variable">cfg</span> <span class="operator">=</span> sigar.getNetInterfaceConfig(name);</span><br><span class="line">                <span class="keyword">if</span> (NetFlags.LOOPBACK_ADDRESS.equals(cfg.getAddress()) || (cfg.getFlags() &amp; NetFlags.IFF_LOOPBACK) != <span class="number">0</span> || NetFlags.NULL_HWADDR.equals(cfg.getHwaddr()))</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                netInfoMap.put(<span class="string">&quot;description&quot;</span>, cfg.getDescription());    <span class="comment">// 网卡描述</span></span><br><span class="line">                netInfoMap.put(<span class="string">&quot;netType&quot;</span>, cfg.getType());               <span class="comment">// 网卡类型</span></span><br><span class="line">                netInfoMap.put(<span class="string">&quot;IPAddress&quot;</span>, cfg.getAddress());          <span class="comment">// IP地址</span></span><br><span class="line">                netInfoMap.put(<span class="string">&quot;MACAddress&quot;</span>, cfg.getHwaddr());          <span class="comment">// MAC地址</span></span><br><span class="line">                netInfoMap.put(<span class="string">&quot;netmask&quot;</span>, cfg.getNetmask());            <span class="comment">// 子网掩码</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Host.builder()</span><br><span class="line"></span><br><span class="line">                <span class="comment">// os</span></span><br><span class="line">                .vendor(OS.getVendor())                 <span class="comment">// Ubuntu</span></span><br><span class="line">                .vendorVersion(OS.getVendorVersion())   <span class="comment">// 20.04</span></span><br><span class="line">                .vendorCodeName(OS.getVendorCodeName()) <span class="comment">// focal</span></span><br><span class="line">                .version(OS.getVersion())               <span class="comment">// 5.13.0-44-generic</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">// memory 单位:k</span></span><br><span class="line">                .memory(mem.getTotal() / <span class="number">1024L</span>)</span><br><span class="line">                .memoryUsed(mem.getUsed() / <span class="number">1024L</span>)</span><br><span class="line">                .memoryFree(mem.getFree() / <span class="number">1024L</span>)</span><br><span class="line">                .swap(swap.getTotal() / <span class="number">1024L</span>)</span><br><span class="line">                .swapUsed(swap.getUsed() / <span class="number">1024L</span>)</span><br><span class="line">                .swapFree(swap.getFree() / <span class="number">1024L</span>)</span><br><span class="line"></span><br><span class="line">                <span class="comment">// cpu</span></span><br><span class="line">                .cpuNum(cpuInfoList.length)</span><br><span class="line">                .cpuModel(cpuInfoList[<span class="number">1</span>].getModel())</span><br><span class="line">                .cpuMhz(cpuInfoList[<span class="number">1</span>].getMhz())</span><br><span class="line"></span><br><span class="line">                <span class="comment">// file</span></span><br><span class="line">                .devName((String) fileInfoMap.get(<span class="string">&quot;devName&quot;</span>))                    <span class="comment">// 盘符名称</span></span><br><span class="line">                .dirName((String) fileInfoMap.get(<span class="string">&quot;dirName&quot;</span>))                    <span class="comment">// 盘符路径</span></span><br><span class="line">                .fileTotal((Long) fileInfoMap.get(<span class="string">&quot;fileTotal&quot;</span>))                  <span class="comment">// 总大小       KB</span></span><br><span class="line">                .fileUsed((Long) fileInfoMap.get(<span class="string">&quot;fileUsed&quot;</span>))                    <span class="comment">// 已经使用量   KB</span></span><br><span class="line">                .fileUsePercent((Double) fileInfoMap.get(<span class="string">&quot;fileUsePercent&quot;</span>))      <span class="comment">// 资源的利用率 %</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">// net</span></span><br><span class="line">                .netDescription(netInfoMap.get(<span class="string">&quot;description&quot;</span>))                   <span class="comment">// 网卡描述</span></span><br><span class="line">                .netType(netInfoMap.get(<span class="string">&quot;netType&quot;</span>))                              <span class="comment">// 网卡类型</span></span><br><span class="line">                .netIP(netInfoMap.get(<span class="string">&quot;IPAddress&quot;</span>))                              <span class="comment">// IP地址</span></span><br><span class="line">                .netMAC(netInfoMap.get(<span class="string">&quot;MACAddress&quot;</span>))                            <span class="comment">// MAC地址</span></span><br><span class="line">                .netMask(netInfoMap.get(<span class="string">&quot;netmask&quot;</span>))                              <span class="comment">// 子网掩码</span></span><br><span class="line"></span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="pojo"><a href="#pojo" class="headerlink" title="pojo"></a>pojo</h2><h3 id="Host"><a href="#Host" class="headerlink" title="Host"></a>Host</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Host</span> &#123;</span><br><span class="line">    <span class="comment">// os</span></span><br><span class="line">    <span class="keyword">private</span> String vendor;           <span class="comment">// Ubuntu</span></span><br><span class="line">    <span class="keyword">private</span> String vendorVersion;    <span class="comment">// 20.04</span></span><br><span class="line">    <span class="keyword">private</span> String vendorCodeName;   <span class="comment">// focal</span></span><br><span class="line">    <span class="keyword">private</span> String version;          <span class="comment">// 5.13.0-44-generic</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// memory 单位:k</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> memory;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> memoryUsed;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> memoryFree;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> swap;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> swapUsed;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> swapFree;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// cpu</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> cpuNum;</span><br><span class="line">    <span class="keyword">private</span> String cpuModel;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> cpuMhz;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// file</span></span><br><span class="line">    <span class="keyword">private</span> String devName;</span><br><span class="line">    <span class="keyword">private</span> String dirName;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> fileTotal;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> fileUsed;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> fileUsePercent;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// net</span></span><br><span class="line">    <span class="keyword">private</span> String netDescription;</span><br><span class="line">    <span class="keyword">private</span> String netType;</span><br><span class="line">    <span class="keyword">private</span> String netIP;</span><br><span class="line">    <span class="keyword">private</span> String netMAC;</span><br><span class="line">    <span class="keyword">private</span> String netMask;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Virtual"><a href="#Virtual" class="headerlink" title="Virtual"></a>Virtual</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Virtual</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ImgFile"><a href="#ImgFile" class="headerlink" title="ImgFile"></a>ImgFile</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ImgFile</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String size;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Snapshot"><a href="#Snapshot" class="headerlink" title="Snapshot"></a>Snapshot</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Builder;</span><br><span class="line"><span class="keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="keyword">import</span> lombok.ToString;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Snapshot</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String creationTime;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Storagepool"><a href="#Storagepool" class="headerlink" title="Storagepool"></a>Storagepool</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Storagepool</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;    <span class="comment">// 名称</span></span><br><span class="line">    <span class="keyword">private</span> String type;    <span class="comment">// 类型</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> capacity;   <span class="comment">// GB 容量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> available;  <span class="comment">// GB 可用容量</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> allocation; <span class="comment">// GB 已用容量</span></span><br><span class="line">    <span class="keyword">private</span> String usage;   <span class="comment">// 使用率(%)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String state;   <span class="comment">// 状态</span></span><br><span class="line">    <span class="keyword">private</span> String xml;     <span class="comment">// 描述xml</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="LibvirtConnect"><a href="#LibvirtConnect" class="headerlink" title="LibvirtConnect"></a>LibvirtConnect</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LibvirtConnect</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="keyword">private</span> String hostName;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> libVirVersion;</span><br><span class="line">    <span class="keyword">private</span> String hypervisorVersion;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="service"><a href="#service" class="headerlink" title="service"></a>service</h2><h3 id="LibvirtService"><a href="#LibvirtService" class="headerlink" title="LibvirtService"></a>LibvirtService</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.libvirt.Utils.*;</span><br><span class="line"><span class="keyword">import</span> com.example.libvirt.pojo.*;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.SneakyThrows;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.java.Log;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"><span class="keyword">import</span> org.libvirt.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.swing.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Log</span></span><br><span class="line"><span class="meta">@Service(value = &quot;libvirtService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LibvirtService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * getHostInformation</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Host <span class="title function_">getHostInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> SigarUtils.getHostInfo();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * getLibvirtConnectInformation</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> LibvirtConnect <span class="title function_">getLibvirtConnectInformation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> LibvirtUtils.getConnectionIo();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * getDomainById</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> Domain <span class="title function_">getDomainById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> LibvirtUtils.getConnection().domainLookupByID(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * getDomainByName</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> Domain <span class="title function_">getDomainByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> LibvirtUtils.getConnection().domainLookupByName(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * getVirtualById</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> Virtual <span class="title function_">getVirtualById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="type">Domain</span> <span class="variable">domain</span> <span class="operator">=</span> getDomainById(id);</span><br><span class="line">        <span class="keyword">return</span> Virtual.builder()</span><br><span class="line">                .id(domain.getID())</span><br><span class="line">                .name(domain.getName())</span><br><span class="line">                .state(domain.getInfo().state.toString())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * getVirtualByName</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> Virtual <span class="title function_">getVirtualByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="type">Domain</span> <span class="variable">domain</span> <span class="operator">=</span> getDomainByName(name);</span><br><span class="line">        <span class="keyword">return</span> Virtual.builder()</span><br><span class="line">                .id(domain.getID())</span><br><span class="line">                .name(domain.getName())</span><br><span class="line">                .state(domain.getInfo().state.toString())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 虚拟机列表</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Virtual&gt; <span class="title function_">getVirtualList</span><span class="params">()</span> &#123;</span><br><span class="line">        ArrayList&lt;Virtual&gt; virtualList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// live</span></span><br><span class="line">        <span class="type">int</span>[] ids = LibvirtUtils.getConnection().listDomains();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> id : ids) virtualList.add(getVirtualById(id));</span><br><span class="line">        <span class="comment">// down</span></span><br><span class="line">        String[] names = LibvirtUtils.getConnection().listDefinedDomains();</span><br><span class="line">        <span class="keyword">for</span> (String name : names) virtualList.add(getVirtualByName(name));</span><br><span class="line">        <span class="keyword">return</span> virtualList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 暂停/挂起 虚拟机</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">suspendedDomain</span><span class="params">(Domain domain)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (domain.isActive() == <span class="number">1</span>) &#123;</span><br><span class="line">            domain.suspend();</span><br><span class="line">            log.info(domain.getName() + <span class="string">&quot;虚拟机已挂起！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> log.info(<span class="string">&quot;虚拟机未打开&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">suspendedDomainById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        suspendedDomain(getDomainById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">suspendedDomainName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        suspendedDomain(getDomainByName(name));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 还原 暂停/挂起 虚拟机</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">resumeDomain</span><span class="params">(Domain domain)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (domain.isActive() == <span class="number">1</span>) &#123;</span><br><span class="line">            domain.resume();</span><br><span class="line">            log.info(domain.getName() + <span class="string">&quot;虚拟机已唤醒！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> log.info(<span class="string">&quot;虚拟机未打开&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">resumeDomainById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        resumeDomain(getDomainById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">resumeDomainByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        resumeDomain(getDomainByName(name));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 保存 虚拟机 ---&gt;img文件</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">saveDomain</span><span class="params">(Domain domain)</span> &#123;</span><br><span class="line">        <span class="type">JFileChooser</span> <span class="variable">jf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFileChooser</span>();</span><br><span class="line">        jf.setFileSelectionMode(JFileChooser.SAVE_DIALOG | JFileChooser.DIRECTORIES_ONLY);</span><br><span class="line">        jf.showDialog(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">f</span> <span class="operator">=</span> jf.getSelectedFile().getAbsolutePath() + <span class="string">&quot;/save.img&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (domain.isActive() == <span class="number">1</span>) &#123;</span><br><span class="line">            domain.save(f);</span><br><span class="line">            log.info(domain.getName() + <span class="string">&quot;虚拟机状态已保存！&quot;</span> + <span class="string">&quot;save: &quot;</span> + f);</span><br><span class="line">        &#125; <span class="keyword">else</span> log.info(<span class="string">&quot;虚拟机未打开&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveDomainById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        saveDomain(getDomainById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveDomainByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        saveDomain(getDomainByName(name));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 恢复 虚拟机 ---&gt;img文件</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">restoreDomain</span><span class="params">(Domain domain)</span> &#123;</span><br><span class="line">        <span class="type">JFileChooser</span> <span class="variable">chooser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JFileChooser</span>();</span><br><span class="line">        chooser.showOpenDialog(<span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">if</span> (chooser.getSelectedFile() != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> chooser.getSelectedFile().getPath();</span><br><span class="line">            <span class="keyword">if</span> (domain.isActive() == <span class="number">0</span>) &#123;</span><br><span class="line">                domain.getConnect().restore(path);</span><br><span class="line">                log.info(domain.getName() + <span class="string">&quot;虚拟机状态已恢复！！&quot;</span> + <span class="string">&quot;path: &quot;</span> + path);</span><br><span class="line">            &#125; <span class="keyword">else</span> log.info(<span class="string">&quot;虚拟机未关闭&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">restoreDomainById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        restoreDomain(getDomainById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">restoreDomainByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        restoreDomain(getDomainByName(name));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 启动 虚拟机</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">initiateDomain</span><span class="params">(Domain domain)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (domain.isActive() == <span class="number">0</span>) &#123;</span><br><span class="line">            domain.create();</span><br><span class="line">            log.info(domain.getName() + <span class="string">&quot;虚拟机已启动！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> log.info(<span class="string">&quot;虚拟机已经打开过！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initiateDomainByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        initiateDomain(getDomainByName(name));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 关闭 虚拟机</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">shutdownDomain</span><span class="params">(Domain domain)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (domain.isActive() == <span class="number">1</span>) &#123;</span><br><span class="line">            domain.shutdown();</span><br><span class="line">            log.info(domain.getName() + <span class="string">&quot;虚拟机已正常关机！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> log.info(<span class="string">&quot;虚拟机未打开&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutdownDomainById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        shutdownDomain(getDomainById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutdownDomainByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        shutdownDomain(getDomainByName(name));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 强制关闭 虚拟机</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">shutdownMustDomain</span><span class="params">(Domain domain)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (domain.isActive() == <span class="number">1</span>) &#123;</span><br><span class="line">            domain.destroy();</span><br><span class="line">            log.info(domain.getName() + <span class="string">&quot;虚拟机已强制关机！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> log.info(<span class="string">&quot;虚拟机未打开&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutdownMustDomainById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        shutdownMustDomain(getDomainById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shutdownMustDomainByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        shutdownMustDomain(getDomainByName(name));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 重启 虚拟机</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">rebootDomain</span><span class="params">(Domain domain)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (domain.isActive() == <span class="number">1</span>) &#123;</span><br><span class="line">            domain.reboot(<span class="number">0</span>);</span><br><span class="line">            log.info(domain.getName() + <span class="string">&quot;虚拟机状态已重启！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> log.info(<span class="string">&quot;虚拟机未打开&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rebootDomainById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        rebootDomain(getDomainById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rebootDomainByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        rebootDomain(getDomainByName(name));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加 虚拟机 xml------&gt;name   1024MB</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addDomainByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">xml</span> <span class="operator">=</span> <span class="string">&quot;&lt;domain type=&#x27;kvm&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;name&gt;&quot;</span> + name + <span class="string">&quot;&lt;/name&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;uuid&gt;&quot;</span> + UUID.randomUUID() + <span class="string">&quot;&lt;/uuid&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;metadata&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;libosinfo:libosinfo xmlns:libosinfo=\&quot;http://libosinfo.org/xmlns/libvirt/domain/1.0\&quot;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;libosinfo:os id=\&quot;http://ubuntu.com/ubuntu/14.04\&quot;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/libosinfo:libosinfo&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;/metadata&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;memory unit=&#x27;KiB&#x27;&gt;1048576&lt;/memory&gt;\n&quot;</span> +                 <span class="comment">// 1024 MB</span></span><br><span class="line">                <span class="string">&quot;  &lt;currentMemory unit=&#x27;KiB&#x27;&gt;1048576&lt;/currentMemory&gt;\n&quot;</span> +   <span class="comment">// 1024 MB</span></span><br><span class="line">                <span class="string">&quot;  &lt;vcpu placement=&#x27;static&#x27;&gt;2&lt;/vcpu&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;os&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;type arch=&#x27;x86_64&#x27; machine=&#x27;pc-i440fx-focal&#x27;&gt;hvm&lt;/type&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;boot dev=&#x27;hd&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;/os&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;features&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;acpi/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;apic/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;vmport state=&#x27;off&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;/features&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;cpu mode=&#x27;host-model&#x27; check=&#x27;partial&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;clock offset=&#x27;utc&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;timer name=&#x27;rtc&#x27; tickpolicy=&#x27;catchup&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;timer name=&#x27;pit&#x27; tickpolicy=&#x27;delay&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;timer name=&#x27;hpet&#x27; present=&#x27;no&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;/clock&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;on_poweroff&gt;destroy&lt;/on_poweroff&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;on_reboot&gt;restart&lt;/on_reboot&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;on_crash&gt;destroy&lt;/on_crash&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;pm&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;suspend-to-mem enabled=&#x27;no&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;suspend-to-disk enabled=&#x27;no&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;/pm&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;devices&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;emulator&gt;&quot;</span> + <span class="string">&quot;/usr/bin/qemu-system-x86_64&quot;</span> + <span class="string">&quot;&lt;/emulator&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;disk type=&#x27;file&#x27; device=&#x27;disk&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;driver name=&#x27;qemu&#x27; type=&#x27;qcow2&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;source file=&#x27;/home/wyl/KVMImg/&quot;</span> + name + <span class="string">&quot;.img&#x27;/&gt;\n&quot;</span> +   <span class="comment">// FileSource</span></span><br><span class="line">                <span class="string">&quot;      &lt;target dev=&#x27;vda&#x27; bus=&#x27;virtio&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;pci&#x27; domain=&#x27;0x0000&#x27; bus=&#x27;0x00&#x27; slot=&#x27;0x07&#x27; function=&#x27;0x0&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/disk&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;controller type=&#x27;usb&#x27; index=&#x27;0&#x27; model=&#x27;ich9-ehci1&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;pci&#x27; domain=&#x27;0x0000&#x27; bus=&#x27;0x00&#x27; slot=&#x27;0x05&#x27; function=&#x27;0x7&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/controller&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;controller type=&#x27;usb&#x27; index=&#x27;0&#x27; model=&#x27;ich9-uhci1&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;master startport=&#x27;0&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;pci&#x27; domain=&#x27;0x0000&#x27; bus=&#x27;0x00&#x27; slot=&#x27;0x05&#x27; function=&#x27;0x0&#x27; multifunction=&#x27;on&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/controller&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;controller type=&#x27;usb&#x27; index=&#x27;0&#x27; model=&#x27;ich9-uhci2&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;master startport=&#x27;2&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;pci&#x27; domain=&#x27;0x0000&#x27; bus=&#x27;0x00&#x27; slot=&#x27;0x05&#x27; function=&#x27;0x1&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/controller&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;controller type=&#x27;usb&#x27; index=&#x27;0&#x27; model=&#x27;ich9-uhci3&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;master startport=&#x27;4&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;pci&#x27; domain=&#x27;0x0000&#x27; bus=&#x27;0x00&#x27; slot=&#x27;0x05&#x27; function=&#x27;0x2&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/controller&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;controller type=&#x27;pci&#x27; index=&#x27;0&#x27; model=&#x27;pci-root&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;controller type=&#x27;virtio-serial&#x27; index=&#x27;0&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;pci&#x27; domain=&#x27;0x0000&#x27; bus=&#x27;0x00&#x27; slot=&#x27;0x06&#x27; function=&#x27;0x0&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/controller&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;interface type=&#x27;network&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;mac address=&#x27;52:54:00:27:6d:ef&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;source network=&#x27;default&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;model type=&#x27;virtio&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;pci&#x27; domain=&#x27;0x0000&#x27; bus=&#x27;0x00&#x27; slot=&#x27;0x03&#x27; function=&#x27;0x0&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/interface&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;serial type=&#x27;pty&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;target type=&#x27;isa-serial&#x27; port=&#x27;0&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;        &lt;model name=&#x27;isa-serial&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;/target&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/serial&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;console type=&#x27;pty&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;target type=&#x27;serial&#x27; port=&#x27;0&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/console&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;channel type=&#x27;spicevmc&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;target type=&#x27;virtio&#x27; name=&#x27;com.redhat.spice.0&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;virtio-serial&#x27; controller=&#x27;0&#x27; bus=&#x27;0&#x27; port=&#x27;1&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/channel&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;input type=&#x27;tablet&#x27; bus=&#x27;usb&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;usb&#x27; bus=&#x27;0&#x27; port=&#x27;1&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/input&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;input type=&#x27;mouse&#x27; bus=&#x27;ps2&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;input type=&#x27;keyboard&#x27; bus=&#x27;ps2&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;graphics type=&#x27;vnc&#x27; port=&#x27;-1&#x27; autoport=&#x27;yes&#x27; listen=&#x27;0.0.0.0&#x27; keymap=&#x27;en-us&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;listen type=&#x27;address&#x27; address=&#x27;0.0.0.0&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/graphics&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;sound model=&#x27;ich6&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;pci&#x27; domain=&#x27;0x0000&#x27; bus=&#x27;0x00&#x27; slot=&#x27;0x04&#x27; function=&#x27;0x0&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/sound&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;video&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;model type=&#x27;qxl&#x27; ram=&#x27;65536&#x27; vram=&#x27;65536&#x27; vgamem=&#x27;16384&#x27; heads=&#x27;1&#x27; primary=&#x27;yes&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;pci&#x27; domain=&#x27;0x0000&#x27; bus=&#x27;0x00&#x27; slot=&#x27;0x02&#x27; function=&#x27;0x0&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/video&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;redirdev bus=&#x27;usb&#x27; type=&#x27;spicevmc&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;usb&#x27; bus=&#x27;0&#x27; port=&#x27;2&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/redirdev&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;redirdev bus=&#x27;usb&#x27; type=&#x27;spicevmc&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;usb&#x27; bus=&#x27;0&#x27; port=&#x27;3&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/redirdev&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;memballoon model=&#x27;virtio&#x27;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;      &lt;address type=&#x27;pci&#x27; domain=&#x27;0x0000&#x27; bus=&#x27;0x00&#x27; slot=&#x27;0x08&#x27; function=&#x27;0x0&#x27;/&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/memballoon&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;  &lt;/devices&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;&lt;/domain&gt;&quot;</span>;</span><br><span class="line">        LibvirtUtils.getConnection().domainDefineXML(xml);    <span class="comment">// define ------&gt; creat</span></span><br><span class="line">        log.info(name + <span class="string">&quot;虚拟机已创建！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 删除 虚拟机 xml</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">deleteDomain</span><span class="params">(Domain domain)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (domain.isActive() == <span class="number">1</span>) domain.destroy();  <span class="comment">// 强制关机</span></span><br><span class="line">        domain.undefine();</span><br><span class="line">        log.info(domain.getName() + <span class="string">&quot;虚拟机已删除！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteDomainById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        deleteDomain(getDomainById(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteDomainByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        deleteDomain(getDomainByName(name));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * get ImgList</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;ImgFile&gt; <span class="title function_">getImgList</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;ImgFile&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        File[] files = <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;/home/wyl/KVMImg/&quot;</span>).listFiles();</span><br><span class="line">        <span class="keyword">if</span> (files != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (File file : files) &#123;</span><br><span class="line">                list.add(ImgFile.builder()</span><br><span class="line">                        .name(file.getName())</span><br><span class="line">                        .size(FileUtils.byteCountToDisplaySize(FileUtils.sizeOf(file)))</span><br><span class="line">                        .build());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加 img</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> Boolean <span class="title function_">addImgFile</span><span class="params">(String name, MultipartFile file)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!file.isEmpty()) &#123;</span><br><span class="line">            file.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;/home/wyl/KVMImg/&quot;</span> + name + <span class="string">&quot;.img&quot;</span>));</span><br><span class="line">            log.info(<span class="string">&quot;文件&quot;</span> + name + <span class="string">&quot;.img已经保存！&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        log.info(<span class="string">&quot;文件&quot;</span> + name + <span class="string">&quot;.img保存失败！&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 下载 img</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">downImgFile</span><span class="params">(String name, HttpServletResponse response)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;/home/wyl/KVMImg/&quot;</span> + name);</span><br><span class="line">        <span class="keyword">if</span> (!file.exists()) <span class="keyword">return</span> <span class="string">&quot;下载文件不存在&quot;</span>;</span><br><span class="line">        response.reset();</span><br><span class="line">        response.setContentType(<span class="string">&quot;application/octet-stream&quot;</span>);</span><br><span class="line">        response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        response.setContentLength((<span class="type">int</span>) file.length());</span><br><span class="line">        response.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment;fileName=&quot;</span> + URLEncoder.encode(file.getName(), <span class="string">&quot;UTF-8&quot;</span>));  <span class="comment">// 设置编码格式</span></span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file));</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">while</span> ((i = bis.read(buff)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            os.write(buff, <span class="number">0</span>, i);</span><br><span class="line">            os.flush();</span><br><span class="line">        &#125;</span><br><span class="line">        bis.close();</span><br><span class="line">        os.close();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;下载成功&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 删除 img</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Boolean <span class="title function_">deleteImgFile</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;/home/wyl/KVMImg/&quot;</span> + name).delete()) &#123;</span><br><span class="line">            log.info(<span class="string">&quot;文件&quot;</span> + name + <span class="string">&quot;已经删除！&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        log.info(<span class="string">&quot;文件&quot;</span> + name + <span class="string">&quot;文件不存在&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 关闭网络</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">closeNetWork</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Domain</span> <span class="variable">domain</span> <span class="operator">=</span> getDomainByName(getVirtualList().get(<span class="number">0</span>).getName());</span><br><span class="line">        <span class="type">Network</span> <span class="variable">network</span> <span class="operator">=</span> domain.getConnect().networkLookupByName(<span class="string">&quot;default&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (network.isActive() == <span class="number">1</span>) &#123;</span><br><span class="line">            network.destroy();</span><br><span class="line">            log.info(<span class="string">&quot;网络&quot;</span> + network.getName() + <span class="string">&quot;已经被关闭！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> log.info(<span class="string">&quot;网络&quot;</span> + network.getName() + <span class="string">&quot;已经处于关闭状态！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 启动网络</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">openNetWork</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Domain</span> <span class="variable">domain</span> <span class="operator">=</span> getDomainByName(getVirtualList().get(<span class="number">0</span>).getName());</span><br><span class="line">        <span class="type">Network</span> <span class="variable">network</span> <span class="operator">=</span> domain.getConnect().networkLookupByName(<span class="string">&quot;default&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (network.isActive() == <span class="number">0</span>) &#123;</span><br><span class="line">            network.create();</span><br><span class="line">            log.info(<span class="string">&quot;网络&quot;</span> + network.getName() + <span class="string">&quot;已经被打开！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> log.info(<span class="string">&quot;网络&quot;</span> + network.getName() + <span class="string">&quot;已经处于打开状态！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 网络 State</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getNetState</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Domain</span> <span class="variable">domain</span> <span class="operator">=</span> getDomainByName(getVirtualList().get(<span class="number">0</span>).getName());</span><br><span class="line">        <span class="keyword">if</span> (domain.getConnect().networkLookupByName(<span class="string">&quot;default&quot;</span>).isActive() == <span class="number">1</span>) <span class="keyword">return</span> <span class="string">&quot;on&quot;</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="string">&quot;off&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * getSnapshotList</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Snapshot&gt; <span class="title function_">getSnapshotListByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="comment">// virsh snapshot-list      虚拟机名</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">cmd</span> <span class="operator">=</span> <span class="string">&quot;virsh snapshot&quot;</span> + <span class="string">&quot;-list &quot;</span> + name;</span><br><span class="line">        <span class="type">Process</span> <span class="variable">process</span> <span class="operator">=</span> Runtime.getRuntime().exec(cmd);</span><br><span class="line">        <span class="type">LineNumberReader</span> <span class="variable">line</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LineNumberReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(process.getInputStream()));</span><br><span class="line">        ArrayList&lt;Snapshot&gt; snapshots = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        String str;</span><br><span class="line">        <span class="type">int</span> <span class="variable">linCount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">snapshotNum</span> <span class="operator">=</span> getDomainByName(name).snapshotNum(); <span class="comment">// 2</span></span><br><span class="line">        <span class="keyword">while</span> ((str = line.readLine()) != <span class="literal">null</span> &amp;&amp; snapshotNum &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            linCount++;</span><br><span class="line">            <span class="keyword">if</span> (linCount &lt;= <span class="number">2</span>) <span class="keyword">continue</span>;  <span class="comment">// -2 line</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                snapshotNum--;</span><br><span class="line">                String[] lineStr = str.split(<span class="string">&quot;   &quot;</span>);</span><br><span class="line">                snapshots.add(Snapshot.builder().name(lineStr[<span class="number">0</span>]).creationTime(lineStr[<span class="number">1</span>]).state(lineStr[<span class="number">2</span>]).build());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> snapshots;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * snapshot管理</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">snapshotManger</span><span class="params">(String op, String name, String snapshotName)</span> &#123;</span><br><span class="line">        <span class="comment">// virsh snapshot-create-as 虚拟机名称 快照名称</span></span><br><span class="line">        <span class="comment">// virsh snapshot-delete    虚拟机名称 快照名称</span></span><br><span class="line">        <span class="comment">// virsh snapshot-revert    虚拟机名称 快照名称</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">cmd</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;creat&quot;</span>:</span><br><span class="line">                cmd = <span class="string">&quot;virsh snapshot&quot;</span> + <span class="string">&quot;-create-as &quot;</span> + name + <span class="string">&quot; &quot;</span> + snapshotName;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;delete&quot;</span>:</span><br><span class="line">                cmd = <span class="string">&quot;virsh snapshot&quot;</span> + <span class="string">&quot;-delete &quot;</span> + name + <span class="string">&quot; &quot;</span> + snapshotName;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;revert&quot;</span>:</span><br><span class="line">                cmd = <span class="string">&quot;virsh snapshot&quot;</span> + <span class="string">&quot;-revert &quot;</span> + name + <span class="string">&quot; &quot;</span> + snapshotName;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Runtime.getRuntime().exec(cmd);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 创建快照</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">createSnapshot</span><span class="params">(String name, String snapshotName)</span> &#123;</span><br><span class="line">        snapshotManger(<span class="string">&quot;creat&quot;</span>, name, snapshotName);</span><br><span class="line">        log.info(<span class="string">&quot;虚拟机&quot;</span> + name + <span class="string">&quot;成功创建快照&quot;</span> + snapshotName);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 删除快照</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteSnapshot</span><span class="params">(String name, String snapshotName)</span> &#123;</span><br><span class="line">        snapshotManger(<span class="string">&quot;delete&quot;</span>, name, snapshotName);</span><br><span class="line">        log.info(<span class="string">&quot;虚拟机&quot;</span> + name + <span class="string">&quot;成功删除快照&quot;</span> + snapshotName);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 启动快照</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">revertSnapshot</span><span class="params">(String name, String snapshotName)</span> &#123;</span><br><span class="line">        snapshotManger(<span class="string">&quot;revert&quot;</span>, name, snapshotName);</span><br><span class="line">        log.info(<span class="string">&quot;虚拟机&quot;</span> + name + <span class="string">&quot;成功切换快照&quot;</span> + snapshotName);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * getStoragePoolList</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Storagepool&gt; <span class="title function_">getStoragePoolList</span><span class="params">()</span> &#123;</span><br><span class="line">        String[] pools = LibvirtUtils.getConnection().listStoragePools();</span><br><span class="line">        String[] definedPools = LibvirtUtils.getConnection().listDefinedStoragePools();</span><br><span class="line">        log.info(<span class="string">&quot;pools&quot;</span> + Arrays.toString(pools) + <span class="string">&quot;definedPools&quot;</span> + Arrays.toString(definedPools));</span><br><span class="line">        List&lt;Storagepool&gt; storagePoolList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String pool : pools) storagePoolList.add(getStoragePool(pool));</span><br><span class="line">        <span class="keyword">for</span> (String pool : definedPools) storagePoolList.add(getStoragePool(pool));</span><br><span class="line">        <span class="keyword">return</span> storagePoolList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * getStoragePool ByName</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> Storagepool <span class="title function_">getStoragePool</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="type">StoragePool</span> <span class="variable">storagePool</span> <span class="operator">=</span> LibvirtUtils.getConnection().storagePoolLookupByName(name);</span><br><span class="line">        <span class="type">StoragePoolInfo</span> <span class="variable">info</span> <span class="operator">=</span> storagePool.getInfo();</span><br><span class="line">        <span class="keyword">return</span> Storagepool.builder()</span><br><span class="line">                .name(name)     <span class="comment">// 名称</span></span><br><span class="line">                .type(<span class="string">&quot;qcow2&quot;</span>)  <span class="comment">// 类型</span></span><br><span class="line">                .capacity((<span class="type">int</span>) (info.capacity / <span class="number">1024.00</span> / <span class="number">1024.00</span> / <span class="number">1024.00</span>))     <span class="comment">// GB 容量</span></span><br><span class="line">                .available((<span class="type">int</span>) (info.available / <span class="number">1024.00</span> / <span class="number">1024.00</span> / <span class="number">1024.00</span>))   <span class="comment">// GB 可用容量</span></span><br><span class="line">                .allocation((<span class="type">int</span>) (info.allocation / <span class="number">1024.00</span> / <span class="number">1024.00</span> / <span class="number">1024.00</span>)) <span class="comment">// GB 已用容量</span></span><br><span class="line">                .usage(((<span class="type">int</span>) ((info.allocation / <span class="number">1024.00</span> / <span class="number">1024.00</span> / <span class="number">1024.00</span>) / (info.capacity / <span class="number">1024.00</span> / <span class="number">1024.00</span> / <span class="number">1024.00</span>) * <span class="number">100</span>)) + <span class="string">&quot;%&quot;</span>) <span class="comment">// 使用率(%)</span></span><br><span class="line">                .state(info.state.toString())                <span class="comment">// 状态</span></span><br><span class="line">                .xml(storagePool.getXMLDesc(<span class="number">0</span>))        <span class="comment">// 描述xml</span></span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 删除StoragePool ByName</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteStoragePool</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="type">StoragePool</span> <span class="variable">storagePool</span> <span class="operator">=</span> LibvirtUtils.getConnection().storagePoolLookupByName(name);</span><br><span class="line">        <span class="keyword">for</span> (String pool : LibvirtUtils.getConnection().listStoragePools())</span><br><span class="line">            <span class="keyword">if</span> (pool.equals(name)) storagePool.destroy();</span><br><span class="line">        <span class="keyword">for</span> (String pool : LibvirtUtils.getConnection().listDefinedStoragePools())</span><br><span class="line">            <span class="keyword">if</span> (pool.equals(name)) storagePool.undefine();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 创建Storagepool  &gt;&gt;&gt;&gt;&gt;&gt; url必须存在</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">createStoragepool</span><span class="params">(String name, String url)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">xml</span> <span class="operator">=</span> <span class="string">&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;&lt;pool type=\&quot;dir\&quot;&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;name&gt;&quot;</span> + name + <span class="string">&quot;&lt;/name&gt; \n&quot;</span> +       <span class="comment">// 名称必须唯一</span></span><br><span class="line">                <span class="string">&quot;    &lt;source&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/source&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;target&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;        &lt;path&gt;&quot;</span> + url + <span class="string">&quot;&lt;/path&gt; \n&quot;</span> +                     <span class="comment">// StoragePool 在宿主机的路径</span></span><br><span class="line">                <span class="string">&quot;        &lt;permissions&gt; \n&quot;</span> +                                <span class="comment">// 权限</span></span><br><span class="line">                <span class="string">&quot;            &lt;mode&gt;0711&lt;/mode&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;            &lt;owner&gt;0&lt;/owner&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;            &lt;group&gt;0&lt;/group&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;        &lt;/permissions&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;    &lt;/target&gt;\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;&lt;/pool&gt;&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> LibvirtUtils.getConnection().storagePoolCreateXML(xml, <span class="number">0</span>) == <span class="literal">null</span> ? <span class="literal">false</span> : <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="controller"><a href="#controller" class="headerlink" title="controller"></a>controller</h2><h3 id="LibvirtController"><a href="#LibvirtController" class="headerlink" title="LibvirtController"></a>LibvirtController</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.libvirt.pojo.*;</span><br><span class="line"><span class="keyword">import</span> com.example.libvirt.service.LibvirtService;</span><br><span class="line"><span class="keyword">import</span> lombok.SneakyThrows;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LibvirtController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource(name = &quot;libvirtService&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> LibvirtService libvirtService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &#123;&quot;/index&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">index</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">        <span class="type">Host</span> <span class="variable">hostInfo</span> <span class="operator">=</span> libvirtService.getHostInfo();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;hostinfo&quot;</span>, hostInfo);</span><br><span class="line">        <span class="type">LibvirtConnect</span> <span class="variable">connectInformation</span> <span class="operator">=</span> libvirtService.getLibvirtConnectInformation();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;connectInformation&quot;</span>, connectInformation);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/main&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">main</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">        List&lt;Virtual&gt; virtualList = libvirtService.getVirtualList();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;virtualList&quot;</span>, virtualList);</span><br><span class="line">        <span class="type">String</span> <span class="variable">netState</span> <span class="operator">=</span> libvirtService.getNetState();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;netState&quot;</span>, netState);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/openOrCloseNetWork&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">openOrCloseNetWork</span><span class="params">(<span class="meta">@RequestParam(&quot;netState&quot;)</span> String netState)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;on&quot;</span>.equals(netState)) libvirtService.closeNetWork();</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;off&quot;</span>.equals(netState)) libvirtService.openNetWork();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/initiate&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">initiateVirtual</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">        libvirtService.initiateDomainByName(name);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/suspended&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">suspendedVirtual</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">        libvirtService.suspendedDomainName(name);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/resume&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">resumeVirtual</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">        libvirtService.resumeDomainByName(name);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/save&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">saveVirtual</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">        libvirtService.saveDomainByName(name);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/restore&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">restoreVirtual</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">        libvirtService.restoreDomainByName(name);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/shutdown&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">shutdownVirtual</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">        libvirtService.shutdownDomainByName(name);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/shutdownMust&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">shutdownMustVirtual</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">        libvirtService.shutdownMustDomainByName(name);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/reboot&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">rebootVirtual</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">        libvirtService.rebootDomainByName(name);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">deleteVirtual</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">        libvirtService.deleteDomainByName(name);</span><br><span class="line">        libvirtService.deleteImgFile(name + <span class="string">&quot;.img&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/toAddVirtual&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toAddVirtual</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">netState</span> <span class="operator">=</span> libvirtService.getNetState();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;netState&quot;</span>, netState);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;addVirtual&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/addVirtual&quot;, method = RequestMethod.POST)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">addVirtual</span><span class="params">(<span class="meta">@RequestParam(&quot;virtualName&quot;)</span> String name,</span></span><br><span class="line"><span class="params">                             <span class="meta">@RequestPart(&quot;file&quot;)</span> MultipartFile file)</span> &#123;</span><br><span class="line">        libvirtService.addDomainByName(name);</span><br><span class="line">        libvirtService.addImgFile(name, file);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:main&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/img&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">imgList</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">        List&lt;ImgFile&gt; imgList = libvirtService.getImgList();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;imgList&quot;</span>, imgList);</span><br><span class="line">        <span class="type">String</span> <span class="variable">netState</span> <span class="operator">=</span> libvirtService.getNetState();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;netState&quot;</span>, netState);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;img&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/toAddImg&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toAddImg</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">netState</span> <span class="operator">=</span> libvirtService.getNetState();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;netState&quot;</span>, netState);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;addImg&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/addImg&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">addImg</span><span class="params">(<span class="meta">@RequestParam(&quot;imgName&quot;)</span> String name,</span></span><br><span class="line"><span class="params">                         <span class="meta">@RequestPart(&quot;file&quot;)</span> MultipartFile file)</span> &#123;</span><br><span class="line">        libvirtService.addImgFile(name, file);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:img&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/deleteImg&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">deleteImg</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">        libvirtService.deleteImgFile(name);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:img&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/downImg&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">downImg</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name, HttpServletResponse response)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> libvirtService.downImgFile(name, response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getSnapshotList&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSnapshotList</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name,</span></span><br><span class="line"><span class="params">                                  Model model)</span> &#123;</span><br><span class="line">        List&lt;Snapshot&gt; snapshotList = libvirtService.getSnapshotListByName(name);</span><br><span class="line">        model.addAttribute(<span class="string">&quot;snapshotList&quot;</span>, snapshotList);</span><br><span class="line">        model.addAttribute(<span class="string">&quot;virtualName&quot;</span>, name);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;snapshot&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/deleteSnapshot&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">deleteSnapshot</span><span class="params">(<span class="meta">@RequestParam(&quot;virtualName&quot;)</span> String virtualName,</span></span><br><span class="line"><span class="params">                                 <span class="meta">@RequestParam(&quot;snapshotName&quot;)</span> String snapshotName)</span> &#123;</span><br><span class="line">        libvirtService.deleteSnapshot(virtualName, snapshotName);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/getSnapshotList?name=&quot;</span> + virtualName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/revertSnapshot&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">revertSnapshot</span><span class="params">(<span class="meta">@RequestParam(&quot;virtualName&quot;)</span> String virtualName,</span></span><br><span class="line"><span class="params">                                 <span class="meta">@RequestParam(&quot;snapshotName&quot;)</span> String snapshotName)</span> &#123;</span><br><span class="line">        libvirtService.revertSnapshot(virtualName, snapshotName);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/getSnapshotList?name=&quot;</span> + virtualName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/createSnapshot&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">createSnapshot</span><span class="params">(<span class="meta">@RequestParam(&quot;virtualName&quot;)</span> String virtualName,</span></span><br><span class="line"><span class="params">                                 <span class="meta">@RequestParam(&quot;snapshotName&quot;)</span> String snapshotName)</span> &#123;</span><br><span class="line">        libvirtService.createSnapshot(virtualName, snapshotName);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/getSnapshotList?name=&quot;</span> + virtualName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/storagePoolList&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">storagePoolList</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">        List&lt;Storagepool&gt; storagePoolList = libvirtService.getStoragePoolList();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;storagePoolList&quot;</span>, storagePoolList);</span><br><span class="line">        <span class="type">String</span> <span class="variable">netState</span> <span class="operator">=</span> libvirtService.getNetState();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;netState&quot;</span>, netState);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;storagepool&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/deleteStoragePool&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">deleteStoragePool</span><span class="params">(<span class="meta">@RequestParam(&quot;name&quot;)</span> String name)</span> &#123;</span><br><span class="line">        libvirtService.deleteStoragePool(name);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/storagePoolList&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/toCreateStoragepool&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toCreateStoragepool</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">netState</span> <span class="operator">=</span> libvirtService.getNetState();</span><br><span class="line">        model.addAttribute(<span class="string">&quot;netState&quot;</span>, netState);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;addStoragepool&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/createStoragepool&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">createStoragepool</span><span class="params">(<span class="meta">@RequestParam(&quot;storagepoolName&quot;)</span> String name,</span></span><br><span class="line"><span class="params">                                    <span class="meta">@RequestParam(&quot;storagepoolPath&quot;)</span> String url)</span> &#123;</span><br><span class="line">        libvirtService.createStoragepool(name, url);</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/storagePoolList&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="UserController"><a href="#UserController" class="headerlink" title="UserController"></a>UserController</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.libvirt.pojo.Host;</span><br><span class="line"><span class="keyword">import</span> com.example.libvirt.pojo.LibvirtConnect;</span><br><span class="line"><span class="keyword">import</span> com.example.libvirt.service.LibvirtService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 跳转登录页面</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &#123;&quot;/&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toLogin</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 登录</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &#123;&quot;/login&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">login</span><span class="params">(<span class="meta">@RequestParam(value = &quot;username&quot;, required = true)</span> String userName,</span></span><br><span class="line"><span class="params">                        <span class="meta">@RequestParam(value = &quot;password&quot;, required = true)</span> String password,</span></span><br><span class="line"><span class="params">                        Model model,</span></span><br><span class="line"><span class="params">                        HttpSession session)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;admin&quot;</span>.equals(userName) &amp;&amp; <span class="string">&quot;admin&quot;</span>.equals(password)) &#123;</span><br><span class="line">            session.setAttribute(<span class="string">&quot;loginUser&quot;</span>, userName);<span class="comment">//UserName存入Session</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;redirect:index&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;userName or password error!&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 注销</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/loginOut&quot;, method = RequestMethod.GET)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">loginOut</span><span class="params">(HttpSession session)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (session.getAttribute(<span class="string">&quot;loginUser&quot;</span>) != <span class="literal">null</span>) &#123;</span><br><span class="line">            session.removeAttribute(<span class="string">&quot;loginUser&quot;</span>);          <span class="comment">//移除Session 转到登陆界面</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="interceptor"><a href="#interceptor" class="headerlink" title="interceptor"></a>interceptor</h2><h3 id="LoginInterceptor"><a href="#LoginInterceptor" class="headerlink" title="LoginInterceptor"></a>LoginInterceptor</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 目标方法执行之前</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        log.info(<span class="string">&quot;preHandle拦截的请求路径是&#123;&#125;&quot;</span>, request.getRequestURI());</span><br><span class="line">        <span class="type">Object</span> <span class="variable">loginUser</span> <span class="operator">=</span> request.getSession().getAttribute(<span class="string">&quot;loginUser&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (loginUser != <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;     <span class="comment">// 放行</span></span><br><span class="line">        <span class="comment">//拦截住。未登录。跳转到登录页</span></span><br><span class="line">        request.setAttribute(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;请先登录&quot;</span>);</span><br><span class="line">        <span class="comment">//response.sendRedirect(&quot;/&quot;);</span></span><br><span class="line">        request.getRequestDispatcher(<span class="string">&quot;/&quot;</span>).forward(request, response);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 目标方法执行完成以后</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        log.info(<span class="string">&quot;postHandle执行&#123;&#125;&quot;</span>, modelAndView);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 页面渲染以后</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        log.info(<span class="string">&quot;afterCompletion执行异常&#123;&#125;&quot;</span>, ex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="config"><a href="#config" class="headerlink" title="config"></a>config</h2><h3 id="MyMvcConfig"><a href="#MyMvcConfig" class="headerlink" title="MyMvcConfig"></a>MyMvcConfig</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.libvirt.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.libvirt.interceptor.LoginInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.format.FormatterRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.converter.HttpMessageConverter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.MessageCodesResolver;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.Validator;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.method.support.HandlerMethodArgumentResolver;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.method.support.HandlerMethodReturnValueHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerExceptionResolver;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration(value = &quot;myMvcConfig&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyMvcConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 配置拦截器</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(<span class="keyword">new</span> <span class="title class_">LoginInterceptor</span>()).</span><br><span class="line">                addPathPatterns(<span class="string">&quot;/**&quot;</span>).</span><br><span class="line">                excludePathPatterns(<span class="string">&quot;/&quot;</span>, <span class="string">&quot;/login&quot;</span>).</span><br><span class="line">                excludePathPatterns(<span class="string">&quot;/css/*&quot;</span>, <span class="string">&quot;/js/*&quot;</span>, <span class="string">&quot;/img/*&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configurePathMatch</span><span class="params">(PathMatchConfigurer pathMatchConfigurer)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configureContentNegotiation</span><span class="params">(ContentNegotiationConfigurer contentNegotiationConfigurer)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configureAsyncSupport</span><span class="params">(AsyncSupportConfigurer asyncSupportConfigurer)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configureDefaultServletHandling</span><span class="params">(DefaultServletHandlerConfigurer defaultServletHandlerConfigurer)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addFormatters</span><span class="params">(FormatterRegistry formatterRegistry)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry resourceHandlerRegistry)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addCorsMappings</span><span class="params">(CorsRegistry corsRegistry)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addViewControllers</span><span class="params">(ViewControllerRegistry viewControllerRegistry)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configureViewResolvers</span><span class="params">(ViewResolverRegistry viewResolverRegistry)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addArgumentResolvers</span><span class="params">(List&lt;HandlerMethodArgumentResolver&gt; list)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addReturnValueHandlers</span><span class="params">(List&lt;HandlerMethodReturnValueHandler&gt; list)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configureMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; list)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">extendMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; list)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configureHandlerExceptionResolvers</span><span class="params">(List&lt;HandlerExceptionResolver&gt; list)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">extendHandlerExceptionResolvers</span><span class="params">(List&lt;HandlerExceptionResolver&gt; list)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Validator <span class="title function_">getValidator</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> MessageCodesResolver <span class="title function_">getMessageCodesResolver</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="properties"><a href="#properties" class="headerlink" title="properties"></a>properties</h2><h3 id="application-properties"><a href="#application-properties" class="headerlink" title="application.properties"></a>application.properties</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">spring.http.multipart.max-file-size=10240MB</span><br><span class="line">spring.http.multipart.max-request-size=10240MB</span><br></pre></td></tr></table></figure><h2 id="templates"><a href="#templates" class="headerlink" title="templates"></a>templates</h2><h3 id="login-html"><a href="#login-html" class="headerlink" title="login.html"></a>login.html</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span> xmlns:th=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>/&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;</span>/&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;description&quot;</span> content=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;author&quot;</span> content=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;云平台管理系统AdminLogin&lt;/title&gt;</span><br><span class="line">    &lt;!-- Bootstrap core CSS --&gt;</span><br><span class="line">    &lt;link th:href=<span class="string">&quot;@&#123;/css/bootstrap.min.css&#125;&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>/&gt;</span><br><span class="line">    &lt;!-- Custom styles <span class="keyword">for</span> <span class="built_in">this</span> template --&gt;</span><br><span class="line">    &lt;link th:href=<span class="string">&quot;@&#123;/css/signin.css&#125;&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>/&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body class=<span class="string">&quot;text-center&quot;</span>&gt;</span><br><span class="line">&lt;form class=<span class="string">&quot;form-signin&quot;</span> th:action=<span class="string">&quot;@&#123;/login&#125;&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    &lt;img class=<span class="string">&quot;mb-4&quot;</span> th:src=<span class="string">&quot;@&#123;/img/log.jpg&#125;&quot;</span> alt=<span class="string">&quot;&quot;</span> width=<span class="string">&quot;72&quot;</span> height=<span class="string">&quot;72&quot;</span>/&gt;</span><br><span class="line">    &lt;h1 class=<span class="string">&quot;h3 mb-3 font-weight-normal&quot;</span>&gt;Admin Log In&lt;/h1&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> class=<span class="string">&quot;form-control&quot;</span> name=<span class="string">&quot;username&quot;</span> required=<span class="string">&quot;&quot;</span> autofocus=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;password&quot;</span> class=<span class="string">&quot;form-control&quot;</span> name=<span class="string">&quot;password&quot;</span> required=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">    &lt;button class=<span class="string">&quot;btn btn-lg btn-primary btn-block&quot;</span> type=<span class="string">&quot;submit&quot;</span>&gt;登录&lt;/button&gt;</span><br><span class="line">    &lt;p class=<span class="string">&quot;mt-5 mb-3 &quot;</span> style=<span class="string">&quot;color: red&quot;</span> th:text=<span class="string">&quot;$&#123;msg&#125;&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line">    &lt;p class=<span class="string">&quot;mt-5 mb-3 text-muted&quot;</span>&gt;© <span class="number">2021</span> design by wyl&lt;/p&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span> xmlns:th=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;utf-8&quot;</span>/&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;</span>/&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;description&quot;</span> content=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;author&quot;</span> content=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;云平台管理系统&lt;/title&gt;</span><br><span class="line">    &lt;!-- Font Awesome <span class="title function_">icons</span> <span class="params">(free version)</span>--&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;https://use.fontawesome.com/releases/v6.1.0/js/all.js&quot;</span> crossorigin=<span class="string">&quot;anonymous&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- Google fonts--&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;https://fonts.googleapis.com/css?family=Montserrat:400,700&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span> type=<span class="string">&quot;text/css&quot;</span>/&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span></span><br><span class="line">          type=<span class="string">&quot;text/css&quot;</span>/&gt;</span><br><span class="line">    &lt;!-- Core theme <span class="title function_">CSS</span> <span class="params">(includes Bootstrap)</span>--&gt;</span><br><span class="line">    &lt;link th:href=<span class="string">&quot;@&#123;css/styleindex.css&#125;&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>/&gt;</span><br><span class="line">    &lt;!--    &lt;link th:href=<span class="string">&quot;@&#123;/css/signin.css&#125;&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>/&gt;--&gt;</span><br><span class="line">    &lt;!-- Bootstrap core JS--&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- Core theme JS--&gt;</span><br><span class="line">    &lt;script th:href=<span class="string">&quot;@&#123;js/scripts.js&#125;&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=<span class="string">&quot;https://cdn.startbootstrap.com/sb-forms-latest.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body id=<span class="string">&quot;page-top&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Navigation--&gt;</span><br><span class="line">&lt;nav class=<span class="string">&quot;navbar navbar-expand-lg bg-secondary text-uppercase fixed-top&quot;</span> id=<span class="string">&quot;mainNav&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">        &lt;a class=<span class="string">&quot;navbar-brand&quot;</span> href=<span class="string">&quot;#page-top&quot;</span>&gt;云平台管理系统&lt;/a&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;collapse navbar-collapse&quot;</span> id=<span class="string">&quot;navbarResponsive&quot;</span>&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;navbar-nav ms-auto&quot;</span>&gt;</span><br><span class="line">                &lt;li class=<span class="string">&quot;nav-item mx-0 mx-lg-1&quot;</span>&gt;</span><br><span class="line">                    &lt;a class=<span class="string">&quot;nav-link py-3 px-0 px-lg-3 rounded&quot;</span> th:href=<span class="string">&quot;@&#123;/main&#125;&quot;</span>&gt;云平台管理&lt;/a&gt;</span><br><span class="line">                &lt;/li&gt;</span><br><span class="line">                &lt;li class=<span class="string">&quot;nav-item mx-0 mx-lg-1&quot;</span>&gt;</span><br><span class="line">                    &lt;a class=<span class="string">&quot;nav-link py-3 px-0 px-lg-3 rounded&quot;</span> th:href=<span class="string">&quot;@&#123;/loginOut&#125;&quot;</span>&gt;注销登录&lt;/a&gt;</span><br><span class="line">                &lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line">&lt;!--Masthead--&gt;</span><br><span class="line">&lt;header class=<span class="string">&quot;masthead bg-primary text-white text-center&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container d-flex align-items-center flex-column&quot;</span>&gt;</span><br><span class="line">        &lt;!-- Masthead Heading--&gt;</span><br><span class="line">        &lt;h1 class=<span class="string">&quot;masthead-heading text-uppercase mb-0&quot;</span>&gt;云平台管理系统&lt;/h1&gt;</span><br><span class="line">        &lt;!-- Icon Divider--&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;divider-custom divider-light&quot;</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;divider-custom-line&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;divider-custom-line&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;divider-custom-line&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;divider-custom-line&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;divider-custom-line&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- Masthead Subheading--&gt;</span><br><span class="line">        &lt;p class=<span class="string">&quot;masthead-subheading font-weight-light mb-0&quot;</span>&gt;SpringBoot + Thymeleaf + HTML+BootStrap + Libvirt +</span><br><span class="line">            Sigar&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/header&gt;</span><br><span class="line">&lt;!-- Portfolio Section--&gt;</span><br><span class="line">&lt;section class=<span class="string">&quot;page-section portfolio&quot;</span> id=<span class="string">&quot;portfolio&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;row justify-content-center&quot;</span>&gt;</span><br><span class="line">            &lt;!-- Portfolio Item <span class="number">1</span>--&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;col-md-6 col-lg-4 mb-5&quot;</span>&gt;</span><br><span class="line">                &lt;div class=<span class="string">&quot;portfolio-item mx-auto&quot;</span> data-bs-toggle=<span class="string">&quot;modal&quot;</span> data-bs-target=<span class="string">&quot;#portfolioModal1&quot;</span>&gt;</span><br><span class="line">                    &lt;div class=<span class="string">&quot;portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100&quot;</span>&gt;</span><br><span class="line">                        &lt;div class=<span class="string">&quot;portfolio-item-caption-content text-center text-white&quot;</span>&gt;&lt;i</span><br><span class="line">                                class=<span class="string">&quot;fas fa-plus fa-3x&quot;</span>&gt;&lt;/i&gt;&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;!--                    &lt;p class=<span class="string">&quot;mb-5&quot;</span>&gt;宿主机详细信息&lt;/p&gt;--&gt;</span><br><span class="line">                    &lt;img class=<span class="string">&quot;img-fluid&quot;</span> th:src=<span class="string">&quot;@&#123;img/index1.png&#125;&quot;</span> alt=<span class="string">&quot;...&quot;</span>/&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;!-- Portfolio Item <span class="number">2</span>--&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;col-md-6 col-lg-4 mb-5&quot;</span>&gt;</span><br><span class="line">                &lt;div class=<span class="string">&quot;portfolio-item mx-auto&quot;</span> data-bs-toggle=<span class="string">&quot;modal&quot;</span> data-bs-target=<span class="string">&quot;#portfolioModal2&quot;</span>&gt;</span><br><span class="line">                    &lt;div class=<span class="string">&quot;portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100&quot;</span>&gt;</span><br><span class="line">                        &lt;div class=<span class="string">&quot;portfolio-item-caption-content text-center text-white&quot;</span>&gt;&lt;i</span><br><span class="line">                                class=<span class="string">&quot;fas fa-plus fa-3x&quot;</span>&gt;&lt;/i&gt;&lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                    &lt;!--                    &lt;p class=<span class="string">&quot;mb-5&quot;</span>&gt;Libvirt连接信息&lt;/p&gt;--&gt;</span><br><span class="line">                    &lt;img class=<span class="string">&quot;img-fluid&quot;</span> th:src=<span class="string">&quot;@&#123;img/index.png&#125;&quot;</span> alt=<span class="string">&quot;...&quot;</span>/&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/section&gt;</span><br><span class="line">&lt;!-- Copyright Section--&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;copyright py-4 text-center text-white&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container&quot;</span>&gt;&lt;small&gt;© <span class="number">2022</span> design by wyl&lt;/small&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;!-- Portfolio Modals--&gt;</span><br><span class="line">&lt;!-- Portfolio Modal <span class="number">1</span>--&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;portfolio-modal modal fade&quot;</span> id=<span class="string">&quot;portfolioModal1&quot;</span> tabindex=<span class="string">&quot;-1&quot;</span> aria-labelledby=<span class="string">&quot;portfolioModal1&quot;</span></span><br><span class="line">     aria-hidden=<span class="string">&quot;true&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;modal-dialog modal-xl&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;modal-content&quot;</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;modal-header border-0&quot;</span>&gt;</span><br><span class="line">                &lt;button class=<span class="string">&quot;btn-close&quot;</span> type=<span class="string">&quot;button&quot;</span> data-bs-dismiss=<span class="string">&quot;modal&quot;</span> aria-label=<span class="string">&quot;Close&quot;</span>&gt;&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;modal-body text-center pb-5&quot;</span>&gt;</span><br><span class="line">                &lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">                    &lt;div class=<span class="string">&quot;row justify-content-center&quot;</span>&gt;</span><br><span class="line">                        &lt;div class=<span class="string">&quot;col-lg-8&quot;</span>&gt;</span><br><span class="line">                            &lt;h5&gt;版本信息&lt;/h5&gt;</span><br><span class="line">                            &lt;p class=<span class="string">&quot;mb-3&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;型号：[[$&#123;hostinfo.vendor&#125;]]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;数字版本：[[$&#123;hostinfo.vendorVersion&#125;]]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;文字版本：[[$&#123;hostinfo.vendorCodeName&#125;]]&amp;nbsp;&amp;nbsp;&amp;nbsp;内核版本：[[$&#123;hostinfo.version&#125;]]&lt;/p&gt;</span><br><span class="line">                            &lt;h5&gt;内存信息&lt;/h5&gt;</span><br><span class="line">                            &lt;p class=<span class="string">&quot;mb-3&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;内存：[[$&#123;hostinfo.memory&#125;]]k&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;使用内存：[[$&#123;hostinfo.memoryUsed&#125;]]k&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;可用内存：[[$&#123;hostinfo.memoryFree&#125;]]k&lt;/p&gt;</span><br><span class="line">                            &lt;p class=<span class="string">&quot;mb-3&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;交换空间：[[$&#123;hostinfo.swap&#125;]]k&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;使用交换空间：[[$&#123;hostinfo.swapUsed&#125;]]k&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;可用交换空间：[[$&#123;hostinfo.swapFree&#125;]]k&lt;/p&gt;</span><br><span class="line">                            &lt;h5&gt;CPU信息&lt;/h5&gt;</span><br><span class="line">                            &lt;p class=<span class="string">&quot;mb-4&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;宿主机CPU数量：[[$&#123;hostinfo.cpuNum&#125;]]个&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CPU型号：[[$&#123;hostinfo.cpuModel&#125;]]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;CPU频率：[[$&#123;hostinfo.cpuMhz&#125;]]Mhz&lt;/p&gt;</span><br><span class="line">                            &lt;h5&gt;磁盘信息&lt;/h5&gt;</span><br><span class="line">                            &lt;p class=<span class="string">&quot;mb-4&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;设备名称：[[$&#123;hostinfo.devName&#125;]]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;设备目录：[[$&#123;hostinfo.dirName&#125;]]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;磁盘总量：[[$&#123;hostinfo.fileTotal&#125;]]KB&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">                                &lt;br/&gt;使用：[[$&#123;hostinfo.fileUsed&#125;]]KB&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;使用率：[[$&#123;hostinfo.fileUsePercent&#125;]]%</span><br><span class="line">                            &lt;/p&gt;</span><br><span class="line">                            &lt;h5&gt;网络信息&lt;/h5&gt;</span><br><span class="line">                            &lt;p class=<span class="string">&quot;mb-4&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;网卡描述：[[$&#123;hostinfo.netDescription&#125;]]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;网卡类型：[[$&#123;hostinfo.netType&#125;]]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;IP地址：[[$&#123;hostinfo.netIP&#125;]]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">                                &lt;br/&gt;</span><br><span class="line">                                MAC地址：[[$&#123;hostinfo.netMAC&#125;]]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Mask掩码：[[$&#123;hostinfo.netMask&#125;]]</span><br><span class="line">                            &lt;/p&gt;</span><br><span class="line">                            &lt;button class=<span class="string">&quot;btn btn-primary&quot;</span> data-bs-dismiss=<span class="string">&quot;modal&quot;</span>&gt;</span><br><span class="line">                                &lt;i class=<span class="string">&quot;fas fa-xmark fa-fw&quot;</span>&gt;&lt;/i&gt;</span><br><span class="line">                                关闭窗口</span><br><span class="line">                            &lt;/button&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;!-- Portfolio Modal <span class="number">2</span>--&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;portfolio-modal modal fade&quot;</span> id=<span class="string">&quot;portfolioModal2&quot;</span> tabindex=<span class="string">&quot;-1&quot;</span> aria-labelledby=<span class="string">&quot;portfolioModal2&quot;</span></span><br><span class="line">     aria-hidden=<span class="string">&quot;true&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;modal-dialog modal-xl&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;modal-content&quot;</span>&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;modal-header border-0&quot;</span>&gt;</span><br><span class="line">                &lt;button class=<span class="string">&quot;btn-close&quot;</span> type=<span class="string">&quot;button&quot;</span> data-bs-dismiss=<span class="string">&quot;modal&quot;</span> aria-label=<span class="string">&quot;Close&quot;</span>&gt;&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div class=<span class="string">&quot;modal-body text-center pb-5&quot;</span>&gt;</span><br><span class="line">                &lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">                    &lt;div class=<span class="string">&quot;row justify-content-center&quot;</span>&gt;</span><br><span class="line">                        &lt;div class=<span class="string">&quot;col-lg-8&quot;</span>&gt;</span><br><span class="line">                            &lt;h5&gt;Libvirt连接信息&lt;/h5&gt;</span><br><span class="line">                            &lt;p class=<span class="string">&quot;mb-4&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;主机名称：[[$&#123;connectInformation.hostName&#125;]]&lt;/p&gt;</span><br><span class="line">                            &lt;p class=<span class="string">&quot;mb-4&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;连接URL：[[$&#123;connectInformation.url&#125;]]&lt;/p&gt;</span><br><span class="line">                            &lt;p class=<span class="string">&quot;mb-4&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;libVir版本：[[$&#123;connectInformation.libVirVersion&#125;]]&lt;/p&gt;</span><br><span class="line">                            &lt;p class=<span class="string">&quot;mb-4&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">                                hypervisor版本：[[$&#123;connectInformation.hypervisorVersion&#125;]]&lt;/p&gt;</span><br><span class="line">                            &lt;button class=<span class="string">&quot;btn btn-primary&quot;</span> data-bs-dismiss=<span class="string">&quot;modal&quot;</span>&gt;</span><br><span class="line">                                &lt;i class=<span class="string">&quot;fas fa-xmark fa-fw&quot;</span>&gt;</span><br><span class="line">                                &lt;/i&gt;</span><br><span class="line">                                关闭窗口</span><br><span class="line">                            &lt;/button&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="main-html"><a href="#main-html" class="headerlink" title="main.html"></a>main.html</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span> xmlns:th=<span class="string">&quot;http://www.thymeleaf.org&quot;</span> xmlns:v-model=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;虚拟机管理&lt;/title&gt;</span><br><span class="line">    &lt;!--    &lt;link href=<span class="string">&quot;https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>/&gt;--&gt;</span><br><span class="line">    &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css&quot;</span></span><br><span class="line">          integrity=<span class="string">&quot;sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu&quot;</span> crossorigin=<span class="string">&quot;anonymous&quot;</span>/&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;nav class=<span class="string">&quot;navbar navbar-default&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container-fluid&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=<span class="string">&quot;navbar-header&quot;</span>&gt;</span><br><span class="line">            &lt;a class=<span class="string">&quot;navbar-brand&quot;</span> th:href=<span class="string">&quot;@&#123;/index&#125;&quot;</span>&gt;首页&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- Collect the nav links, forms, and other content <span class="keyword">for</span> toggling --&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;collapse navbar-collapse&quot;</span> id=<span class="string">&quot;bs-example-navbar-collapse-1&quot;</span>&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav&quot;</span>&gt;</span><br><span class="line">                &lt;li class=<span class="string">&quot;active&quot;</span>&gt;&lt;a th:href=<span class="string">&quot;@&#123;/main&#125;&quot;</span>&gt;虚拟机基础管理&lt;span class=<span class="string">&quot;sr-only&quot;</span>&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddVirtual&#125;&quot;</span>&gt;添加虚拟机&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/img&#125;&quot;</span>&gt;镜像管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddImg&#125;&quot;</span>&gt;添加镜像&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/storagePoolList&#125;&quot;</span>&gt;存储池管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toCreateStoragepool&#125;&quot;</span>&gt;添加存储池&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav navbar-right&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/openOrCloseNetWork(netState=$&#123;netState&#125;)&#125;&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;网络状态：[[$&#123;netState&#125;]]&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/loginOut&#125;&quot;</span>&gt;注销登录&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;&lt;!-- /.navbar-collapse --&gt;</span><br><span class="line">    &lt;/div&gt;&lt;!-- /.container-fluid --&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;row clearfix&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;col-md-12 column&quot;</span>&gt;</span><br><span class="line">            &lt;table class=<span class="string">&quot;table table-hover table-striped&quot;</span>&gt;</span><br><span class="line">                &lt;thead&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;th&gt;ID&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;Name&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;Status&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;操作&lt;/th&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;/thead&gt;</span><br><span class="line">                &lt;tbody&gt;</span><br><span class="line">                &lt;tr th:each=<span class="string">&quot;virtual:$&#123;virtualList&#125;&quot;</span>&gt;</span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;virtual.id&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;virtual.name&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;virtual.state&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;</span><br><span class="line">                        &lt;div&gt;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/initiate(name=$&#123;virtual.name&#125;)&#125;&quot;</span>&gt;启动&lt;/a&gt;</span><br><span class="line">                            &amp;nbsp;|&amp;nbsp;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/suspended(name=$&#123;virtual.name&#125;)&#125;&quot;</span>&gt;挂起&lt;/a&gt;</span><br><span class="line">                            &amp;nbsp;|&amp;nbsp;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/resume(name=$&#123;virtual.name&#125;)&#125;&quot;</span>&gt;还原&lt;/a&gt;</span><br><span class="line">                            &amp;nbsp;|&amp;nbsp;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/save(name=$&#123;virtual.name&#125;)&#125;&quot;</span>&gt;保存&lt;/a&gt;</span><br><span class="line">                            &amp;nbsp;|&amp;nbsp;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/restore(name=$&#123;virtual.name&#125;)&#125;&quot;</span>&gt;恢复&lt;/a&gt;</span><br><span class="line">                            &amp;nbsp;|&amp;nbsp;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/shutdown(name=$&#123;virtual.name&#125;)&#125;&quot;</span>&gt;关闭&lt;/a&gt;</span><br><span class="line">                            &amp;nbsp;|&amp;nbsp;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/shutdownMust(name=$&#123;virtual.name&#125;)&#125;&quot;</span>&gt;强制关闭&lt;/a&gt;</span><br><span class="line">                            &amp;nbsp;|&amp;nbsp;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/reboot(name=$&#123;virtual.name&#125;)&#125;&quot;</span>&gt;重启&lt;/a&gt;</span><br><span class="line">                            &amp;nbsp;|&amp;nbsp;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/delete(name=$&#123;virtual.name&#125;)&#125;&quot;</span>&gt;删除&lt;/a&gt;</span><br><span class="line">                            &amp;nbsp;|&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/getSnapshotList(name=$&#123;virtual.name&#125;)&#125;&quot;</span>&gt;快照管理&lt;/a&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;/tbody&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/table&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="snapshot-html"><a href="#snapshot-html" class="headerlink" title="snapshot.html"></a>snapshot.html</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span> xmlns:th=<span class="string">&quot;http://www.thymeleaf.org&quot;</span> xmlns:v-model=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;快照管理&lt;/title&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>/&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;nav class=<span class="string">&quot;navbar navbar-default&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container-fluid&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;collapse navbar-collapse&quot;</span> id=<span class="string">&quot;bs-example-navbar-collapse-1&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/main&#125;&quot;</span>&gt;虚拟机基础管理&lt;span class=<span class="string">&quot;sr-only&quot;</span>&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;form class=<span class="string">&quot;navbar-form navbar-right&quot;</span> th:action=<span class="string">&quot;@&#123;/createSnapshot&#125;&quot;</span> method=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">                &lt;div class=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">                    &lt;input type=<span class="string">&quot;text&quot;</span> class=<span class="string">&quot;from-control&quot;</span> id=<span class="string">&quot;virtualName&quot;</span> name=<span class="string">&quot;virtualName&quot;</span> th:value=<span class="string">&quot;$&#123;virtualName&#125;&quot;</span>/&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">                    &lt;input type=<span class="string">&quot;text&quot;</span> class=<span class="string">&quot;from-control&quot;</span> id=<span class="string">&quot;snapshotName&quot;</span> name=<span class="string">&quot;snapshotName&quot;</span> placeholder=<span class="string">&quot;请输入快照名称&quot;</span> required=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;button type=<span class="string">&quot;submit&quot;</span> class=<span class="string">&quot;btn btn-default&quot;</span>&gt;拍摄&lt;/button&gt;</span><br><span class="line">            &lt;/form&gt;</span><br><span class="line">        &lt;/div&gt;&lt;!-- /.navbar-collapse --&gt;</span><br><span class="line">    &lt;/div&gt;&lt;!-- /.container-fluid --&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line">&lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;row clearfix&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;col-md-12 column&quot;</span>&gt;</span><br><span class="line">            &lt;table class=<span class="string">&quot;table table-hover table-striped&quot;</span>&gt;</span><br><span class="line">                &lt;thead&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;th&gt;名称&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;时间&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;状态&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;操作&lt;/th&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;/thead&gt;</span><br><span class="line">                &lt;tbody&gt;</span><br><span class="line">                &lt;tr th:each=<span class="string">&quot;snapshot:$&#123;snapshotList&#125;&quot;</span>&gt;</span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;snapshot.name&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;snapshot.creationTime&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;snapshot.state&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;</span><br><span class="line">                        &lt;div&gt;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/deleteSnapshot(virtualName=$&#123;virtualName&#125;,snapshotName=$&#123;snapshot.name&#125;)&#125;&quot;</span>&gt;删除&lt;/a&gt;</span><br><span class="line">                            &amp;nbsp;|&amp;nbsp;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/revertSnapshot(virtualName=$&#123;virtualName&#125;,snapshotName=$&#123;snapshot.name&#125;)&#125;&quot;</span>&gt;使用&lt;/a&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;/tbody&gt;</span><br><span class="line">            &lt;/table&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="img-html"><a href="#img-html" class="headerlink" title="img.html"></a>img.html</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span> xmlns:th=<span class="string">&quot;http://www.thymeleaf.org&quot;</span> xmlns:v-model=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;虚拟机管理&lt;/title&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>/&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;nav class=<span class="string">&quot;navbar navbar-default&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container-fluid&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;navbar-header&quot;</span>&gt;</span><br><span class="line">            &lt;a class=<span class="string">&quot;navbar-brand&quot;</span> th:href=<span class="string">&quot;@&#123;/index&#125;&quot;</span>&gt;首页&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- Collect the nav links, forms, and other content <span class="keyword">for</span> toggling --&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;collapse navbar-collapse&quot;</span> id=<span class="string">&quot;bs-example-navbar-collapse-1&quot;</span>&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/main&#125;&quot;</span>&gt;虚拟机基础管理&lt;span class=<span class="string">&quot;sr-only&quot;</span>&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddVirtual&#125;&quot;</span>&gt;添加虚拟机&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li class=<span class="string">&quot;active&quot;</span>&gt;&lt;a th:href=<span class="string">&quot;@&#123;/img&#125;&quot;</span>&gt;镜像管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddImg&#125;&quot;</span>&gt;添加镜像&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/storagePoolList&#125;&quot;</span>&gt;存储池管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toCreateStoragepool&#125;&quot;</span>&gt;添加存储池&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav navbar-right&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/openOrCloseNetWork(netState=$&#123;netState&#125;)&#125;&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;网络状态：[[$&#123;netState&#125;]]&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/loginOut&#125;&quot;</span>&gt;注销登录&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;&lt;!-- /.navbar-collapse --&gt;</span><br><span class="line">    &lt;/div&gt;&lt;!-- /.container-fluid --&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;row clearfix&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;col-md-12 column&quot;</span>&gt;</span><br><span class="line">            &lt;table class=<span class="string">&quot;table table-hover table-striped&quot;</span>&gt;</span><br><span class="line">                &lt;thead&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;th&gt;名称&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;大小&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;操作&lt;/th&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;/thead&gt;</span><br><span class="line">                &lt;tbody&gt;</span><br><span class="line">                &lt;tr th:each=<span class="string">&quot;img:$&#123;imgList&#125;&quot;</span>&gt;</span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;img.name&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;img.size&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;</span><br><span class="line">                        &lt;div&gt;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/deleteImg(name=$&#123;img.name&#125;)&#125;&quot;</span>&gt;删除&lt;/a&gt;</span><br><span class="line">                            &amp;nbsp;|&amp;nbsp;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/downImg(name=$&#123;img.name&#125;)&#125;&quot;</span>&gt;下载&lt;/a&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;/tbody&gt;</span><br><span class="line">            &lt;/table&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="storagepool-html"><a href="#storagepool-html" class="headerlink" title="storagepool.html"></a>storagepool.html</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span> xmlns:th=<span class="string">&quot;http://www.thymeleaf.org&quot;</span> xmlns:v-model=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;存储池管理&lt;/title&gt;</span><br><span class="line">    &lt;!--    &lt;link href=<span class="string">&quot;https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>/&gt;--&gt;</span><br><span class="line">    &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css&quot;</span></span><br><span class="line">          integrity=<span class="string">&quot;sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu&quot;</span> crossorigin=<span class="string">&quot;anonymous&quot;</span>/&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;nav class=<span class="string">&quot;navbar navbar-default&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container-fluid&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=<span class="string">&quot;navbar-header&quot;</span>&gt;</span><br><span class="line">            &lt;a class=<span class="string">&quot;navbar-brand&quot;</span> th:href=<span class="string">&quot;@&#123;/index&#125;&quot;</span>&gt;首页&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- Collect the nav links, forms, and other content <span class="keyword">for</span> toggling --&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;collapse navbar-collapse&quot;</span> id=<span class="string">&quot;bs-example-navbar-collapse-1&quot;</span>&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/main&#125;&quot;</span>&gt;虚拟机基础管理&lt;span class=<span class="string">&quot;sr-only&quot;</span>&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddVirtual&#125;&quot;</span>&gt;添加虚拟机&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/img&#125;&quot;</span>&gt;镜像管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddImg&#125;&quot;</span>&gt;添加镜像&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li class=<span class="string">&quot;active&quot;</span>&gt;&lt;a th:href=<span class="string">&quot;@&#123;/storagePoolList&#125;&quot;</span>&gt;存储池管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toCreateStoragepool&#125;&quot;</span>&gt;添加存储池&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav navbar-right&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/openOrCloseNetWork(netState=$&#123;netState&#125;)&#125;&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;网络状态：[[$&#123;netState&#125;]]&lt;/a&gt;</span><br><span class="line">                &lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/loginOut&#125;&quot;</span>&gt;注销登录&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;&lt;!-- /.navbar-collapse --&gt;</span><br><span class="line">    &lt;/div&gt;&lt;!-- /.container-fluid --&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;row clearfix&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;col-md-12 column&quot;</span>&gt;</span><br><span class="line">            &lt;table class=<span class="string">&quot;table table-hover table-striped&quot;</span>&gt;</span><br><span class="line">                &lt;thead&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;th&gt;name&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;type&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;capacity&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;available&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;allocation&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;usage&lt;/th&gt;</span><br><span class="line">                    &lt;th&gt;state&lt;/th&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;/thead&gt;</span><br><span class="line">                &lt;tbody&gt;</span><br><span class="line">                &lt;tr th:each=<span class="string">&quot;storagePool:$&#123;storagePoolList&#125;&quot;</span>&gt;</span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;storagePool.name&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;storagePool.type&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;td th:inline=<span class="string">&quot;text&quot;</span>&gt;[[$&#123;storagePool.capacity&#125;]] GB&lt;/td&gt;</span><br><span class="line">                    &lt;td th:inline=<span class="string">&quot;text&quot;</span>&gt;[[$&#123;storagePool.available&#125;]] GB&lt;/td&gt;</span><br><span class="line">                    &lt;td th:inline=<span class="string">&quot;text&quot;</span>&gt;[[$&#123;storagePool.allocation&#125;]] GB&lt;/td&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;storagePool.usage&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td th:text=<span class="string">&quot;$&#123;storagePool.state&#125;&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;</span><br><span class="line">                        &lt;div&gt;</span><br><span class="line">                            &lt;a th:href=<span class="string">&quot;@&#123;/deleteStoragePool(name=$&#123;storagePool.name&#125;)&#125;&quot;</span>&gt;删除&lt;/a&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;/tbody&gt;</span><br><span class="line">            &lt;/table&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="addVirtual-html"><a href="#addVirtual-html" class="headerlink" title="addVirtual.html"></a>addVirtual.html</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;html xmlns:th=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;添加虚拟机&lt;/title&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>/&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;nav class=<span class="string">&quot;navbar navbar-default&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container-fluid&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=<span class="string">&quot;navbar-header&quot;</span>&gt;</span><br><span class="line">            &lt;a class=<span class="string">&quot;navbar-brand&quot;</span> th:href=<span class="string">&quot;@&#123;/index&#125;&quot;</span>&gt;首页&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- Collect the nav links, forms, and other content <span class="keyword">for</span> toggling --&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;collapse navbar-collapse&quot;</span> id=<span class="string">&quot;bs-example-navbar-collapse-1&quot;</span>&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/main&#125;&quot;</span>&gt;虚拟机基础管理&lt;span class=<span class="string">&quot;sr-only&quot;</span>&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li class=<span class="string">&quot;active&quot;</span>&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddVirtual&#125;&quot;</span>&gt;添加虚拟机&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/img&#125;&quot;</span>&gt;镜像管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddImg&#125;&quot;</span>&gt;添加镜像&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/storagePoolList&#125;&quot;</span>&gt;存储池管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toCreateStoragepool&#125;&quot;</span>&gt;添加存储池&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav navbar-right&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/openOrCloseNetWork(netState=$&#123;netState&#125;)&#125;&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;网络状态：[[$&#123;netState&#125;]]&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/loginOut&#125;&quot;</span>&gt;注销登录&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;&lt;!-- /.navbar-collapse --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;&lt;!-- /.container-fluid --&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line"></span><br><span class="line">&lt;div align=<span class="string">&quot;center&quot;</span> class=<span class="string">&quot;center&quot;</span>&gt;</span><br><span class="line">    &lt;form class=<span class="string">&quot;form-inline&quot;</span> role=<span class="string">&quot;form&quot;</span> th:action=<span class="string">&quot;@&#123;/addVirtual&#125;&quot;</span> method=<span class="string">&quot;post&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">            &lt;label class=<span class="string">&quot;sr-only&quot;</span> <span class="keyword">for</span>=<span class="string">&quot;virtualName&quot;</span>&gt;虚拟机名称&lt;/label&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;text&quot;</span> class=<span class="string">&quot;from-control&quot;</span> id=<span class="string">&quot;virtualName&quot;</span> name=<span class="string">&quot;virtualName&quot;</span> placeholder=<span class="string">&quot;请输入虚拟机名称&quot;</span></span><br><span class="line">                   required=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">            &lt;label class=<span class="string">&quot;sr-only&quot;</span> <span class="keyword">for</span>=<span class="string">&quot;file&quot;</span>&gt;选择镜像文件&lt;/label&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;file&quot;</span> id=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span> required=<span class="string">&quot;&quot;</span>/&gt;&lt;br/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;button type=<span class="string">&quot;submit&quot;</span> class=<span class="string">&quot;btn btn-default&quot;</span>&gt;提交&lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="addImg-html"><a href="#addImg-html" class="headerlink" title="addImg.html"></a>addImg.html</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;html xmlns:th=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;添加镜像&lt;/title&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>/&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;nav class=<span class="string">&quot;navbar navbar-default&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container-fluid&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=<span class="string">&quot;navbar-header&quot;</span>&gt;</span><br><span class="line">            &lt;a class=<span class="string">&quot;navbar-brand&quot;</span> th:href=<span class="string">&quot;@&#123;/index&#125;&quot;</span>&gt;首页&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- Collect the nav links, forms, and other content <span class="keyword">for</span> toggling --&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;collapse navbar-collapse&quot;</span> id=<span class="string">&quot;bs-example-navbar-collapse-1&quot;</span>&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/main&#125;&quot;</span>&gt;虚拟机基础管理&lt;span class=<span class="string">&quot;sr-only&quot;</span>&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddVirtual&#125;&quot;</span>&gt;添加虚拟机&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/img&#125;&quot;</span>&gt;镜像管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li class=<span class="string">&quot;active&quot;</span>&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddImg&#125;&quot;</span>&gt;添加镜像&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/storagePoolList&#125;&quot;</span>&gt;存储池管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toCreateStoragepool&#125;&quot;</span>&gt;添加存储池&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav navbar-right&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/openOrCloseNetWork(netState=$&#123;netState&#125;)&#125;&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;网络状态：[[$&#123;netState&#125;]]&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/loginOut&#125;&quot;</span>&gt;注销登录&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;&lt;!-- /.navbar-collapse --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;&lt;!-- /.container-fluid --&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line"></span><br><span class="line">&lt;div align=<span class="string">&quot;center&quot;</span> class=<span class="string">&quot;center&quot;</span>&gt;</span><br><span class="line">    &lt;form class=<span class="string">&quot;form-inline&quot;</span> role=<span class="string">&quot;form&quot;</span> th:action=<span class="string">&quot;@&#123;/addImg&#125;&quot;</span> method=<span class="string">&quot;post&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">            &lt;label class=<span class="string">&quot;sr-only&quot;</span> <span class="keyword">for</span>=<span class="string">&quot;imgName&quot;</span>&gt;镜像名称&lt;/label&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;text&quot;</span> class=<span class="string">&quot;from-control&quot;</span> id=<span class="string">&quot;imgName&quot;</span> name=<span class="string">&quot;imgName&quot;</span> placeholder=<span class="string">&quot;请输入镜像名称&quot;</span></span><br><span class="line">                   required=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">            &lt;label class=<span class="string">&quot;sr-only&quot;</span> <span class="keyword">for</span>=<span class="string">&quot;file&quot;</span>&gt;选择镜像文件&lt;/label&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;file&quot;</span> id=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span> required=<span class="string">&quot;&quot;</span>/&gt;&lt;br/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;button type=<span class="string">&quot;submit&quot;</span> class=<span class="string">&quot;btn btn-default&quot;</span>&gt;提交&lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="addStoragepool-html"><a href="#addStoragepool-html" class="headerlink" title="addStoragepool.html"></a>addStoragepool.html</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;html xmlns:th=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span><br><span class="line">    &lt;title&gt;添加虚拟机&lt;/title&gt;</span><br><span class="line">    &lt;link href=<span class="string">&quot;https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="string">&quot;stylesheet&quot;</span>/&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;nav class=<span class="string">&quot;navbar navbar-default&quot;</span>&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;container-fluid&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=<span class="string">&quot;navbar-header&quot;</span>&gt;</span><br><span class="line">            &lt;a class=<span class="string">&quot;navbar-brand&quot;</span> th:href=<span class="string">&quot;@&#123;/index&#125;&quot;</span>&gt;首页&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- Collect the nav links, forms, and other content <span class="keyword">for</span> toggling --&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;collapse navbar-collapse&quot;</span> id=<span class="string">&quot;bs-example-navbar-collapse-1&quot;</span>&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/main&#125;&quot;</span>&gt;虚拟机基础管理&lt;span class=<span class="string">&quot;sr-only&quot;</span>&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddVirtual&#125;&quot;</span>&gt;添加虚拟机&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/img&#125;&quot;</span>&gt;镜像管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toAddImg&#125;&quot;</span>&gt;添加镜像&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/storagePoolList&#125;&quot;</span>&gt;存储池管理&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                &lt;li class=<span class="string">&quot;active&quot;</span>&gt;&lt;a th:href=<span class="string">&quot;@&#123;/toCreateStoragepool&#125;&quot;</span>&gt;添加存储池&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;ul class=<span class="string">&quot;nav navbar-nav navbar-right&quot;</span>&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/openOrCloseNetWork(netState=$&#123;netState&#125;)&#125;&quot;</span> th:inline=<span class="string">&quot;text&quot;</span>&gt;网络状态：[[$&#123;netState&#125;]]&lt;/a&gt;</span><br><span class="line">                &lt;/li&gt;</span><br><span class="line">                &lt;li&gt;&lt;a th:href=<span class="string">&quot;@&#123;/loginOut&#125;&quot;</span>&gt;注销登录&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/div&gt;&lt;!-- /.navbar-collapse --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;&lt;!-- /.container-fluid --&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line"></span><br><span class="line">&lt;div align=<span class="string">&quot;center&quot;</span> class=<span class="string">&quot;center&quot;</span>&gt;</span><br><span class="line">    &lt;form class=<span class="string">&quot;form-inline&quot;</span> role=<span class="string">&quot;form&quot;</span> th:action=<span class="string">&quot;@&#123;/createStoragepool&#125;&quot;</span> method=<span class="string">&quot;post&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">            &lt;label class=<span class="string">&quot;sr-only&quot;</span> <span class="keyword">for</span>=<span class="string">&quot;storagepoolName&quot;</span>&gt;存储池名称&lt;/label&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;text&quot;</span> class=<span class="string">&quot;from-control&quot;</span> id=<span class="string">&quot;storagepoolName&quot;</span> name=<span class="string">&quot;storagepoolName&quot;</span> placeholder=<span class="string">&quot;请输入存储池名称&quot;</span></span><br><span class="line">                   required=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=<span class="string">&quot;form-group&quot;</span>&gt;</span><br><span class="line">            &lt;label class=<span class="string">&quot;sr-only&quot;</span> <span class="keyword">for</span>=<span class="string">&quot;storagepoolPath&quot;</span>&gt;存储池路径&lt;/label&gt;</span><br><span class="line">            &lt;input type=<span class="string">&quot;text&quot;</span> class=<span class="string">&quot;from-control&quot;</span> id=<span class="string">&quot;storagepoolPath&quot;</span> name=<span class="string">&quot;storagepoolPath&quot;</span> placeholder=<span class="string">&quot;请输入存储池路径&quot;</span></span><br><span class="line">                   required=<span class="string">&quot;&quot;</span>/&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;button type=<span class="string">&quot;submit&quot;</span> class=<span class="string">&quot;btn btn-default&quot;</span>&gt;提交&lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>网站用户行为分析（大数据课设）</title>
      <link href="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/"/>
      <url>/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h2 id="一-环境搭建"><a href="#一-环境搭建" class="headerlink" title="一. 环境搭建"></a>一. 环境搭建</h2><h3 id="（一）安装Linux系统-ubuntu18-04-6"><a href="#（一）安装Linux系统-ubuntu18-04-6" class="headerlink" title="（一）安装Linux系统(ubuntu18.04.6)"></a>（一）安装Linux系统(ubuntu18.04.6)</h3><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195053166.png" alt="image-20230517195053166"></p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195108748.png" alt="image-20230517195108748"></p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195124488.png" alt="image-20230517195124488"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195246210.png" alt="image-20230517195246210"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195305286.png" alt="image-20230517195305286"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195321219.png" alt="image-20230517195321219"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195330297.png" alt="image-20230517195330297"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195339997.png" alt="image-20230517195339997"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195352004.png" alt="image-20230517195352004"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195405998.png" alt="image-20230517195405998"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195423410.png" alt="image-20230517195423410"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195453308.png" alt="image-20230517195453308"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195542174.png" alt="image-20230517195542174"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195555376.png" alt="image-20230517195555376"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195610805.png" alt="image-20230517195610805"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195621697.png" alt="image-20230517195621697"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195643898.png" alt="image-20230517195643898"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195706163.png" alt="image-20230517195706163"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517195713515.png" alt="image-20230517195713515"></p><p>安装tools</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517210758112.png" alt="image-20230517210758112"></p><h3 id="（二）安装Hadoop"><a href="#（二）安装Hadoop" class="headerlink" title="（二）安装Hadoop"></a>（二）安装Hadoop</h3><ol><li><h4 id="创建hadoop用户"><a href="#创建hadoop用户" class="headerlink" title="创建hadoop用户"></a>创建hadoop用户</h4><p>如果你安装 Ubuntu 的时候不是用的 “hadoop” 用户，那么需要增加一个名为 hadoop 的用户。</p><p>首先按 <strong>ctrl+alt+t</strong> 打开终端窗口，输入如下命令创建新用户 </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd -m hadoop -s /bin/bash</span><br></pre></td></tr></table></figure><p>接着使用如下命令设置密码，可简单设置为 hadoop，按提示输入两次密码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd hadoop</span><br></pre></td></tr></table></figure><p>可为 hadoop 用户增加管理员权限，方便部署，避免一些对新手来说比较棘手的权限问题</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo adduser hadoop sudo</span><br></pre></td></tr></table></figure><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517210933668.png" alt="image-20230517210933668" style="zoom:80%;"></li><li><h4 id="更新apt"><a href="#更新apt" class="headerlink" title="更新apt"></a>更新apt</h4><p>用 hadoop 用户登录后,我们先更新一下 apt，后续我们使用 apt 安装软件，如果没更新可能有一些软件安装不了。按 ctrl+alt+t 打开终端窗口，执行如下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517211837447.png" alt="image-20230517211837447"></p><p>安装一下vim</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install vim</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230517213609371.png" alt="image-20230517213609371"></p></li><li><h4 id="安装ssh、配置ssh无密码登录"><a href="#安装ssh、配置ssh无密码登录" class="headerlink" title="安装ssh、配置ssh无密码登录"></a>安装ssh、配置ssh无密码登录</h4><p>集群、单节点模式都需要用到 SSH 登陆（类似于远程登陆，你可以登录某台 Linux 主机，并且在上面运行命令），Ubuntu 默认已安装了 SSH client，此外还需要安装 SSH server：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openssh-server</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518083554707.png" alt="image-20230518083554707"></p><p>安装后，可以使用如下命令登陆本机：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518083623870.png" alt="image-20230518083623870"></p><p>但这样登陆是需要每次输入密码的，我们需要配置成SSH无密码登陆比较方便。</p><p>首先退出刚才的 ssh，就回到了我们原先的终端窗口，然后利用 ssh-keygen 生成密钥，并将密钥加入到授权中：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">exit      # 退出刚才的 ssh localhost</span><br><span class="line">cd ~/.ssh/   #若没有该目录请先执行一次ssh localhost</span><br><span class="line">ssh-keygen -t rsa     # 会有提示，都按回车就可以</span><br><span class="line">cat ./id_rsa.pub &gt;&gt; ./authorized_keys  # 加入授权</span><br></pre></td></tr></table></figure><p>现在就可以直接登录了</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518175015962.png" alt="image-20230518175015962"></p></li><li><h4 id="安装Java环境"><a href="#安装Java环境" class="headerlink" title="安装Java环境"></a>安装Java环境</h4><p>在Linux命令行界面中，执行如下Shell命令（注意：当前登录用户名是hadoop）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/lib</span><br><span class="line">2.sudo mkdir jvm #创建/usr/lib/jvm目录用来存放JDK文件</span><br><span class="line">3.cd ~ #进入hadoop用户的主目录</span><br><span class="line">4.cd /home/hadoop  #注意区分大小写字母，刚才已经通过FTP软件把JDK安装包jdk-8u162-linux-x64.tar.gz上传到该目录下</span><br><span class="line">5. sudo tar -zxvf /home/hadoop/jdk-8u162-linux-x64.tar.gz -C /usr/lib/  #把JDK文件解压到/usr/lib/jvm目录下</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518175124501.png" alt="image-20230518175124501"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518175734613.png" alt="image-20230518175734613"></p><p>JDK文件解压缩以后，可以执行如下命令到&#x2F;usr&#x2F;lib&#x2F;jvm目录查看一下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/lib/jvm</span><br><span class="line">2.ls</span><br></pre></td></tr></table></figure><p>可以看到，在&#x2F;usr&#x2F;lib&#x2F;jvm目录下有个jdk1.8.0_162目录。</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518175829044.png" alt="image-20230518175829044">下面继续执行如下命令，设置环境变量：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd ~</span><br><span class="line">2.vim ~/.bashrc</span><br></pre></td></tr></table></figure><p>上面命令使用vim编辑器（<a href="http://dblab.xmu.edu.cn/blog/1607-2/">查看vim编辑器使用方法</a>）打开了hadoop这个用户的环境变量配置文件，请在这个文件的开头位置，添加如下几行内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_162</span><br><span class="line">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</span><br><span class="line">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure><p>保存.bashrc文件并退出vim编辑器。然后，继续执行如下命令让.bashrc文件的配置立即生效：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518175925063.png" alt="image-20230518175925063"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518175956477.png" alt="image-20230518175956477"></p><p>这时，可以使用如下命令查看是否安装成功：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><p>如果能够在屏幕上返回如下信息，则说明安装成功：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518180021388.png" alt="image-20230518180021388"></p></li><li><h4 id="安装Hadoop2-7-1"><a href="#安装Hadoop2-7-1" class="headerlink" title="安装Hadoop2.7.1"></a>安装Hadoop2.7.1</h4><p>我们选择将 Hadoop 安装至 &#x2F;usr&#x2F;local&#x2F; 中：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.sudo tar -zxvf /home/hadoop/hadoop-2.7.1.tar.gz -C /usr/local    # 解压到/usr/local中</span><br><span class="line">2.cd /usr/local/</span><br><span class="line">3. sudo mv ./hadoop-2.7.1/ ./hadoop     # 将文件夹名改为hadoop</span><br><span class="line">4.sudo chown -R hadoop ./hadoop       # 修改文件权限</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518180308059.png" alt="image-20230518180308059"></p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518180437612.png" alt="image-20230518180437612"></p><p>Hadoop 解压后即可使用。输入如下命令来检查 Hadoop 是否可用，成功则会显示 Hadoop 版本信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/hadoop</span><br><span class="line">./bin/hadoop version</span><br></pre></td></tr></table></figure></li></ol><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518180542980.png" alt="image-20230518180542980"></p><ol start="6"><li><h4 id="Hadoop单机配置-非分布式"><a href="#Hadoop单机配置-非分布式" class="headerlink" title="Hadoop单机配置(非分布式)"></a>Hadoop单机配置(非分布式)</h4><p>我们将 input 文件夹中的所有文件作为输入，筛选当中符合正则表达式 dfs[a-z.]+ 的单词并统计出现的次数，最后输出结果到 output 文件夹中。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hadoop</span><br><span class="line">2.mkdir ./input</span><br><span class="line">3.cp ./etc/hadoop/*.xml ./input   # 将配置文件作为输入文件</span><br><span class="line">4../bin/hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.1.jar grep ./input ./output &#x27;dfs[a-z.]+&#x27;</span><br><span class="line">5.cat ./output/*          # 查看运行结果</span><br></pre></td></tr></table></figure><p>执行成功后如下所示，输出了作业的相关信息，输出的结果是符合正则的单词 dfsadmin 出现了1次</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518180754600.png" alt="image-20230518180754600"></p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518180732737.png" alt="image-20230518180732737"></p><p>Hadoop 默认不会覆盖结果文件，因此再次运行上面实例会提示出错，需要先将 .&#x2F;output 删除。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -r ./output</span><br></pre></td></tr></table></figure></li></ol><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518180836594.png" alt="image-20230518180836594"></p><ol start="6"><li><h4 id="Hadoop伪分布式配置"><a href="#Hadoop伪分布式配置" class="headerlink" title="Hadoop伪分布式配置"></a>Hadoop伪分布式配置</h4><p>Hadoop 可以在单节点上以伪分布式的方式运行，Hadoop 进程以分离的 Java 进程来运行，节点既作为 NameNode 也作为 DataNode，同时，读取的是 HDFS 中的文件。</p><p>Hadoop 的配置文件位于 &#x2F;usr&#x2F;local&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F; 中，伪分布式需要修改2个配置文件core-site.xml 和 hdfs-site.xml 。Hadoop的配置文件是 xml 格式，每个配置以声明 property 的 name 和 value 的方式来实现。</p><p>修改配置文件core-site.xml</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518181156914.png" alt="image-20230518181156914"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/hadoop/etc/hadoop</span><br><span class="line">vim core-site.xml</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;file:/usr/local/hadoop/tmp&lt;/value&gt;</span><br><span class="line">        &lt;description&gt;Abase for other temporary directories.&lt;/description&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518181050022.png" alt="image-20230518181050022"></p><p>同样的，修改配置文件hdfs-site.xml：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim hdfs-site.xml</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;1&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/name&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/data&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518181136053.png" alt="image-20230518181136053"></p><p>Hadoop 的运行方式是由配置文件决定的（运行 Hadoop 时会读取配置文件），因此如果需要从伪分布式模式切换回非分布式模式，需要删除 core-site.xml 中的配置项。</p><p>此外，伪分布式虽然只需要配置 fs.defaultFS 和 dfs.replication 就可以运行（官方教程如此），不过若没有配置 hadoop.tmp.dir 参数，则默认使用的临时目录为 &#x2F;tmp&#x2F;hadoo-hadoop，而这个目录在重启时有可能被系统清理掉，导致必须重新执行 format 才行。所以我们进行了设置，同时也指定 dfs.namenode.name.dir 和 dfs.datanode.data.dir，否则在接下来的步骤中可能会出错。</p><p>配置完成后，执行 NameNode 的格式化:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/hadoop</span><br><span class="line">./bin/hdfs namenode -format</span><br></pre></td></tr></table></figure><p>成功的话，会看到 “successfully formatted” 的提示</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518181259011.png" alt="image-20230518181259011"></p><p>接着开启 NameNode 和 DataNode 守护进程。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hadoop</span><br><span class="line">2../sbin/start-dfs.sh  #start-dfs.sh是个完整的可执行文件，中间没有空格</span><br></pre></td></tr></table></figure><p>若出现如下SSH提示，输入yes即可。</p><p>启动时可能会出现如下 WARN 提示：WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform… using builtin-java classes where applicable WARN 提示可以忽略，并不会影响正常使用。</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518181357548.png" alt="image-20230518181357548"></p></li><li><h4 id="运行Hadoop伪分布式实例"><a href="#运行Hadoop伪分布式实例" class="headerlink" title="运行Hadoop伪分布式实例"></a>运行Hadoop伪分布式实例</h4><p>上面的单机模式，vim 例子读取的是本地数据，伪分布式读取的则是 HDFS 上的数据。要使用 HDFS，首先需要在 HDFS 中创建用户目录：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs dfs -mkdir -p /user/hadoop</span><br></pre></td></tr></table></figure><p>接着将 .&#x2F;etc&#x2F;hadoop 中的 xml 文件作为输入文件复制到分布式文件系统中，即将 &#x2F;usr&#x2F;local&#x2F;hadoop&#x2F;etc&#x2F;hadoop 复制到分布式文件系统中的 &#x2F;user&#x2F;hadoop&#x2F;input 中。我们使用的是 hadoop 用户，并且已创建相应的用户目录 &#x2F;user&#x2F;hadoop ，因此在命令中就可以使用相对路径如 input，其对应的绝对路径就是 &#x2F;user&#x2F;hadoop&#x2F;input:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs dfs -mkdir input</span><br><span class="line">./bin/hdfs dfs -put ./etc/hadoop/*.xml input</span><br></pre></td></tr></table></figure><p>复制完成后，可以通过如下命令查看文件列表：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs dfs -ls input</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518182205593.png" alt="image-20230518182205593"></p><p>伪分布式运行 MapReduce 作业的方式跟单机模式相同，区别在于伪分布式读取的是HDFS中的文件（可以将单机步骤中创建的本地 input 文件夹，输出结果 output 文件夹都删掉来验证这一点）。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hadoop jar ./share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.1.jar grep input output &#x27;dfs[a-z.]+&#x27;</span><br></pre></td></tr></table></figure><p>查看运行结果的命令（查看的是位于 HDFS 中的输出结果）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs dfs -cat output/*</span><br></pre></td></tr></table></figure><p>结果如下，注意到刚才我们已经更改了配置文件，所以运行结果不同。</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518182330282.png" alt="image-20230518182330282"></p><p>我们也可以将运行结果取回到本地：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.rm -r ./output    # 先删除本地的 output 文件夹（如果存在）</span><br><span class="line">2../bin/hdfs dfs -get output ./output     # 将 HDFS 上的 output 文件夹拷贝到本机</span><br><span class="line">3.cat ./output/*</span><br></pre></td></tr></table></figure><p>Hadoop 运行程序时，输出目录不能存在，否则会提示错误 “org.apache.hadoop.mapred.FileAlreadyExistsException: Output directory hdfs:&#x2F;&#x2F;localhost:9000&#x2F;user&#x2F;hadoop&#x2F;output already exists” ，因此若要再次执行，需要执行如下命令删除 output 文件夹:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/hdfs dfs -rm -r output    # 删除 output 文件夹</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518182424148.png" alt="image-20230518182424148">若要关闭 Hadoop，则运行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./sbin/stop-dfs.sh</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230518182509404.png" alt="image-20230518182509404"></p></li></ol><h3 id="（三）安装MYSQL"><a href="#（三）安装MYSQL" class="headerlink" title="（三）安装MYSQL"></a>（三）安装MYSQL</h3><ol><li><h4 id="使用以下命令即可进行mysql安装，注意安装前先更新一下软件源以获得最新版本："><a href="#使用以下命令即可进行mysql安装，注意安装前先更新一下软件源以获得最新版本：" class="headerlink" title="使用以下命令即可进行mysql安装，注意安装前先更新一下软件源以获得最新版本："></a>使用以下命令即可进行mysql安装，注意安装前先更新一下软件源以获得最新版本：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update  #更新软件源</span><br><span class="line">sudo apt-get install mysql-server  #安装mysql</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519111540794.png" alt="image-20230519111540794"></p><p>上述命令会安装以下包：<br>apparmor<br>mysql-client-5.7<br>mysql-common<br>mysql-server<br>mysql-server-5.7<br>mysql-server-core-5.7<br>因此无需再安装mysql-client等。安装过程会提示设置mysql root用户的密码，设置完成后等待自动安装即可。默认安装完成就启动了mysql</p><p>启动和关闭mysql服务器：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service mysql start</span><br><span class="line">service mysql stop</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519111625591.png" alt="image-20230519111625591"></p><p>确认是否启动成功，mysql节点处于LISTEN状态表示启动成功：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo netstat -tap | grep mysql</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519111712578.png" alt="image-20230519111712578"></p><p>进入mysql shell界面：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql -u root -p</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519111759996.png" alt="image-20230519111759996"></p><p>解决利用sqoop导入MySQL中文乱码的问题（可以插入中文，但不能用sqoop导入中文）<br>导致导入时中文乱码的原因是character_set_server默认设置是latin1</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like &quot;char%&quot;;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519111936790.png" alt="image-20230519111936790"></p><p>(1)编辑配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf</span><br></pre></td></tr></table></figure><p>(2)在[mysqld]下添加一行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">character_set_server=utf8</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519112148418.png" alt="image-20230519112148418"></p><p>(3)重启MySQL服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysql restart</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519112305745.png" alt="image-20230519112305745"></p><p>(4)登陆MySQL，并查看MySQL目前设置的编码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql -u root -p</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like &quot;char%&quot;;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519112356059.png" alt="image-20230519112356059"></p></li><li><h4 id="下载mysql-jdbc包"><a href="#下载mysql-jdbc包" class="headerlink" title="下载mysql jdbc包"></a>下载mysql jdbc包</h4><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519112632655.png" alt="image-20230519112632655"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. sudo tar -zxvf /home/hadoop/mysql-connector-java.gz  #解压</span><br><span class="line">2.cp mysql-connector-java-5.1.40/mysql-connector-java-5.1.40-bin.jar  /usr/local/hive/lib #将mysql-connector-java-5.1.40-bin.jar拷贝到/usr/local/hive/lib目录下</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519112916846.png" alt="image-20230519112916846"></p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519113044007.png" alt="image-20230519113044007"></p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519113115642.png" alt="image-20230519113115642"></p></li><li><h4 id="启动并登陆mysql-shell"><a href="#启动并登陆mysql-shell" class="headerlink" title="启动并登陆mysql shell"></a>启动并登陆mysql shell</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service mysql start #启动mysql服务</span><br><span class="line">sudo mysql -u root -p  #登陆shell界面</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519113303077.png" alt="image-20230519113303077"></p></li><li><h4 id="新建hive数据库"><a href="#新建hive数据库" class="headerlink" title="新建hive数据库"></a>新建hive数据库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database hive;    #这个hive数据库与hive-site.xml中localhost:3306/hive的hive对应，用来保存hive元数据</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519113451943.png" alt="image-20230519113451943"></p></li><li><h4 id="配置mysql允许hive接入"><a href="#配置mysql允许hive接入" class="headerlink" title="配置mysql允许hive接入"></a>配置mysql允许hive接入</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; grant all on *.* to hive@localhost identified by &#x27;hive&#x27;;   #将所有数据库的所有表的所有权限赋给hive用户，后面的hive是配置hive-site.xml中配置的连接密码</span><br><span class="line">mysql&gt; flush privileges;  #刷新mysql系统权限关系表</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519113555294.png" alt="image-20230519113555294"></p></li><li><h4 id="启动hive"><a href="#启动hive" class="headerlink" title="启动hive"></a>启动hive</h4><p>启动hive之前，请先启动hadoop集群</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">start-dfs.sh</span><br><span class="line">hive   #启动hive</span><br></pre></td></tr></table></figure><p>注意，我们这里已经配置了PATH，所以，不要把start-all.sh和hive命令的路径加上。如果没有配置PATH，请加上路径才能运行命令，比如，本教程Hadoop安装目录是“&#x2F;usr&#x2F;local&#x2F;hadoop”，Hive的安装目录是“&#x2F;usr&#x2F;local&#x2F;hive”，因此，启动hadoop和hive，也可以使用下面带路径的方式：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/hadoop #进入Hadoop安装目录</span><br><span class="line">./sbin/start-dfs.sh</span><br><span class="line">cd /usr/local/hive</span><br><span class="line">./bin/hive</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519113853472.png" alt="image-20230519113853472"></p><p>可以在里面输入SQL语句，如果要退出Hive交互式执行环境，可以输入如下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit;</span><br></pre></td></tr></table></figure></li></ol><h3 id="（四）安装HBase"><a href="#（四）安装HBase" class="headerlink" title="（四）安装HBase"></a>（四）安装HBase</h3><ol><li><h4 id="hbase安装"><a href="#hbase安装" class="headerlink" title="hbase安装"></a>hbase安装</h4><p>1.1 解压安装包hbase-2.2.2-bin.tar.gz至路径 &#x2F;usr&#x2F;local，命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -zxvf /home/hadoop/hbase-1.1.2-bin.tar.gz -C /usr/local</span><br></pre></td></tr></table></figure><p>1.2 将解压的文件名hbase-2.2.2改为hbase，以方便使用，命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mv /usr/local/hbase-1.1.2 /usr/local/hbase</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519102717668.png" alt="image-20230519102717668"></p><p>1.3 配置环境变量</p><p>将hbase下的bin目录添加到path中，这样，启动hbase就无需到&#x2F;usr&#x2F;local&#x2F;hbase目录下，大大的方便了hbase的使用。教程下面的部分还是切换到了&#x2F;usr&#x2F;local&#x2F;hbase目录操作，有助于初学者理解运行过程，熟练之后可以不必切换。</p><p>编辑~&#x2F;.bashrc文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bashrc</span><br></pre></td></tr></table></figure><p>如果没有引入过PATH请在~&#x2F;.bashrc文件尾行添加如下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/hbase/bin</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519102827892.png" alt="image-20230519102827892"></p><p>编辑完成后，再执行source命令使上述配置在当前终端立即生效，命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519102901810.png" alt="image-20230519102901810"></p><p>1.4 添加HBase权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local</span><br><span class="line">sudo chown -R hadoop ./hbase    #将hbase下的所有文件的所有者改为hadoop</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519103002599.png" alt="image-20230519103002599"></p><p>1.5 查看HBase版本，确定hbase安装成功,命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/hbase/bin/hbase version</span><br></pre></td></tr></table></figure><p>命令执行后，输出信息截图如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519103131786.png" alt="image-20230519103131786"></p></li><li><h4 id="hbase配置"><a href="#hbase配置" class="headerlink" title="hbase配置"></a>hbase配置</h4><p>2.1 配置&#x2F;usr&#x2F;local&#x2F;hbase&#x2F;conf&#x2F;hbase-env.sh 命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/local/hbase/conf/hbase-env.sh</span><br></pre></td></tr></table></figure><p>配置JAVA_HOME，HBASE_CLASSPATH，HBASE_MANAGES_ZK.</p><p>HBASE_CLASSPATH设置为本机Hadoop安装目录下的conf目录（即&#x2F;usr&#x2F;local&#x2F;hadoop&#x2F;conf）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_162</span><br><span class="line">export HBASE_CLASSPATH=/usr/local/hadoop/conf </span><br><span class="line">export HBASE_MANAGES_ZK=true</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519103522037.png" alt="image-20230519103522037"></p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519103539892.png" alt="image-20230519103539892"></p><p>2.2 配置&#x2F;usr&#x2F;local&#x2F;hbase&#x2F;conf&#x2F;hbase-site.xml</p><p>用命令vi打开并编辑hbase-site.xml，命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/local/hbase/conf/hbase-site.xml</span><br></pre></td></tr></table></figure><p>修改hbase.rootdir，指定HBase数据在HDFS上的存储路径；将属性hbase.cluter.distributed设置为true。假设当前Hadoop集群运行在伪分布式模式下，在本机上运行，且NameNode运行在9000端口。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line"></span><br><span class="line">​    &lt;property&gt;</span><br><span class="line"></span><br><span class="line">​        &lt;name&gt;hbase.rootdir&lt;/name&gt;</span><br><span class="line"></span><br><span class="line">​        &lt;value&gt;hdfs://localhost:9000/hbase&lt;/value&gt;</span><br><span class="line"></span><br><span class="line">​    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">​    &lt;property&gt;</span><br><span class="line"></span><br><span class="line">​        &lt;name&gt;hbase.cluster.distributed&lt;/name&gt;</span><br><span class="line"></span><br><span class="line">​        &lt;value&gt;true&lt;/value&gt;</span><br><span class="line"></span><br><span class="line">​    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><p>hbase.rootdir指定HBase的存储目录；hbase.cluster.distributed设置集群处于分布式模式.</p><p>截图如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519103840982.png" alt="image-20230519103840982"></p></li><li><h4 id="测试运行HBase"><a href="#测试运行HBase" class="headerlink" title="测试运行HBase"></a>测试运行HBase</h4><p>第一步：首先登陆ssh，之前设置了无密码登陆，因此这里不需要密码；再切换目录至&#x2F;usr&#x2F;local&#x2F;hadoop ；再启动hadoop，如果已经启动hadoop请跳过此步骤。命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br><span class="line">cd /usr/local/hadoop</span><br><span class="line">./sbin/start-dfs.sh</span><br><span class="line">jps   #能看到NameNode,DataNode和SecondaryNameNode都已经成功启动，表示hadoop启动成功</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519104158678.png" alt="image-20230519104158678"></p><p>第二步：切换目录至&#x2F;usr&#x2F;local&#x2F;hbase;再启动HBase.命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/hbase</span><br><span class="line">bin/start-hbase.sh</span><br><span class="line">jps  #启动成功，输入命令jps，看到以下界面说明hbase启动成功</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519104353783.png" alt="image-20230519104353783"></p><p>进入shell界面：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/hbase shell</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519104445276.png" alt="image-20230519104445276"></p><p>停止HBase运行,命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/stop-hbase.sh</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519104633970.png" alt="image-20230519104633970"></p></li></ol><h3 id="（五）安装Hive"><a href="#（五）安装Hive" class="headerlink" title="（五）安装Hive"></a>（五）安装Hive</h3><ol><li><h4 id="下载并加压hive安装包"><a href="#下载并加压hive安装包" class="headerlink" title="下载并加压hive安装包"></a>下载并加压hive安装包</h4><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519110040430.png" alt="image-20230519110040430"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.sudo tar -zxvf /home/hadoop/apache-hive-1.2.1-bin.tar.gz -C /usr/local # 解压到/usr/local中</span><br><span class="line">2.cd /usr/local</span><br><span class="line">3.sudo mv apache-hive-1.2.1-bin hive       # 将文件夹名改为hive</span><br><span class="line">4.sudo chown -R hadoop:hadoop hive            # 修改文件权限</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519110443084.png" alt="image-20230519110443084"></p></li><li><h4 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><p>为了方便使用，我们把hive命令加入到环境变量中去，<br>请使用vim编辑器打开.bashrc文件，命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><p>在该文件最前面一行添加如下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export HIVE_HOME=/usr/local/hive</span><br><span class="line">export PATH=$PATH:$HIVE_HOME/bin</span><br><span class="line">export HADOOP_HOME=/usr/local/hadoop</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519110818121.png" alt="image-20230519110818121"></p><p>HADOOP_HOME需要被配置成你机器上Hadoop的安装路径，比如这里是安装在&#x2F;usr&#x2F;local.&#x2F;hadoop目录。<br>保存退出后，运行如下命令使配置立即生效：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519110847306.png" alt="image-20230519110847306"></p></li><li><h4 id="修改-usr-local-hive-conf下的hive-site-xml"><a href="#修改-usr-local-hive-conf下的hive-site-xml" class="headerlink" title="修改&#x2F;usr&#x2F;local&#x2F;hive&#x2F;conf下的hive-site.xml"></a>修改&#x2F;usr&#x2F;local&#x2F;hive&#x2F;conf下的hive-site.xml</h4><p>执行如下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/hive/conf</span><br><span class="line">mv hive-default.xml.template hive-default.xml</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519111203011.png" alt="image-20230519111203011"></p><p>上面命令是将hive-default.xml.template重命名为hive-default.xml；<br>然后，使用vim编辑器新建一个配置文件hive-site.xml，命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/hive/conf</span><br><span class="line">vim hive-site.xml</span><br></pre></td></tr></table></figure><p>在hive-site.xml中添加如下配置信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;</span><br><span class="line">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;jdbc:mysql://localhost:3306/hive?createDatabaseIfNotExist=true&lt;/value&gt;</span><br><span class="line">    &lt;description&gt;JDBC connect string for a JDBC metastore&lt;/description&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;</span><br><span class="line">    &lt;description&gt;Driver class name for a JDBC metastore&lt;/description&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;hive&lt;/value&gt;</span><br><span class="line">    &lt;description&gt;username to use against metastore database&lt;/description&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;hive&lt;/value&gt;</span><br><span class="line">    &lt;description&gt;password to use against metastore database&lt;/description&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519111237247.png" alt="image-20230519111237247"></p></li><li><h4 id="在安装完mysql并配置完成之后启动hive"><a href="#在安装完mysql并配置完成之后启动hive" class="headerlink" title="在安装完mysql并配置完成之后启动hive"></a>在安装完mysql并配置完成之后启动hive</h4><p>启动hive之前，请先启动hadoop集群</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">start-dfs.sh</span><br><span class="line">hive   #启动hive</span><br></pre></td></tr></table></figure><p>注意，我们这里已经配置了PATH，所以，不要把start-all.sh和hive命令的路径加上。如果没有配置PATH，请加上路径才能运行命令，比如，本教程Hadoop安装目录是“&#x2F;usr&#x2F;local&#x2F;hadoop”，Hive的安装目录是“&#x2F;usr&#x2F;local&#x2F;hive”，因此，启动hadoop和hive，也可以使用下面带路径的方式：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/hadoop #进入Hadoop安装目录</span><br><span class="line">./sbin/start-dfs.sh</span><br><span class="line">cd /usr/local/hive</span><br><span class="line">./bin/hive</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519113853472.png" alt="image-20230519113853472"></p><p>可以在里面输入SQL语句，如果要退出Hive交互式执行环境，可以输入如下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit;</span><br></pre></td></tr></table></figure></li></ol><h3 id="（六）安装Eclipse"><a href="#（六）安装Eclipse" class="headerlink" title="（六）安装Eclipse"></a>（六）安装Eclipse</h3><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519101114286.png" alt="image-20230519101114286"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -zxvf /home/hadoop/eclipse-4.7.0-linux..gz -C /usr/local    #解压到/usr/local</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519101303827.png" alt="image-20230519101303827"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/eclipse</span><br><span class="line">./eclipse        #运行eclipse</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519101440184.png" alt="image-20230519101440184"></p><h3 id="（七）安装sqoop"><a href="#（七）安装sqoop" class="headerlink" title="（七）安装sqoop"></a>（七）安装sqoop</h3><ol><li><h4 id="下载并解压sqoop1-4-6"><a href="#下载并解压sqoop1-4-6" class="headerlink" title="下载并解压sqoop1.4.6"></a>下载并解压sqoop1.4.6</h4><p>下面执行以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd ~  #进入当前用户的用户目录</span><br><span class="line">sudo tar -zxvf /home/hadoop/sqoop-1.4.6.bin__had.gz -C /usr/local              #解压安装文件</span><br><span class="line">cd /usr/local</span><br><span class="line">sudo mv sqoop-1.4.6.bin__hadoop-2.0.4-alpha sqoop #修改文件名</span><br><span class="line">sudo chown -R hadoop:hadoop sqoop #修改文件夹属主，如果你当前登录用户名不是hadoop，请修改成你自己的用户名</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519204202670.png" alt="image-20230519204202670"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519204459467.png" alt="image-20230519204459467"></p></li><li><h4 id="修改配置文件sqoop-env-sh"><a href="#修改配置文件sqoop-env-sh" class="headerlink" title="修改配置文件sqoop-env.sh"></a>修改配置文件sqoop-env.sh</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd sqoop/conf/</span><br><span class="line">cat sqoop-env-template.sh  &gt;&gt; sqoop-env.sh  #将sqoop-env-template.sh复制一份并命名为sqoop-env.sh</span><br><span class="line">vim sqoop-env.sh #编辑sqoop-env.sh</span><br></pre></td></tr></table></figure><p>修改sqoop-env.sh的如下信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export HADOOP_COMMON_HOME=/usr/local/hadoop</span><br><span class="line">export HADOOP_MAPRED_HOME=/usr/local/hadoop</span><br><span class="line">export HBASE_HOME=/usr/local/hbase</span><br><span class="line">export HIVE_HOME=/usr/local/hive</span><br><span class="line"></span><br><span class="line">#export ZOOCFGDIR= #如果读者配置了ZooKeeper,也需要在此配置ZooKeeper的路径</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521150512380.png" alt="image-20230519204821964"></p></li><li><h4 id="配置环境变量-1"><a href="#配置环境变量-1" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><p>打开当前用户的环境变量配置文件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><p>在配置文件第一行键入如下信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export SQOOP_HOME=/usr/local/sqoop</span><br><span class="line">export PATH=$PATH:$SBT_HOME/bin:$SQOOP_HOME/bin</span><br><span class="line">export CLASSPATH=$CLASSPATH:$SQOOP_HOME/lib</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519204906298.png" alt="image-20230519204906298"></p><p>保存该文件，退出vim编辑器。<br>然后，执行下面命令让配置文件立即生效:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230519204935905.png" alt="image-20230519204935905"></p></li><li><h4 id="将mysql驱动包拷贝到-SQOOP-HOME-lib"><a href="#将mysql驱动包拷贝到-SQOOP-HOME-lib" class="headerlink" title="将mysql驱动包拷贝到$SQOOP_HOME&#x2F;lib"></a>将mysql驱动包拷贝到$SQOOP_HOME&#x2F;lib</h4><p>下面要把MySQL驱动程序拷贝到$SQOOP_HOME&#x2F;lib目录下，首先请在Linux系统的浏览器中请点击<a href="http://www.mysql.com/downloads/connector/j/">mysql驱动包下载地址</a>下载驱动包。下载后，一般文件会被浏览器默认放置在当前用户的下载目录下，本教程采用hadoop用户登录Linux系统，因此，下载文件被默认放置在“&#x2F;home&#x2F;hadoop&#x2F;下载”目录下面。<br>下面执行命令拷贝文件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd /home/hadoop #切换到下载路径，如果你下载的文件不在这个目录下，请切换到下载文件所保存的目录</span><br><span class="line">sudo tar -zxvf /home/hadoop/mysql-connector-java-5.1.49.tar.gz  #解压mysql驱动包</span><br><span class="line">ls #这时就可以看到解压缩后得到的目录mysql-connector-java-5.1.49</span><br><span class="line"></span><br><span class="line">cp /home/hadoop/mysql-connector-java-5.1.49/mysql-connector-java-5.1.49.jar /usr/local/sqoop/lib</span><br><span class="line"></span><br><span class="line"> cp /home/hadoop/mysql-connector-java-5.1.49/mysql-connector-java-5.1.49-bin.jar /usr/local/sqoop/lib</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521152252175.png" alt="image-20230521152252175"></p></li><li><h4 id="测试与MySQL的连接"><a href="#测试与MySQL的连接" class="headerlink" title="测试与MySQL的连接"></a>测试与MySQL的连接</h4><p>首先请确保mysql服务已经启动了，如果没有启动，请执行下面命令启动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysql start</span><br></pre></td></tr></table></figure><p>然后就可以测试sqoop与MySQL之间的连接是否成功：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqoop list-databases --connect jdbc:mysql://127.0.0.1:3306/ --username root -P</span><br></pre></td></tr></table></figure><p>mysql的数据库列表显示在屏幕上表示连接成功，如下图：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521155219093.png" alt="image-20230521155219093"></p><p>错误分析：</p><p>一开始报错</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521155422875.png" alt="image-20230521155422875"></p><p>此时我用的是mysql-connector-java-5.1.40.tar.gz ，但这个里面没有mysql-connector-java-5.1.40.jar 包，后来换了mysql-connector-java-5.1.49.tar.gz这个，但仍然报错，我进入MySQL查看了一下MySQL中的各个用户，发现root用户没有密码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select user,host,authentication_string,password_expired from user;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521155730450.png" alt="image-20230521155730450"></p><p>然后我将root用户删除重新创建了root用户</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">drop user root@localhost;</span><br><span class="line">flush privileges;</span><br><span class="line">create user root@localhost identified by &#x27;root&#x27;;</span><br><span class="line">grant all privileges on *.* to root@localhost identified by &#x27;root&#x27;;</span><br><span class="line"> flush privileges;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521155858116.png" alt="image-20230521155858116"></p><p>再次连接成功了</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521155926497.png" alt="image-20230521155926497"></p></li></ol><h2 id="二-网站用户行为分析"><a href="#二-网站用户行为分析" class="headerlink" title="二.网站用户行为分析"></a>二.网站用户行为分析</h2><h3 id="一-本地数据集上传到数据仓库Hive"><a href="#一-本地数据集上传到数据仓库Hive" class="headerlink" title="一. 本地数据集上传到数据仓库Hive"></a>一. 本地数据集上传到数据仓库Hive</h3><h4 id="1-实验数据集的下载"><a href="#1-实验数据集的下载" class="headerlink" title="1. 实验数据集的下载"></a>1. 实验数据集的下载</h4><p>请登录Linux系统（本教程统一采用hadoop用户登录），用xftp将数据下载到相应目录下</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520205801969.png" alt="image-20230520205801969"></p><p>现在，请在Linux系统中打开一个终端（可以使用快捷键Ctrl+Alt+T），执行下面命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /home/hadoop</span><br><span class="line">ls</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520205838037.png" alt="image-20230520205838037"></p><p>通过上面命令，就进入到了user.zip文件所在的目录，并且可以看到有个user.zip文件。</p><p>下面需要把user.zip进行解压缩，我们需要首先建立一个用于运行本案例的目录bigdatacase，请执行以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local</span><br><span class="line">2.ls</span><br><span class="line">3.sudo mkdir bigdatacase</span><br><span class="line">4.//这里会提示你输入当前用户（本教程是hadoop用户名）的密码</span><br><span class="line">5.//下面给hadoop用户赋予针对bigdatacase目录的各种操作权限</span><br><span class="line">6.sudo chown -R hadoop:hadoop ./bigdatacase</span><br><span class="line">7.cd bigdatacase</span><br><span class="line">8.//下面创建一个dataset目录，用于保存数据集</span><br><span class="line">9. sudo mkdir dataset</span><br><span class="line">10.//下面就可以解压缩user.zip文件</span><br><span class="line">11.cd ~  //表示进入hadoop用户的目录</span><br><span class="line">12.ls</span><br><span class="line">13.unzip user.zip -d /usr/local/bigdatacase/dataset</span><br><span class="line">14.cd /usr/local/bigdatacase/dataset</span><br><span class="line">15.ls</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520210442259.png" alt="image-20230520210442259"></p><p>现在你就可以看到在dataset目录下有两个文件：raw_user.csv和small_user.csv。<br>我们执行下面命令取出前面5条记录看一下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">head -5 raw_user.csv</span><br></pre></td></tr></table></figure><p>可以看到，前5行记录如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520210516775.png" alt="image-20230520210516775"></p><p>可以看出，每行记录都包含5个字段，数据集中的字段及其含义如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">user_id（用户id）</span><br><span class="line">item_id(商品id)</span><br><span class="line">behaviour_type（包括浏览、收藏、加购物车、购买，对应取值分别是1、2、3、4）</span><br><span class="line">user_geohash(用户地理位置哈希值，有些记录中没有这个字段值，所以后面我们会用脚本做数据预处理时把这个字段全部删除)</span><br><span class="line">item_category（商品分类）</span><br><span class="line">time（该记录产生时间）</span><br></pre></td></tr></table></figure><h4 id="2-数据集的预处理"><a href="#2-数据集的预处理" class="headerlink" title="2.  数据集的预处理"></a>2.  数据集的预处理</h4><ol><li><p>删除文件第一行记录，即字段名称<br>raw_user和small_user中的第一行都是字段名称，我们在文件中的数据导入到数据仓库Hive中时，不需要第一行字段名称，因此，这里在做数据预处理时，删除第一行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/bigdatacase/dataset</span><br><span class="line">2.//下面删除raw_user中的第1行</span><br><span class="line">3.sed -i &#x27;1d&#x27; raw_user.csv //1d表示删除第1行，同理，3d表示删除第3行，nd表示删除第n行</span><br><span class="line">4.//下面删除small_user中的第1行</span><br><span class="line">5.sed -i &#x27;1d&#x27; small_user.csv</span><br><span class="line">6.//下面再用head命令去查看文件的前5行记录，就看不到字段名称这一行了</span><br><span class="line">7.head -5 raw_user.csv</span><br><span class="line">8.head -5 small_user.csv</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520211434884.png" alt="image-20230520211434884"></p><p>接下来的操作中，我们都是用small_user.csv这个小数据集进行操作，这样可以节省时间。等所有流程都跑通以后，你就可以使用大数据集raw_user.csv去测试一遍了。</p></li><li><p>对字段进行预处理</p><p>下面对数据集进行一些预处理，包括为每行记录增加一个id字段（让记录具有唯一性）、增加一个省份字段（用来后续进行可视化分析），并且丢弃user_geohash字段（后面分析不需要这个字段）。<br>下面我们要建一个脚本文件pre_deal.sh，请把这个脚本文件放在dataset目录下，和数据集small_user.csv放在同一个目录下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/bigdatacase/dataset</span><br><span class="line">2.vim pre_deal.sh</span><br></pre></td></tr></table></figure><p>上面使用vim编辑器新建了一个pre_deal.sh脚本文件，请在这个脚本文件中加入下面代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">#下面设置输入文件，把用户执行pre_deal.sh命令时提供的第一个参数作为输入文件名称</span><br><span class="line">infile=$1</span><br><span class="line">#下面设置输出文件，把用户执行pre_deal.sh命令时提供的第二个参数作为输出文件名称</span><br><span class="line">outfile=$2</span><br><span class="line">#注意！！最后的$infile &gt; $outfile必须跟在&#125;’这两个字符的后面</span><br><span class="line">awk -F &quot;,&quot; &#x27;BEGIN&#123;</span><br><span class="line">        srand();</span><br><span class="line">        id=0;</span><br><span class="line">        Province[0]=&quot;山东&quot;;Province[1]=&quot;山西&quot;;Province[2]=&quot;河南&quot;;Province[3]=&quot;河北&quot;;Province[4]=&quot;陕西&quot;;Province[5]=&quot;内蒙古&quot;;Province[6]=&quot;上海市&quot;;</span><br><span class="line">        Province[7]=&quot;北京市&quot;;Province[8]=&quot;重庆市&quot;;Province[9]=&quot;天津市&quot;;Province[10]=&quot;福建&quot;;Province[11]=&quot;广东&quot;;Province[12]=&quot;广西&quot;;Province[13]=&quot;云南&quot;; </span><br><span class="line">        Province[14]=&quot;浙江&quot;;Province[15]=&quot;贵州&quot;;Province[16]=&quot;新疆&quot;;Province[17]=&quot;西藏&quot;;Province[18]=&quot;江西&quot;;Province[19]=&quot;湖南&quot;;Province[20]=&quot;湖北&quot;;</span><br><span class="line">        Province[21]=&quot;黑龙江&quot;;Province[22]=&quot;吉林&quot;;Province[23]=&quot;辽宁&quot;; Province[24]=&quot;江苏&quot;;Province[25]=&quot;甘肃&quot;;Province[26]=&quot;青海&quot;;Province[27]=&quot;四川&quot;;</span><br><span class="line">        Province[28]=&quot;安徽&quot;; Province[29]=&quot;宁夏&quot;;Province[30]=&quot;海南&quot;;Province[31]=&quot;香港&quot;;Province[32]=&quot;澳门&quot;;Province[33]=&quot;台湾&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        id=id+1;</span><br><span class="line">        value=int(rand()*34);       </span><br><span class="line">        print id&quot;\t&quot;$1&quot;\t&quot;$2&quot;\t&quot;$3&quot;\t&quot;$5&quot;\t&quot;substr($6,1,10)&quot;\t&quot;Province[value]</span><br><span class="line">    &#125;&#x27; $infile &gt; $outfile</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520211514736.png" alt="image-20230520211514736"></p><p>上面的代码的基本形式是：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk -F &quot;,&quot; &#x27;处理逻辑&#x27; $infile &gt; $outfile</span><br></pre></td></tr></table></figure><p>使用awk可以逐行读取输入文件，并对逐行进行相应操作。其中，-F参数用于指出每行记录的不同字段之间用什么字符进行分割，这里是用逗号进行分割。处理逻辑代码需要用两个英文单引号引起来。 $infile是输入文件的名称，我们这里会输入raw_user.csv，$outfile表示处理结束后输出的文件名称，我们后面会使用user_table.txt作为输出文件名称。</p><p>在上面的pre_deal.sh代码的处理逻辑部分，srand()用于生成随机数的种子，id是我们为数据集新增的一个字段，它是一个自增类型，每条记录增加1，这样可以保证每条记录具有唯一性。我们会为数据集新增一个省份字段，用来进行后面的数据可视化分析，为了给每条记录增加一个省份字段的值，这里，我们首先用Province[]数组用来保存全国各个省份信息，然后，在遍历数据集raw_user.csv的时候，每当遍历到其中一条记录，使用value&#x3D;int(rand()*34)语句随机生成一个0-33的整数，作为Province省份值，然后从Province[]数组当中获取省份名称，增加到该条记录中。</p><p>substr($6,1,10)这个语句是为了截取时间字段time的年月日，方便后续存储为date格式。awk每次遍历到一条记录时，每条记录包含了6个字段，其中，第6个字段是时间字段，substr($6,1,10)语句就表示获取第6个字段的值，截取前10个字符，第6个字段是类似”2014-12-08 18″这样的字符串（也就是表示2014年12月8日18时），substr($6,1,10)截取后，就丢弃了小时，只保留了年月日。<br>另外，在print id”\t”$1″\t”$2″\t”$3″\t”$5″\t”substr($6,1,10)”\t”Province[value]这行语句中，我们丢弃了每行记录的第4个字段，所以，没有出现$4。我们生成后的文件是“\t”进行分割，这样，后续我们去查看数据的时候，效果让人看上去更舒服，每个字段在排版的时候会对齐显示，如果用逗号分隔，显示效果就比较乱。</p><p>最后，保存pre_deal.sh代码文件，退出vim编辑器。<br>下面就可以执行pre_deal.sh脚本文件，来对small_user.csv进行数据预处理，命令如下:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/bigdatacase/dataset</span><br><span class="line">2.bash ./pre_deal.sh small_user.csv user_table.txt  </span><br></pre></td></tr></table></figure><p>可以使用head命令查看生成的user_table.txt，不要直接打开，文件过大，会出错，下面查看前10行数据：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.head -10 user_table.txt</span><br></pre></td></tr></table></figure><p>可以得到如下结果：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520211813834.png" alt="image-20230520211813834"></p></li><li><p>导入数据库</p><p>下面要把user_table.txt中的数据最终导入到数据仓库Hive中。为了完成这个操作，我们会首先把user_table.txt上传到分布式文件系统HDFS中，然后，在Hive中创建一个外部表，完成数据的导入。</p><p>a.启动HDFS<br>HDFS是Hadoop的核心组件，因此，需要使用HDFS，必须安装Hadoop。这里假设你已经安装了Hadoop，本教程使用的是Hadoop2.7.1版本，安装目录是“&#x2F;usr&#x2F;local&#x2F;hadoop”。</p><p>下面，请登录Linux系统，打开一个终端，执行下面命令启动Hadoop：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hadoop</span><br><span class="line">2../sbin/start-all.sh</span><br></pre></td></tr></table></figure><p>然后，执行jps命令看一下当前运行的进程：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jps</span><br></pre></td></tr></table></figure><p>如果出现下面这些进程，说明Hadoop启动成功了:</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520212108328.png" alt="image-20230520212108328"></p><p>b.把user_table.txt上传到HDFS中<br>现在，我们要把Linux本地文件系统中的user_table.txt上传到分布式文件系统HDFS中，存放在HDFS中的“&#x2F;bigdatacase&#x2F;dataset”目录下。<br>首先，请执行下面命令，在HDFS的根目录下面创建一个新的目录bigdatacase，并在这个目录下创建一个子目录dataset，如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hadoop</span><br><span class="line">2../bin/hdfs dfs -mkdir -p /bigdatacase/dataset</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520212337614.png" alt="image-20230520212337614"></p><p>然后，把Linux本地文件系统中的user_table.txt上传到分布式文件系统HDFS的“&#x2F;bigdatacase&#x2F;dataset”目录下，命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hadoop</span><br><span class="line">2../bin/hdfs dfs -put /usr/local/bigdatacase/dataset/user_table.txt /bigdatacase/dataset</span><br></pre></td></tr></table></figure><p>下面可以查看一下HDFS中的user_table.txt的前10条记录，命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hadoop</span><br><span class="line">2../bin/hdfs dfs -cat /bigdatacase/dataset/user_table.txt | head -10</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520212430962.png" alt="image-20230520212430962"></p><p>c.在Hive上创建数据库<br>关于什么是数据仓库Hive？Hive的运行基本原理是什么？如何开展Hive简单编程实践？<br>本案例教程需要安装数据仓库Hive，这里假设你已经完成了Hive的安装，并且使用MySQL数据库保存Hive的元数据。本教程安装的是Hive2.1.0版本，安装目录是“&#x2F;usr&#x2F;local&#x2F;hive”。<br>下面，请在Linux系统中，再新建一个终端（可以在刚才已经建好的终端界面的左上角，点击“终端”菜单，在弹出的子菜单中选择“新建终端”）。因为需要借助于MySQL保存Hive的元数据，所以，请首先启动MySQL数据库：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.service mysql start  //可以在Linux的任何目录下执行该命令</span><br></pre></td></tr></table></figure><p>由于Hive是基于Hadoop的数据仓库，使用HiveQL语言撰写的查询语句，最终都会被Hive自动解析成MapReduce任务由Hadoop去具体执行，因此，需要启动Hadoop，然后再启动Hive。由于前面我们已经启动了Hadoop，所以，这里不需要再次启动Hadoop。下面，在这个新的终端中执行下面命令进入Hive：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hive</span><br><span class="line">2../bin/hive   //启动Hive</span><br></pre></td></tr></table></figure><p>启动成功以后，就进入了“hive&gt;”命令提示符状态，可以输入类似SQL语句的HiveQL语句。</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520212634858.png" alt="image-20230520212634858"></p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520212650120.png" alt="image-20230520212650120"></p><p>下面，我们要在Hive中创建一个数据库dblab，命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt;  create database dblab;</span><br><span class="line">2.hive&gt;  use dblab;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520212714795.png" alt="image-20230520212714795"></p><p>d.创建外部表<br>关于数据仓库Hive的内部表和外部表的区别，本教程采用外部表方式。<br>这里我们要在数据库dblab中创建一个外部表bigdata_user，它包含字段（id, uid, item_id, behavior_type, item_category, date, province），请在hive命令提示符下输入如下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive&gt;  CREATE EXTERNAL TABLE dblab.bigdata_user(id INT,uid STRING,item_id STRING,behavior_type INT,item_category STRING,visit_date DATE,province STRING) COMMENT &#x27;Welcome to xmu dblab!&#x27; ROW FORMAT DELIMITED FIELDS TERMINATED BY &#x27;\t&#x27; STORED AS TEXTFILE LOCATION &#x27;/bigdatacase/dataset&#x27;;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520212804298.png" alt="image-20230520212804298"> ****e.查询数据<br>上面已经成功把HDFS中的“&#x2F;bigdatacase&#x2F;dataset”目录下的数据加载到了数据仓库Hive中，我们现在可以使用下面命令查询一下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt;  select * from bigdata_user limit 10;</span><br><span class="line">2.hive&gt;  select behavior_type from bigdata_user limit 10;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230520212915936.png" alt="image-20230520212915936"></p></li></ol><h3 id="二-Hive数据分析"><a href="#二-Hive数据分析" class="headerlink" title="二. Hive数据分析"></a>二. Hive数据分析</h3><h4 id="1-操作Hive"><a href="#1-操作Hive" class="headerlink" title="1.操作Hive"></a>1.操作Hive</h4><p>请登录Linux系统（本教程统一采用hadoop用户名登录系统），然后，打开一个终端（可以按快捷键Ctrl+Alt+T）。<br>本教程中，Hadoop的安装目录是“&#x2F;usr&#x2F;local&#x2F;hadoop”，Hive的安装目录是“&#x2F;usr&#x2F;local&#x2F;hive”。<br>因为需要借助于MySQL保存Hive的元数据，所以，请首先启动MySQL数据库，请在终端中输入下面命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysql start  //可以在Linux的任何目录下执行该命令</span><br></pre></td></tr></table></figure><p>由于Hive是基于Hadoop的数据仓库，使用HiveQL语言撰写的查询语句，最终都会被Hive自动解析成MapReduce任务由Hadoop去具体执行，因此，需要启动Hadoop，然后再启动Hive。</p><p>请执行下面命令启动Hadoop（如果你已经启动了Hadoop就不用再次启动了）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hadoop</span><br><span class="line">2../sbin/start-all.sh</span><br><span class="line">3.jps          #查看一下进程</span><br></pre></td></tr></table></figure><p>如果出现下面这些进程，说明Hadoop启动成功了：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132143873.png" alt="image-20230521132143873"></p><p>下面，继续执行下面命令启动进入Hive：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hive</span><br><span class="line">2../bin/hive   //启动Hive</span><br></pre></td></tr></table></figure><p>通过上述过程，我们就完成了MySQL、Hadoop和Hive三者的启动。<br>启动成功以后，就进入了“hive&gt;”命令提示符状态，可以输入类似SQL语句的HiveQL语句。</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132230389.png" alt="image-20230521132230389"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132258269.png" alt="image-20230521132258269"></p><p>然后，在“hive&gt;”命令提示符状态下执行下面命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt; use dblab; //使用dblab数据库</span><br><span class="line">2.hive&gt; show tables; //显示数据库中所有表。</span><br><span class="line">3.hive&gt; show create table bigdata_user; //查看bigdata_user表的各种属性；</span><br></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132408219.png" alt="image-20230521132408219"></p><p>可以执行下面命令查看表的简单结构：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt; desc bigdata_user;</span><br></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132431320.png" alt="image-20230521132431320"></p><h4 id="2-简单查询分析"><a href="#2-简单查询分析" class="headerlink" title="2.简单查询分析"></a>2.简单查询分析</h4><p>先测试一下简单的指令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt; select behavior_type from bigdata_user limit 10;//查看前10位用户对商品的行为</span><br></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132454930.png" alt="image-20230521132454930"></p><p>如果要查出每位用户购买商品时的多种信息，输出语句格式为 select 列1，列2，….，列n from 表名；<br>比如我们现在查询前20位用户购买商品时的时间和商品的种类</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt; select visit_date,item_category from bigdata_user limit 20;</span><br></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132521517.png" alt="image-20230521132521517"></p><p>有时我们在表中查询可以利用嵌套语句，如果列名太复杂可以设置该列的别名，以简化我们操作的难度，以下我们可以举个例子：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt; select e.bh, e.it  from (select behavior_type as bh, item_category as it from bigdata_user) as e  limit 20;</span><br></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132551215.png" alt="image-20230521132551215"></p><p>这里简单的做个讲解，behavior_type as bh ,item_category as it就是把behavior_type 设置别名 bh ,item_category 设置别名 it，FROM的括号里的内容我们也设置了别名e，这样调用时用e.bh,e.it,可以简化代码。</p><h4 id="3-查询条数统计分析"><a href="#3-查询条数统计分析" class="headerlink" title="3.查询条数统计分析"></a>3.查询条数统计分析</h4><p>经过简单的查询后我们同样也可以在select后加入更多的条件对表进行查询,下面可以用函数来查找我们想要的内容。</p><ol><li><p>用聚合函数count()计算出表内有多少条行数据</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; select count(*) from bigdata_user;//用聚合函数count()计算出表内有多少条行数据 </span><br></pre></td></tr></table></figure><p>我们可以看到，得出的结果为OK下的那个数字300000（因为我们的small_user.csv中包含了300000条记录，导入到Hive中）。</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132650584.png" alt="image-20230521132650584"></p></li><li><p>在函数内部加上distinct，查出uid不重复的数据有多少条</p><p>下面继续执行操作：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; select count(distinct uid) from bigdata_user;//在函数内部加上distinct，查出uid不重复的数据有多少条</span><br></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132722267.png" alt="image-20230521132722267"></p></li><li><p>查询不重复的数据有多少条(为了排除客户刷单情况) </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive&gt;select count(*) from (select uid,item_id,behavior_type,item_category,visit_date,province from bigdata_user group by uid,item_id,behavior_type,item_category,visit_date,province having count(*)=1)a;</span><br></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132815436.png" alt="image-20230521132815436"></p><p>可以看出，排除掉重复信息以后，只有284444条记录。<br>注意：嵌套语句最好取别名，就是上面的a，否则很容易出现如下错误.</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521131151504.png" alt="image-20230521131151504"></p></li></ol><h4 id="4-关键字条件查询分析"><a href="#4-关键字条件查询分析" class="headerlink" title="4.关键字条件查询分析"></a>4.关键字条件查询分析</h4><ol><li><p>以关键字的存在区间为条件的查询<br>使用where可以缩小查询分析的范围和精确度，下面用实例来测试一下。<br>(1)查询2014年12月10日到2014年12月13日有多少人浏览了商品</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive&gt;select count(*) from bigdata_user where behavior_type=&#x27;1&#x27; and visit_date&lt;&#x27;2014-12-13&#x27; and visit_date&gt;&#x27;2014-12-10&#x27;;</span><br></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132933625.png" alt="image-20230521132933625"></p><p>（2）以月的第n天为统计单位，依次显示第n天网站卖出去的商品的个数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; select count(distinct uid), day(visit_date) from bigdata_user where behavior_type=&#x27;4&#x27; group by day(visit_date);</span><br></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521133024102.png" alt="image-20230521133024102"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521133101192.png" alt="image-20230521133101192"></p></li><li><p>关键字赋予给定值为条件，对其他数据进行分析</p><p>取给定时间和给定地点，求当天发出到该地点的货物的数量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt; select count(*) from bigdata_user where province=&#x27;江西&#x27; and visit_date=&#x27;2014-12-12&#x27; and behavior_type=&#x27;4&#x27;;</span><br></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521133133244.png" alt="image-20230521133133244"></p></li></ol><h4 id="5-根据用户行为分析"><a href="#5-根据用户行为分析" class="headerlink" title="5.根据用户行为分析"></a>5.根据用户行为分析</h4><ol><li><p>查询一件商品在某天的购买比例或浏览比例</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; select count(*) from bigdata_user where visit_date=&#x27;2014-12-11&#x27;and behavior_type=&#x27;4&#x27;;//查询有多少用户在2014-12-11购买了商品</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; select count(*) from bigdata_user where visit_date =&#x27;2014-12-11&#x27;;//查询有多少用户在2014-12-11点击了该店</span><br></pre></td></tr></table></figure><p>根据上面语句得到购买数量和点击数量，两个数相除即可得出当天该商品的购买率。</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521133222377.png" alt="image-20230521133222377"></p></li><li><p>查询某个用户在某一天点击网站占该天所有点击行为的比例（点击行为包括浏览，加入购物车，收藏，购买）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt; select count(*) from bigdata_user where uid=10001082 and visit_date=&#x27;2014-12-12&#x27;;//查询用户10001082在2014-12-12点击网站的次数</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt; select count(*) from bigdata_user where visit_date=&#x27;2014-12-12&#x27;;//查询所有用户在这一天点击该网站的次数</span><br></pre></td></tr></table></figure><p>上面两条语句的结果相除，就得到了要要求的比例。</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521133330744.png" alt="image-20230521133330744"></p></li><li><p>给定购买商品的数量范围，查询某一天在该网站的购买该数量商品的用户id</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; select uid from bigdata_user where behavior_type=&#x27;4&#x27; and visit_date=&#x27;2014-12-12&#x27; group by uid having count(behavior_type=&#x27;4&#x27;)&gt;5;//查询某一天在该网站购买商品超过5次的用户id</span><br></pre></td></tr></table></figure></li></ol><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521133404842.png" alt="image-20230521133404842"></p><h4 id="6-用户实时查询分析"><a href="#6-用户实时查询分析" class="headerlink" title="6.用户实时查询分析"></a>6.用户实时查询分析</h4><p>某个地区的用户当天浏览网站的次数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt; create table scan(province STRING,scan INT) COMMENT &#x27;This is the search of bigdataday&#x27; ROW FORMAT DELIMITED FIELDS TERMINATED BY &#x27;\t&#x27; STORED AS TEXTFILE;//创建新的数据表进行存储</span><br><span class="line">2.hive&gt; insert overwrite table scan select province,count(behavior_type) from bigdata_user where behavior_type=&#x27;1&#x27; group by province;//导入数据</span><br><span class="line">3.hive&gt; select * from scan;//显示结果</span><br></pre></td></tr></table></figure><p>执行结果如下：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521133528636.png" alt="image-20230521133528636"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521133546198.png" alt="image-20230521133546198"></p><h3 id="三-Hive-MYSQL-HBase数据互导"><a href="#三-Hive-MYSQL-HBase数据互导" class="headerlink" title="三.Hive,MYSQL,HBase数据互导"></a>三.Hive,MYSQL,HBase数据互导</h3><h4 id="1-Hive准备工作"><a href="#1-Hive准备工作" class="headerlink" title="1.Hive准备工作"></a>1.Hive准备工作</h4><p>本教程需要安装Hive、MySQL、HBase和Sqoop。在前面的第一个步骤中，我们在安装Hive的时候就已经一起安装了MySQL（因为我们采用MySQL来存储Hive的元数据），所以，现在你只需要再安装HBase和Sqoop。<br>（1）完成HBase的安装。本教程把HBase安装在了“&#x2F;usr&#x2F;local&#x2F;hbase”目录下，采用伪分布式配置，也就是HBase会使用HDFS来存储数据。<br>（2）完成Sqoop的安装。本教程下载的是sqoop-1.4.6.bin__hadoop-2.0.4-alpha.tar.gz，安装目录是“&#x2F;usr&#x2F;local&#x2F;sqoop”。虽然这个sqoop是为hadoop2.0.4版本开发的，本教程Hadoop版本是2.7.1，但是，依然可以顺利使用。</p><h4 id="2-Hive预操作"><a href="#2-Hive预操作" class="headerlink" title="2.Hive预操作"></a>2.Hive预操作</h4><p>请登录Linux系统（本教程统一采用hadoop用户名登录系统），然后，打开一个终端（可以按快捷键Ctrl+Alt+T）。<br>本教程中，Hadoop的安装目录是“&#x2F;usr&#x2F;local&#x2F;hadoop”，Hive的安装目录是“&#x2F;usr&#x2F;local&#x2F;hive”。<br>因为需要借助于MySQL保存Hive的元数据，所以，请首先启动MySQL数据库，请在终端中输入下面命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysql start  //可以在Linux的任何目录下执行该命令</span><br></pre></td></tr></table></figure><p>由于Hive是基于Hadoop的数据仓库，使用HiveQL语言撰写的查询语句，最终都会被Hive自动解析成MapReduce任务由Hadoop去具体执行，因此，需要启动Hadoop，然后再启动Hive。</p><p>请执行下面命令启动Hadoop（如果你已经启动了Hadoop就不用再次启动了）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hadoop</span><br><span class="line">2../sbin/start-all.sh</span><br><span class="line">3.jps          #查看一下进程</span><br></pre></td></tr></table></figure><p>如果出现下面这些进程，说明Hadoop启动成功了：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132143873.png" alt="image-20230521132143873"></p><p>下面，继续执行下面命令启动进入Hive：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hive</span><br><span class="line">2../bin/hive   //启动Hive</span><br></pre></td></tr></table></figure><p>通过上述过程，我们就完成了MySQL、Hadoop和Hive三者的启动。<br>启动成功以后，就进入了“hive&gt;”命令提示符状态，可以输入类似SQL语句的HiveQL语句。</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132230389.png" alt="image-20230521132230389"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521132258269.png" alt="image-20230521132258269"></p><p>然后，在“hive&gt;”命令提示符状态下执行下面命令：</p><ol><li><p>创建临时表user_action</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; create table dblab.user_action(id STRING,uid STRING, item_id STRING, behavior_type STRING, item_category STRING, visit_date DATE, province STRING) COMMENT &#x27;Welcome to XMU dblab! &#x27; ROW FORMAT DELIMITED FIELDS TERMINATED BY &#x27;\t&#x27; STORED AS TEXTFILE;</span><br></pre></td></tr></table></figure><p>这个命令执行完以后，Hive会自动在HDFS文件系统中创建对应的数据文件“&#x2F;user&#x2F;hive&#x2F;warehouse&#x2F;dblab.db&#x2F;user_action”。<br>我们可以新建一个终端，执行命令查看一下，确认这个数据文件在HDFS中确实被创建了，请在新建的终端中执行下面命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hadoop</span><br><span class="line">2../bin/hdfs dfs -ls /user/hive/warehouse/dblab.db/user_action</span><br></pre></td></tr></table></figure><p>可以看到如下结果：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521141255528.png" alt="image-20230521141255528"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521143911691.png" alt="image-20230521143911691"></p><p>这说明，这个数据文件在HDFS中确实被创建了。注意，这个HDFS中的数据文件，在我们后面的“使用HBase Java API把数据从本地导入到HBase中”操作中会使用到。</p><ol start="2"><li><p>将bigdata_user表中的数据插入到user_action(执行时间：10秒左右)<br>在第二个步骤中，我们已经在Hive中的dblab数据库中创建了一个外部表bigdata_user。下面把dblab.bigdata_user数据插入到dblab.user_action表中，命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt; INSERT OVERWRITE TABLE dblab.user_action select * from dblab.bigdata_user;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521144334234.png" alt="image-20230521144334234"></p><p>请执行下面命令查询上面的插入命令是否成功执行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.hive&gt;select * from user_action limit 10;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521145123253.png" alt="image-20230521145123253"></p></li></ol></li></ol><h4 id="3-使用Sqoop将数据从Hive导入MYSQL"><a href="#3-使用Sqoop将数据从Hive导入MYSQL" class="headerlink" title="3.使用Sqoop将数据从Hive导入MYSQL"></a>3.使用Sqoop将数据从Hive导入MYSQL</h4><ol><li><p>启动Hadoop集群、MySQL服务<br>前面我们已经启动了Hadoop集群和MySQL服务。这里请确认已经按照前面操作启动成功。</p></li><li><p>将前面生成的临时表数据从Hive导入到 MySQL 中，包含如下四个步骤。<br>(1)登录 MySQL<br>请在Linux系统中新建一个终端，执行下面命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql –u root –p </span><br></pre></td></tr></table></figure><p>为了简化操作，本教程直接使用root用户登录MySQL数据库，但是，在实际应用中，建议在MySQL中再另外创建一个用户。<br>执行上面命令以后，就进入了“mysql&gt;”命令提示符状态。<br>(2)创建数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases; #显示所有数据库</span><br><span class="line">mysql&gt; create database dblab; #创建dblab数据库</span><br><span class="line">mysql&gt; use dblab; #使用数据库</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521161044837.png" alt="image-20230521161044837"></p><p>注意：请使用下面命令查看数据库的编码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;show variables like &quot;char%&quot;;</span><br></pre></td></tr></table></figure><p>会显示类似下面的结果：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230521161104860.png" alt="image-20230521161104860"></p><p>(3)创建表<br>下面在MySQL的数据库dblab中创建一个新表user_action，并设置其编码为utf-8：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; CREATE TABLE `dblab`.`user_action` (`id` varchar(50),`uid` varchar(50),`item_id` varchar(50),`behavior_type` varchar(10),`item_category` varchar(50), `visit_date` DATE,`province` varchar(20)) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br></pre></td></tr></table></figure></li></ol><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522124332073.png" alt="image-20230522124332073">   </p><p>创建成功后，输入下面命令退出MySQL：</p>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; exit;</span><br></pre></td></tr></table></figure><p>   (4)导入数据(执行时间：20秒左右)<br>   注意，刚才已经退出MySQL，回到了Shell命令提示符状态。下面就可以执行数据导入操作，</p>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. cd /usr/local/sqoop</span><br><span class="line">2. ./bin/sqoop export --connect jdbc:mysql://localhost:3306/dblab --username root --password hadoop --table user_action --export-dir &#x27;/user/hive/warehouse/dblab.db/user_action&#x27; --fields-terminated-by &#x27;\t&#x27;; #导入命令</span><br></pre></td></tr></table></figure><p> <img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522124620428.png" alt="image-20230522124620428"></p><ol start="3"><li><p>查看MySQL中user_action表数据</p><p>下面需要再次启动MySQL，进入“mysql&gt;”命令提示符状态：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql –u root –p </span><br></pre></td></tr></table></figure><p>然后执行下面命令查询user_action表中的数据：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.mysql&gt; use dblab;</span><br><span class="line">2.mysql&gt; select * from user_action limit 10;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522124844454.png" alt="image-20230522124844454"></p><p>从Hive导入数据到MySQL中，成功！</p></li></ol><h4 id="4-使用Sqoop将数据从MySQL导入HBase"><a href="#4-使用Sqoop将数据从MySQL导入HBase" class="headerlink" title="4.使用Sqoop将数据从MySQL导入HBase"></a>4.使用Sqoop将数据从MySQL导入HBase</h4><ol><li>启动Hadoop集群、MySQL服务、HBase服务<br>之前我们已经启动了Hadoop集群、MySQL服务，这里请确认已经按照前面操作启动成功。这里我们再启动HBase服务。本教程中，HBase的安装目录是“&#x2F;usr&#x2F;local&#x2F;hbase”，而且本教程中，HBase配置为使用HDFS存储数据。<br>请新建一个终端，执行下面命令：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hbase</span><br><span class="line">2../bin/start-hbase.sh</span><br></pre></td></tr></table></figure><ol start="2"><li>启动HBase shell</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hbase</span><br><span class="line">2../bin/hbase shell</span><br></pre></td></tr></table></figure><p>启动成功后，就进入了“hbase&gt;”命令提示符状态。</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522125118975.png" alt="image-20230522125106245"></p><ol start="3"><li>创建表user_action</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.hbase&gt; create &#x27;user_action&#x27;, &#123; NAME =&gt; &#x27;f1&#x27;, VERSIONS =&gt; 5&#125;</span><br></pre></td></tr></table></figure><p>上面命令在HBase中创建了一个user_action表，这个表中有一个列族f1（你愿意把列族名称取为其他名称也可以，比如列族名称为userinfo），历史版本保留数量为5。</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522125249459.png" alt="image-20230522125249459"></p><ol start="4"><li>导入数据(执行时间：30秒左右)<br>下面新建一个终端，执行下面命令导入数据：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/sqoop</span><br><span class="line">2../bin/sqoop  import  --connect jdbc:mysql://localhost:3306/dblab --username root --password root --table user_action --hbase-table user_action --column-family f1 --hbase-row-key id --hbase-create-table -m 1     #-m 1：使用单个Mapper任务运行导入操作</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522125434747.png" alt="image-20230522125434747"></p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522125410487.png" alt="image-20230522125410487"></p><ol start="5"><li>查看HBase中user_action表数据</li></ol><p>现在，再次切换到HBase Shell运行的那个终端窗口，在“hbase&gt;”命令提示符下，执行下面命令查询刚才导入的数据：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.habse&gt; scan &#x27;user_action&#x27;,&#123;LIMIT=&gt;10&#125;  #只查询前面10行</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522125532825.png" alt="image-20230522125532825"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522125543413.png" alt="image-20230522125543413"></p><h4 id="5-使用HBase-Java-API把数据从本地导入到HBase中"><a href="#5-使用HBase-Java-API把数据从本地导入到HBase中" class="headerlink" title="5.使用HBase Java API把数据从本地导入到HBase中"></a>5.使用HBase Java API把数据从本地导入到HBase中</h4><ol><li><p>启动Hadoop集群、HBase服务<br>请首先确保启动了Hadoop集群和HBase服务。如果还没有启动，请在Linux系统中打开一个终端。<br>首先，按照下面命令启动Hadoop：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hadoop</span><br><span class="line">2../sbin/start-all.sh</span><br></pre></td></tr></table></figure><p>然后，按照下面命令启动HBase：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/hbase</span><br><span class="line">2../bin/start-hbase.sh</span><br></pre></td></tr></table></figure></li><li><p>数据准备<br>实际上，我们也可以编写Java程序，直接从HDFS中读取数据加载到HBase。但是，这里我们展示的是如何用JAVA程序把本地数据导入到HBase中。你只要把程序做简单修改，就可以实现从HDFS中读取数据加载到HBase。<br>首先，请将之前的user_action数据从HDFS复制到Linux系统的本地文件系统中，命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.cd /usr/local/bigdatacase/dataset</span><br><span class="line">2./usr/local/hadoop/bin/hdfs dfs -get /user/hive/warehouse/dblab.db/user_action .</span><br><span class="line">3. #将HDFS上的user_action数据复制到本地当前目录，注意&#x27;.&#x27;表示当前目录</span><br><span class="line">4.cat ./user_action/* | head -10   #查看前10行数据</span><br><span class="line">5.cat ./user_action/00000* &gt; user_action.output #将00000*文件复制一份重命名为user_action.output，*表示通配符</span><br><span class="line">6.head user_action.output  #查看user_action.output前10行</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522130559410.png" alt="image-20230522130559410"></p></li><li><p>编写数据导入程序<br>我们这里采用Eclipse编写Java程序实现HBase数据导入功能。关于如何使用Eclipse编写Java程序调用HBase API，</p><p>请使用Eclipse编写ImportHBase程序（Java代码在本文最后的附录部分），并打包成可执行jar包，命名为ImportHBase.jar。<br>然后，请在“&#x2F;usr&#x2F;local&#x2F;bigdatacase&#x2F;”目录下面新建一个hbase子目录，用来存放ImportHBase.jar。</p></li><li><p>数据导入<br>现在开始执行数据导入操作。<br>使用Java程序将数据从本地导入HBase中，导入前，请先清空user_action表。<br>请在之前已经打开的HBase Shell窗口中（也就是在“hbase&gt;”命令提示符下）执行下面操作：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hbase&gt; truncate &#x27;user_action&#x27;</span><br><span class="line">hbase&gt; scan &#x27;user_action&#x27;,&#123;LIMIT=&gt;10&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522130739191.png" alt="image-20230522130739191"></p><p>下面就可以运行hadoop jar命令运行程序：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1./usr/local/hadoop/bin/hadoop jar /usr/local/bigdatacase/hbase/ImportHBase.jar HBaseImportTest /usr/local/bigdatacase/dataset/user_action.output</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522131228298.png" alt="image-20230522131228298"></p></li><li><p>查看HBase中user_action表数据<br>下面，再次切换到HBase Shell窗口，执行下面命令查询数据：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">habse&gt; scan &#x27;user_action&#x27;,&#123;LIMIT=&gt;10&#125;  #只查询前面10行</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522131301266.png" alt="image-20230522131301266"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522131320818.png" alt="image-20230522131320818"></p><p>实验顺利结束！</p></li></ol><h3 id="四-利用R进行数据可视化分析"><a href="#四-利用R进行数据可视化分析" class="headerlink" title="四.利用R进行数据可视化分析"></a>四.利用R进行数据可视化分析</h3><h4 id="1-环境"><a href="#1-环境" class="headerlink" title="1.环境"></a>1.环境</h4><p>R语言包的安装方式如下：<br>Ubuntu自带的APT包管理器中的R安装包总是落后于标准版，因此需要添加新的镜像源把APT包管理中的R安装包更新到最新版。<br>请登录Linux系统，打开一个终端，然后执行下面命令（并注意保持网络连通，可以访问互联网，因为安装过程要下载各种安装文件）：<br>利用vim打开&#x2F;etc&#x2F;apt&#x2F;sources.list文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/apt/sources.list</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522133033912.png" alt="image-20230522133033912"></p><p>在文件的最后一行添加厦门大学的镜像源：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/CRAN/bin/linux/ubuntu bionic-cran40/</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230523200613895.png" alt="image-20230523200613895"></p><p>退出vim，更新软件源列表</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt upgrade</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如果更新软件源出现由于没有公钥，无法验证下列签名的错误，请执行如下命令</span><br><span class="line">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522134907922.png" alt="image-20230522134907922"></p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230523200807914.png" alt="image-20230523200807914"></p><h4 id="2-安装R语言"><a href="#2-安装R语言" class="headerlink" title="2.安装R语言"></a>2.安装R语言</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install r-base</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230523201233068.png" alt="image-20230523201233068"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230523201617463.png" alt="image-20230523201617463"></p><p>会提示“您希望继续执行吗？[Y&#x2F;n]”，可以直接键盘输入“Y”，就可以顺利安装结束。<br>安装结束后，可以执行下面命令启动R：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">R</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230523201705646.png" alt="image-20230523201705646"></p><p>启动后，会显示如下信息，并进入“&gt;”命令提示符状态：</p><p>“&gt;”就是R的命令提示符，你可以在后面输入R语言命令。<br>可以执行下面命令退出R：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span>q<span class="punctuation">(</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522141408928.png" alt="image-20230522141408928"></p><h4 id="3-可视化分析MySQL中的数据"><a href="#3-可视化分析MySQL中的数据" class="headerlink" title="3.可视化分析MySQL中的数据"></a>3.可视化分析MySQL中的数据</h4><h5 id="1-安装依赖库"><a href="#1-安装依赖库" class="headerlink" title="1.安装依赖库"></a>1.安装依赖库</h5><p>修改R的源</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">options()$repos  ## 查看使用install.packages安装时的默认镜像</span><br><span class="line">options()$BioC_mirror ##查看使用bioconductor的默认镜像</span><br><span class="line">options(BioC_mirror=&quot;https://mirrors.ustc.edu.cn/bioc/&quot;) ##指定镜像，这个是中国科技大学镜像</span><br><span class="line">options(&quot;repos&quot; = c(CRAN=&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;)) ##指定install.packages安装镜像，这个是清华镜像</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230524103935911.png" alt="image-20230524103935911"></p><p>为了完成可视化功能，我们需要为R安装一些依赖库，包括：RMySQL、ggplot2、devtools和recharts。<br>RMySQL是一个提供了访问MySQL数据库的R语言接口程序的R语言依赖库。<br>ggplot2和recharts则是R语言中提供绘图可视化功能的依赖库。<br>请启动R进入R命令提示符状态,执行如下命令安装RMySQL：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span><span class="operator">&gt;</span> install.packages<span class="punctuation">(</span><span class="string">&#x27;RMySQL&#x27;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230523201900882.png" alt="image-20230522141605217"></p><p>上面命令执行后， 屏幕会提示”Would you like to user a personal library instead?(y&#x2F;n)”等问题，只要遇到提问，都在键盘输入y后回车即可。然后，屏幕会显示“—在此连线阶段时请选用CRAN的镜子—”，并会弹出一个白色背景的竖条形窗口，窗口标题是“HTTPS CRAN mirros”，标题下面列出了很多国家的镜像列表，我们可以选择位于China的镜像，比如，选择“China(Beijing)[https]”，然后点击“ok”按钮，就开始安装了。安装过程需要几分钟（当然，也和当前网络速度有关系）。<br>由于不同用户的Ubuntu开发环境不一样，安装有很大可能因为缺少组件导致失败，如果出现如下错误信息：</p><p>只要根据错误给出的错误信息，进行操作即可。q()退出R命令提示符状态，回到Shell状态,笔者的系统是Ubuntu 16.04,那么，根据上面的英文错误信息，就需要在Shell命令提示符状态下执行下面命令安装libmariadb-client-lgpl-dev：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.sudo apt-get install libmariadb-client-lgpl-dev</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230523204134560.png" alt="image-20230523204134560"></p><p>然后，再次输入下面命令进入R命令提示符状态：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">R</span><br></pre></td></tr></table></figure><p>启动后，并进入“&gt;”命令提示符状态。然后，执行如下命令安装绘图包ggplot2，如果还出现缺少组件的错误，请按照上面的解决方案解决！</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.&gt; install.packages(&#x27;ggplot2&#x27;)</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522142215489.png" alt="image-20230522142215489"></p><p>然后，屏幕会显示“—在此连线阶段时请选用CRAN的镜子—”，并会弹出一个白色背景的竖条形窗口，窗口标题是“HTTPS CRAN mirros”，标题下面列出了很多国家的镜像列表，我们可以选择位于China的镜像，比如，选择“China(Beijing)[https]”，然后点击“ok”按钮，就开始安装了。这个命令运行后，大概需要安装10分钟时间（当然，也和当前网络速度有关系）。<br>下面继续运行下面命令安装devtools：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.&gt; install.packages(&#x27;devtools&#x27;)</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522142345991.png" alt="image-20230522142345991"></p><p>如果在上面安装devtools的过程中，又出现了错误，处理方法很简单，还是按照上面介绍的方法，根据屏幕上给出的英文错误信息，缺少什么软件，就用sudo apt-get install命令安装该软件就可以了。笔者在Ubuntu16.04上执行devtools安装时，出现了三次错误，笔者根据每次错误的英文提示信息，安装了三个软件libssl-dev、libssh2-1-dev、libcurl4-openssl-dev，安装命令如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.sudo apt-get install libssl-dev</span><br><span class="line">2.sudo apt-get install libssh2-1-dev</span><br><span class="line">3.sudo apt-get install libcurl4-openssl-dev</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522142709011.png" alt="image-20230522142709011"></p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522142728262.png" alt="image-20230522142728262"></p><p>读者在安装过程中，可能会出现不同的错误，按照同样的处理方法可以顺利解决。</p><p>下面在R命令提示符下再执行如下命令安装taiyun&#x2F;recharts：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.&gt; devtools::install_github(&#x27;taiyun/recharts&#x27;)</span><br></pre></td></tr></table></figure><h5 id="2-分析"><a href="#2-分析" class="headerlink" title="2.分析"></a>2.分析</h5><p>以下分析使用的函数方法，都可以使用如下命令查询函数的相关文档。例如：查询sort()函数如何使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.?sort</span><br></pre></td></tr></table></figure><p>这时，就会进入冒号“:”提示符状态（也就是帮助文档状态），在冒号后面输入q即可退出帮助文档状态，返回到R提示符状态！</p><ol><li><p>连接MySQL,并获取数据</p><p>请在Linux系统中新建另外一个终端，然后执行下面命令启动MySQL数据库：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.service mysql start</span><br></pre></td></tr></table></figure><p>下面，让我们查看一下MySQL数据库中的数据，请执行下面命令进入MySQL命令提示符状态：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.mysql -u root -p</span><br></pre></td></tr></table></figure><p>下面就可以输入一些SQL语句查询数据：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.mysql&gt; use dblab;</span><br><span class="line">2.mysql&gt; select * from user_action limit 10;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522200233331.png" alt="image-20230522200233331"></p><p>然后切换到刚才已经打开的R命令提示符终端窗口：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>library<span class="punctuation">(</span>RMySQL<span class="punctuation">)</span></span><br><span class="line"><span class="number">2.</span>conn <span class="operator">&lt;-</span> dbConnect<span class="punctuation">(</span>MySQL<span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">,</span>dbname<span class="operator">=</span><span class="string">&#x27;dblab&#x27;</span><span class="punctuation">,</span>username<span class="operator">=</span><span class="string">&#x27;root&#x27;</span><span class="punctuation">,</span>password<span class="operator">=</span><span class="string">&#x27;hadoop&#x27;</span><span class="punctuation">,</span>host<span class="operator">=</span><span class="string">&quot;127.0.0.1&quot;</span><span class="punctuation">,</span>port<span class="operator">=</span><span class="number">3306</span><span class="punctuation">)</span></span><br><span class="line"><span class="number">3.</span>user_action <span class="operator">&lt;-</span> dbGetQuery<span class="punctuation">(</span>conn<span class="punctuation">,</span><span class="string">&#x27;select * from user_action&#x27;</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522200239746.png" alt="image-20230522200239746"></p><ol><li><p>分析消费者对商品的行为</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.</span>summary<span class="punctuation">(</span>user_action<span class="operator">$</span>behavior_type<span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522200248577.png" alt="image-20230522200248577"></p><p>summary() 函数可以得到样本数据类型和长度,如果样本是数值型,我们还能得到样本数据的最小值、最大值、四分位数以及均值信息。（包括计数、最小值、第一四分位数、中位数、第三四分位数和最大值）<br>得到结果：</p><p>可以看出原来的MySQL数据中,消费者行为变量的类型是字符型。这样不好做比较，需要把消费者行为变量转换为数值型变量</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>summary<span class="punctuation">(</span><span class="built_in">as.numeric</span><span class="punctuation">(</span>user_action<span class="operator">$</span>behavior_type<span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p>得到结果：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522200255218.png" alt="image-20230522200255218"></p><p>接下来用柱状图表示：</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.</span>library<span class="punctuation">(</span>ggplot2<span class="punctuation">)</span></span><br><span class="line"><span class="number">3.</span>ggplot<span class="punctuation">(</span>user_action<span class="punctuation">,</span>aes<span class="punctuation">(</span><span class="built_in">as.numeric</span><span class="punctuation">(</span>behavior_type<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">+</span>geom_histogram<span class="punctuation">(</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p>在使用ggplot2库的时候，需要使用library导入库。ggplot()绘制时，创建绘图对象，即第一个图层，包含两个参数(数据与变量名称映射).变量名称需要被包含aes函数里面。ggplot2的图层与图层之间用“+”进行连接。ggplot2包中的geom_histogram()可以很方便的实现直方图的绘制，<code>aes()</code>函数指定了变量的映射方式将数值型<code>behavior_type</code>列映射到x轴上。</p><p>分析结果如下图:</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230628190044620.png" alt="image-20230628190044620"></p><p>从上图可以得到:大部分消费者行为仅仅只是浏览。只有很少部分的消费者会购买商品。</p></li><li><p>分析哪一类商品被购买总量前十的商品和被购买总量</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.</span>temp <span class="operator">&lt;-</span> subset<span class="punctuation">(</span>user_action<span class="punctuation">,</span><span class="built_in">as.numeric</span><span class="punctuation">(</span>behavior_type<span class="punctuation">)</span><span class="operator">==</span><span class="number">4</span><span class="punctuation">)</span> <span class="comment"># 获取子数据集</span></span><br><span class="line"><span class="number">1.</span>count <span class="operator">&lt;-</span> sort<span class="punctuation">(</span>table<span class="punctuation">(</span>temp<span class="operator">$</span>item_category<span class="punctuation">)</span><span class="punctuation">,</span>decreasing <span class="operator">=</span> <span class="built_in">T</span><span class="punctuation">)</span> <span class="comment">#排序</span></span><br><span class="line"><span class="number">2.</span>print<span class="punctuation">(</span>count<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">10</span><span class="punctuation">]</span><span class="punctuation">)</span> <span class="comment"># 获取第1到10个排序结果</span></span><br></pre></td></tr></table></figure><p>subset()函数，从某一个数据框中选择出符合某条件的数据或是相关的列.table()对应的就是统计学中的列联表，是一种记录频数的方法.sort()进行排序，返回排序后的数值向量。</p><p>在<code>user_action</code>数据框中创建了一个子集<code>temp</code>，该子集包含在<code>behavior_type</code>列中数值等于4的所有行。</p><p>代码使用了<code>table()</code>函数对不同<code>item_category</code>的出现次数进行计数，然后使用<code>sort()</code>函数将计数结果按照频次从大到小进行排序。在<code>sort()</code>函数中，<code>decreasing=T</code>参数表示按照逆序排列</p><p>得到结果：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522200312006.png" alt="image-20230522200312006"></p><p>结果第一行表示商品分类,该类下被消费的数次。<br>接下来用散点图表示:</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3.</span>result <span class="operator">&lt;-</span> as.data.frame<span class="punctuation">(</span>count<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">10</span><span class="punctuation">]</span><span class="punctuation">)</span> <span class="comment">#将count矩阵结果转换成数据框</span></span><br><span class="line"><span class="number">4.</span>ggplot<span class="punctuation">(</span>result<span class="punctuation">,</span>aes<span class="punctuation">(</span>Var1<span class="punctuation">,</span>Freq<span class="punctuation">,</span>col<span class="operator">=</span>factor<span class="punctuation">(</span>Var1<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">+</span>geom_point<span class="punctuation">(</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p>通过 as.data.frame() 把矩阵等转换成为数据框.<br>分析结果如下图:</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522200318462.png" alt="image-20230522200318462"></p></li><li><p>分析每年的哪个月份购买商品的量最多</p><p>从MySQL直接获取的数据中visit_date变量都是2014年份,并没有划分出具体的月份,那么可以在数据集增加一列月份数据。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.</span>month <span class="operator">&lt;-</span> substr<span class="punctuation">(</span>user_action<span class="operator">$</span>visit_date<span class="punctuation">,</span><span class="number">6</span><span class="punctuation">,</span><span class="number">7</span><span class="punctuation">)</span> <span class="comment"># visit_date变量中截取月份</span></span><br><span class="line"><span class="number">1.</span>user_action <span class="operator">&lt;-</span> cbind<span class="punctuation">(</span>user_action<span class="punctuation">,</span>month<span class="punctuation">)</span> <span class="comment"># user_action增加一列月份数据</span></span><br></pre></td></tr></table></figure><p>接下来用柱状图分别表示消费者购买量</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.</span>ggplot<span class="punctuation">(</span>user_action<span class="punctuation">,</span>aes<span class="punctuation">(</span><span class="built_in">as.numeric</span><span class="punctuation">(</span>behavior_type<span class="punctuation">)</span><span class="punctuation">,</span>col<span class="operator">=</span>factor<span class="punctuation">(</span>month<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">+</span>geom_histogram<span class="punctuation">(</span><span class="punctuation">)</span><span class="operator">+</span>facet_grid<span class="punctuation">(</span>.<span class="operator">~</span>month<span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p>aes()函数中的col属性可以用来设置颜色。factor()函数则是把数值变量转换成分类变量,作用是以不同的颜色表示。如果不使用factor()函数，颜色将以同一种颜色渐变的颜色表现。 facet_grid(.~month)表示柱状图按照不同月份进行分区。<br>由于MySQL获取的数据中只有11月份和12月份的数据,所以上图只有显示两个表格。<br>分析结果如下图：</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230628190435063.png" alt="image-20230628190435063"><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230628190702238.png" alt="image-20230628190702238"></p></li><li><p>分析国内哪个省份的消费者最有购买欲望</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.</span>library<span class="punctuation">(</span>recharts<span class="punctuation">)</span></span><br><span class="line"><span class="number">1.</span>rel <span class="operator">&lt;-</span> as.data.frame<span class="punctuation">(</span>table<span class="punctuation">(</span>temp<span class="operator">$</span>province<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="number">2.</span>provinces <span class="operator">&lt;-</span> rel<span class="operator">$</span>Var1</span><br><span class="line"><span class="number">3.</span>x <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="punctuation">)</span></span><br><span class="line"><span class="number">4.</span><span class="keyword">for</span><span class="punctuation">(</span>n <span class="keyword">in</span> provinces<span class="punctuation">)</span><span class="punctuation">&#123;</span></span><br><span class="line"><span class="number">5.</span>x<span class="punctuation">[</span><span class="built_in">length</span><span class="punctuation">(</span>x<span class="punctuation">)</span><span class="operator">+</span><span class="number">1</span><span class="punctuation">]</span> <span class="operator">=</span> nrow<span class="punctuation">(</span>subset<span class="punctuation">(</span>temp<span class="punctuation">,</span><span class="punctuation">(</span>province<span class="operator">==</span>n<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="number">6.</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="number">7.</span>mapData <span class="operator">&lt;-</span> data.frame<span class="punctuation">(</span>province<span class="operator">=</span>rel<span class="operator">$</span>Var1<span class="punctuation">,</span></span><br><span class="line"><span class="number">8.</span>count<span class="operator">=</span>x<span class="punctuation">,</span> stringsAsFactors<span class="operator">=</span><span class="built_in">F</span><span class="punctuation">)</span> <span class="comment"># 设置地图信息</span></span><br><span class="line"><span class="number">9.</span>eMap<span class="punctuation">(</span>mapData<span class="punctuation">,</span> namevar<span class="operator">=</span><span class="operator">~</span>province<span class="punctuation">,</span> datavar <span class="operator">=</span> <span class="operator">~</span>count<span class="punctuation">)</span> <span class="comment">#画出中国地图</span></span><br></pre></td></tr></table></figure><p>nrow()用来计算数据集的行数。<br>分析结果如下图:</p><p><img src="/2023/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/10/22/%E7%BD%91%E7%AB%99%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%88%86%E6%9E%90%EF%BC%88%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AF%BE%E8%AE%BE%EF%BC%89/image-20230522200334675.png" alt="image-20230522200334675"></p></li></ol></li></ol><p>大数据案例网站用户购物行为分析所有实验步骤到此结束！</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>js基本要点</title>
      <link href="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/"/>
      <url>/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<h3 id="JS基本内容"><a href="#JS基本内容" class="headerlink" title="JS基本内容"></a>JS基本内容</h3><h5 id="输出语句"><a href="#输出语句" class="headerlink" title="输出语句"></a>输出语句</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alert(&quot;控制浏览器弹出一个警告框&quot;);</span><br><span class="line">document.write(&quot;让计算机在页面中输出一个内容&quot;);</span><br><span class="line">console.log(&quot;向控制台输出一个内容&quot;);</span><br></pre></td></tr></table></figure><h5 id="js编写位置"><a href="#js编写位置" class="headerlink" title="js编写位置"></a>js编写位置</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230315210000493.png"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230315210247186.png" alt="image-20230315210247186"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意：script标签一旦用于引入外部文件了，就不能再编写内部代码了，即使编写了浏览器也会忽略，如果需要则可以在创建一个新的script标签用于编写内部代码</span><br></pre></td></tr></table></figure><h5 id="js基本语法"><a href="#js基本语法" class="headerlink" title="js基本语法"></a>js基本语法</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230315211440902.png" alt="js基本语法"></p><h5 id="字面量和变量"><a href="#字面量和变量" class="headerlink" title="字面量和变量"></a>字面量和变量</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230316132444346.png" alt="image-20230316132444346"><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230316132518759.png" alt="image-20230316132518759"></p><h5 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230316133347658.png" alt="image-20230316133347658"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230316132955184.png" alt="image-20230316132955184"></p><h5 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230316133811160.png" alt="image-20230316133811160"></p><ol><li>字符串</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/*String字符串</span><br><span class="line">1. 在JS中字符串需要使用引号引起来</span><br><span class="line">2. 使用双引号或者单引号都可以，但不要混着用</span><br><span class="line">3. 引号不能嵌套，双引号不能放双引号，单引号不能放单引号</span><br><span class="line">4. 在字符串中我们可以使用\进行转义，当表示一些特殊字符时可以用\进行转义</span><br><span class="line">\&#x27; 表示 &#x27;</span><br><span class="line">\&quot; 表示 &quot;</span><br><span class="line">\n 表示 换行</span><br><span class="line">\t 表示 制表符</span><br><span class="line">\\ 表示 \</span><br><span class="line">*/</span><br><span class="line">var str = &quot;hello&quot;;</span><br><span class="line">console.log(str);</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230316135104984.png" alt="image-20230316135104984"></p><ol start="2"><li>Number 数值</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">1. 在JS中所有的数值都是Number类型</span><br><span class="line">2. 包括整数和浮点数（小数）</span><br><span class="line">3. JS中可以表示的数字的最大值 Number.MAX_VALUE，最小值 Number.MIN_VALUE</span><br><span class="line">4. 如果使用Number表示的数字超过了最大值，就会返回一个Infinity表示正无穷</span><br><span class="line">5. NaN表示Not a number</span><br><span class="line">6. 使用typeof变量检查NaN或Infinity输出number</span><br><span class="line">*/</span><br><span class="line">//数字123</span><br><span class="line">var a = 123;</span><br><span class="line">var c = Infinity; </span><br><span class="line">//字符串</span><br><span class="line">var b = &quot;123&quot;</span><br><span class="line">//输出NaN</span><br><span class="line">var d=&quot;asd&quot;*&quot;afd&quot;</span><br><span class="line">/*</span><br><span class="line">可以使用一个运算符typeof来检查一个变量的类型</span><br><span class="line">语法：typeof变量检查字符串时，会返回string；检查数值时会返回number</span><br><span class="line">*/</span><br><span class="line">console.log(typeof b);</span><br><span class="line">console.log(Number.MAX_VALUE);</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230316135902867.png" alt="image-20230316135902867"><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230317195258468.png" alt="image-20230317195258468"></p><ol start="3"><li>布尔值</li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230317195836581.png" alt="image-20230317195836581"></p><ol start="4"><li>Null和Undefined</li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230317200226051.png" alt="image-20230317200226051"></p><h5 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">指的是将一个数据类型强制转换成为其他的数据类型</span><br><span class="line">类型转换主要是指将其他的数据类型转换成string、number、boolean</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">将其他的数据类型转换成string</span><br><span class="line">方式一：</span><br><span class="line">调用被转换数据类型的toString()方法</span><br><span class="line">该方法不会影响原变量，他会将转换的结果返回</span><br><span class="line">注意：null和undefined这两个值没有toString()方法，如果调用会报错</span><br><span class="line">方式二:</span><br><span class="line">调用String()函数，并将被转换的数据作为参数传递给函数</span><br><span class="line">使用String()函数做强制转换时，对于number和boolean实际上就是调用toString()方法，但对于Null和Undefined就不会调用toString()，它会将null转换成&quot;null&quot;,Undefined转换成&quot;Undefined&quot;</span><br><span class="line">*/</span><br><span class="line">var a = 123;</span><br><span class="line">//调用a的toString()方法</span><br><span class="line">a.toString();</span><br><span class="line">b=a.toString();</span><br><span class="line">console.log(typeof a);//输出number</span><br><span class="line">console.log(typeof b);//输出string</span><br><span class="line">//调用String()函数，来将a转换成字符串</span><br><span class="line">a=String(a);//输出string</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">将其他的数据类型转换成Number</span><br><span class="line">方式一：</span><br><span class="line">调用Number()函数</span><br><span class="line">字符转--&gt; 数字</span><br><span class="line">1. 如果是纯数字的字符串，则直接将其转换成数字</span><br><span class="line">2. 如果字符串有非数字的内容，则转换为NaN</span><br><span class="line">3. 如果字符串是一个空串或者是全是空格的字符，则转换成0</span><br><span class="line">布尔--&gt; 数字</span><br><span class="line">true 转换成1</span><br><span class="line">false 转换成0</span><br><span class="line">Null--&gt; 数字 0</span><br><span class="line">undefined --&gt; 数字 NaN</span><br><span class="line">方式二:</span><br><span class="line">这种方式专门用来对付字符串</span><br><span class="line">parseInt()把一个字符串转换成一个整数</span><br><span class="line">ParseFloat()把一个字符串转换成一个浮点数</span><br><span class="line">*/</span><br><span class="line">var a = &quot;123&quot;;</span><br><span class="line">//调用Number()函数来将a准换成Number类型</span><br><span class="line">a=Number();</span><br><span class="line">console.log(typeof a);//输出number</span><br><span class="line"></span><br><span class="line">//parseInt()可以将一个字符串中的有效的整数内容取出来</span><br><span class="line">var b = &quot;123px&quot;;</span><br><span class="line">//调用parseInt()函数来将b准换成Number类型</span><br><span class="line">b=parseInt();</span><br><span class="line">console.log(typeof b);//输出number</span><br><span class="line">console.log(b);//输出123</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230317204302303.png" alt="image-20230317204302303"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">将其他的数据类型转换成Boolean</span><br><span class="line">调用Boolean()函数</span><br><span class="line">数字--&gt;布尔</span><br><span class="line">除了0和NaN，其他都是true</span><br><span class="line">字符转--&gt;布尔</span><br><span class="line">除了空串，其他都是true</span><br><span class="line">null和undefined都会转换成false</span><br><span class="line">对象也会转换成true</span><br></pre></td></tr></table></figure><h5 id="其他进制的数字"><a href="#其他进制的数字" class="headerlink" title="其他进制的数字"></a>其他进制的数字</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230317205158113.png" alt="image-20230317205158113"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230317205019101.png" alt="image-20230317205019101"></p><h5 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318130452580.png" alt="image-20230318130452580"></p><ol><li>二元运算符</li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318132645368.png" alt="image-20230318132645368"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318132734145.png" alt="image-20230318132734145"></p><ol start="2"><li>一元运算符</li></ol><p>只需要一个操作数</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318133347916.png" alt="image-20230318133347916"></p><ol start="3"><li>自增自减</li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318145018369.png" alt="image-20230318145018369"></p><h5 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h5><p>1. </p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318150002270.png" alt="image-20230318150002270"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318150826253.png" alt="image-20230318150826253"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318151037560.png" alt="image-20230318151037560"></p><ol start="2"><li>非布尔值的与或运算</li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318152023654.png" alt="image-20230318152023654"></p><h5 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318152403260.png" alt="image-20230318152403260"></p><h5 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318152728968.png" alt="image-20230318152728968"><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318153641265.png" alt="image-20230318153641265"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318152946764.png" alt="image-20230318152946764"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318153441477.png" alt="image-20230318153441477"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318153532407.png" alt="image-20230318153532407"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318153600047.png" alt="image-20230318153600047"></p><h5 id="Unicode编码表"><a href="#Unicode编码表" class="headerlink" title="Unicode编码表"></a>Unicode编码表</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318154011307.png" alt="image-20230318154011307"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318154202471.png" alt="image-20230318154202471"></p><h5 id="相等运算符"><a href="#相等运算符" class="headerlink" title="相等运算符"></a>相等运算符</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318155247996.png" alt="image-20230318155247996"><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318155531087.png" alt="image-20230318155531087"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318154955865.png" alt="image-20230318154955865"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318155052459.png" alt="image-20230318155052459"></p><h5 id="条件运算符"><a href="#条件运算符" class="headerlink" title="条件运算符"></a>条件运算符</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318160412275.png" alt="image-20230318160412275"></p><p>运算符优先级</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318160946327.png" alt="image-20230318160946327"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318160919406.png" alt="image-20230318160919406"></p><h5 id="流程控制语句"><a href="#流程控制语句" class="headerlink" title="流程控制语句"></a>流程控制语句</h5><h6 id="条件判断语句"><a href="#条件判断语句" class="headerlink" title="条件判断语句"></a>条件判断语句</h6><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318162947053.png" alt="image-20230318162947053"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">条件判断语句：</span><br><span class="line">使用条件判断语句可以在执行某个语句之前进行判断，如果条件成立才会执行语句，条件不成立则语句不执行。</span><br><span class="line">if语句</span><br><span class="line">语法一：</span><br><span class="line">if(条件表达式)&#123;</span><br><span class="line">语句...</span><br><span class="line">&#125;</span><br><span class="line">if语句在执行时，会先对条件表达式进行求值判断，如果条件表达式的值为true，则执行if后的语句，如果条件表达式的值为false，则不会执行if后的语句。</span><br><span class="line">if语句只能控制紧随其后的那个语句，如果希望if语句可以控制多条语句，可以将这些语句统一放到代码块中</span><br><span class="line">if语句后的代码块不是必须的，但是在开发中尽量写上代码块，即使if后面之后一条语句。</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318164854441.png" alt="image-20230318164854441"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318164259947.png" alt="image-20230318164259947"></p><h6 id="输入函数"><a href="#输入函数" class="headerlink" title="输入函数"></a>输入函数</h6><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230318165210333.png" alt="image-20230318165210333"></p><p>prompt()函数的返回值是String类型的</p><p>所以num&#x3D;+prompt();可以将其转化为number类型的</p><h6 id="条件分支语句"><a href="#条件分支语句" class="headerlink" title="条件分支语句"></a>条件分支语句</h6><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230319115534651.png" alt="image-20230319115534651"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230319115447625.png" alt="image-20230319115447625"></p><p>下面这种方式仅存在与js中</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230319120239818.png" alt="image-20230319120239818"></p><h6 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h6><ol><li>while循环</li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230319120827998.png" alt="image-20230319120827998"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230319121959383.png" alt="image-20230319121959383"></p><ol start="2"><li>for循环</li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230319132437166.png" alt="image-20230319132437166"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*nbsp;代表一个空格</span><br></pre></td></tr></table></figure><h5 id="break和continue"><a href="#break和continue" class="headerlink" title="break和continue"></a>break和continue</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">检查一个程序的性能</span><br><span class="line">在程序开始执行之前开启计时器</span><br><span class="line">console.time(&quot;计时器的名字&quot;)可以用来开启一个计时器</span><br><span class="line">它需要一个字符串作为参数，这个字符串将会作为计时器的标识</span><br><span class="line">consoleEnd.time(&quot;计时器的名字&quot;)可以用来结束这个计时器</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Math.sqrt();开方 </span><br></pre></td></tr></table></figure><ol><li>break</li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230320202615211.png" alt="image-20230320202615211"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230320203742452.png" alt="image-20230320203742452"><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230320203753944.png" alt="image-20230320203753944"></p><ol start="2"><li><p>continue</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230320203844818.png" alt="image-20230320203844818"></p></li></ol><h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><h5 id="对象的简介"><a href="#对象的简介" class="headerlink" title="对象的简介"></a>对象的简介</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230320205649992.png" alt="image-20230320205649992"></p><h5 id="对象的基本操作"><a href="#对象的基本操作" class="headerlink" title="对象的基本操作"></a><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230320205545042.png" alt="image-20230320205545042">对象的基本操作</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//创建对象</span><br><span class="line">使用new关键字调用的函数，是构造函数constructor</span><br><span class="line">构造函数是专门用来创建对象的函数</span><br><span class="line">使用typeof检查一个对象时，会返回object</span><br><span class="line"></span><br><span class="line">var obj = new Object();</span><br><span class="line">//console.log(obj);</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">在对象中保存的值称为属性</span><br><span class="line">向对象添加属性</span><br><span class="line">语法：对象.属性名=属性值;</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">//向obj中添加一个name属性</span><br><span class="line">obj.name=&quot;孙悟空&quot;;</span><br><span class="line">//向obj中添加一个gender属性</span><br><span class="line">obj.gender=&quot;孙男&quot;;</span><br><span class="line">//向obj中添加一个age属性</span><br><span class="line">obj.age=&quot;18&quot;;</span><br><span class="line"></span><br><span class="line">console.log(obj);</span><br><span class="line"></span><br><span class="line">//读取对象中的属性</span><br><span class="line">语法：对象.属性名</span><br><span class="line">如果读取对象中没有的属性，不会报错而是会返回undefined</span><br><span class="line">console.log(obj.name);</span><br><span class="line"></span><br><span class="line">//修改对象的属性</span><br><span class="line">语法：对象.属性=新值;</span><br><span class="line">obj.name=&quot;tom&quot;;</span><br><span class="line"></span><br><span class="line">//删除对象的属性</span><br><span class="line">语法：delete obj.name;</span><br></pre></td></tr></table></figure><h5 id="属性名和属性值"><a href="#属性名和属性值" class="headerlink" title="属性名和属性值"></a>属性名和属性值</h5><ol><li>属性名</li></ol><p><strong><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230320211822197.png" alt="image-20230320211822197"></strong></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230320211932730.png" alt="image-20230320211932730"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230320212032521.png" alt="image-20230320212032521"></p><ol start="2"><li>属性值</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">属性值</span><br><span class="line">JS对象的属性值，可以是任意的数据类型</span><br><span class="line">甚至也可以是一个对象</span><br><span class="line">obj.test=true ;</span><br><span class="line">obj.test= null;</span><br><span class="line">obj.test undefined;</span><br><span class="line">console.log(obj.test);</span><br><span class="line">//创建一个对象</span><br><span class="line">var obj2=new Object();</span><br><span class="line">obj2.name=&quot;猪八戒&quot;;</span><br><span class="line"></span><br><span class="line">//将obj设置成obj2的属性</span><br><span class="line">obj.test=obj2;</span><br><span class="line">console.log(obj.test.name)//输出猪八戒</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230320212859815.png" alt="image-20230320212859815"></p><h5 id="基本和引用数据类型"><a href="#基本和引用数据类型" class="headerlink" title="基本和引用数据类型"></a>基本和引用数据类型</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230321203736938.png" alt="image-20230321203736938"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230321211306695.png" alt="image-20230321211306695"></p><h5 id="对象字面量"><a href="#对象字面量" class="headerlink" title="对象字面量"></a>对象字面量</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230321211450264.png" alt="image-20230321211450264"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230321212049890.png" alt="image-20230321212049890"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230321211957614.png" alt="image-20230321211957614"></p><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h5 id="函数的简介"><a href="#函数的简介" class="headerlink" title="函数的简介"></a>函数的简介</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">函数</span><br><span class="line">函数也是一个对象</span><br><span class="line">函数中可以封装一些功能（代码），在需要时可以执行这些功能（代码）</span><br><span class="line">函数中可以保存一些代码在需要的时候调用</span><br><span class="line">使用typeof检查一个函数对象的时候，会返回function</span><br><span class="line">*/</span><br></pre></td></tr></table></figure><p>1. </p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230321213348354.png" alt="image-20230321213348354"></p><p>2. </p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322102107492.png" alt="image-20230322102107492"></p><p>3. </p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322102040955.png" alt="image-20230322102040955"></p><h5 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322103427286.png" alt="image-20230322103427286"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322103442452.png" alt="image-20230322103442452"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322103231688.png" alt="image-20230322103231688"></p><h5 id="函数的返回值"><a href="#函数的返回值" class="headerlink" title="函数的返回值"></a>函数的返回值</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322104333644.png" alt="image-20230322104333644"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322104239584.png" alt="image-20230322104239584"></p><p>return后面可以返回任何类型的值</p><p>alert没有返回值</p><h5 id="实参可以是任何值"><a href="#实参可以是任何值" class="headerlink" title="实参可以是任何值"></a>实参可以是任何值</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322105705081.png" alt="image-20230322105705081"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322105656546.png" alt="image-20230322105656546"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322110014837.png" alt="image-20230322110014837"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322110228754.png" alt="image-20230322110228754"></p><h5 id="返回值的类型"><a href="#返回值的类型" class="headerlink" title="返回值的类型"></a>返回值的类型</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230322110739845.png" alt="image-20230322110739845"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323195916081.png" alt="image-20230323195916081"></p><p>return fun4();输出“我是fun4”,return fun;输出fun函数</p><h5 id="立即执行函数"><a href="#立即执行函数" class="headerlink" title="立即执行函数"></a>立即执行函数</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323200544654.png" alt="image-20230323200544654"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323200525236.png" alt="image-20230323200525236"></p><h5 id="方法"><a href="#方法" class="headerlink" title="_方法"></a>_方法</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323200859161.png" alt="image-20230323200859161"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323201217159.png" alt="image-20230323201217159"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323201810859.png" alt="image-20230323201810859"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323201903198.png" alt="image-20230323201903198"></p><h5 id="全局作用域"><a href="#全局作用域" class="headerlink" title="全局作用域"></a>全局作用域</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323211430248.png" alt="image-20230323211240718"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323210815016.png" alt="image-20230323210815016"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323210828618.png" alt="image-20230323210828618"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323211318341.png" alt="image-20230323211318341"></p><h5 id="函数作用域"><a href="#函数作用域" class="headerlink" title="函数作用域"></a>函数作用域</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323213220248.png" alt="image-20230323213220248"><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323213341169.png" alt="image-20230323213341169"></p><p>在函数中，不使用var声明的变量都会成为全局变量<img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230323213153158.png" alt="image-20230323213153158"></p><h5 id="this"><a href="#this" class="headerlink" title="this"></a>this</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325141502142.png" alt="image-20230325141502142"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325142122682.png" alt="image-20230325142122682"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325142159586.png" alt="image-20230325142159586"></p><h5 id="使用工厂方法创建对象"><a href="#使用工厂方法创建对象" class="headerlink" title="使用工厂方法创建对象"></a>使用工厂方法创建对象</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325143428757.png" alt="image-20230325143428757"></p><h5 id><a href="#" class="headerlink" title></a><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325143240818.png" alt="image-20230325143240818"></h5><h5 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325150036980.png" alt="image-20230325150036980"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325150316097.png" alt="image-20230325150316097"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325150105951.png" alt="image-20230325150105951"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325145812655.png" alt="image-20230325145812655"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325150023911.png" alt="image-20230325150023911"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function Person()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">//构造函数，输出是object</span><br><span class="line">var per=new Person;</span><br><span class="line">console.log(per);</span><br><span class="line">//普通函数，输出undefined</span><br><span class="line">var per=Person;</span><br><span class="line">console.log(per);</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325151513547.png" alt="image-20230325151513547"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325151416192.png" alt="image-20230325151416192"></p><h5 id="原型对象prototype"><a href="#原型对象prototype" class="headerlink" title="原型对象prototype"></a>原型对象prototype</h5><p>弊端：</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325151834414.png" alt="image-20230325151834414"></p><p>改进：</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325153235583.png" alt="image-20230325153235583"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325153741310.png" alt="image-20230325153741310"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325153703554.png" alt="image-20230325153703554"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325153457960.png" alt="image-20230325153457960"></p><h5 id="hasOwnPrototype"><a href="#hasOwnPrototype" class="headerlink" title="hasOwnPrototype"></a>hasOwnPrototype</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325154207238.png" alt="image-20230325154207238"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325155027982.png" alt="image-20230325155027982"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325154707626.png" alt="image-20230325154707626"></p><h5 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325155849385.png" alt="image-20230325155849385"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325160204128.png" alt="image-20230325160204128"></p><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><h5 id="数组简介"><a href="#数组简介" class="headerlink" title="数组简介"></a>数组简介</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325164315029.png" alt="image-20230325164315029"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325164256563.png" alt="image-20230325164256563"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">向数组中添加元素</span><br><span class="line">语法：数组[索引]=值</span><br><span class="line">*/</span><br><span class="line">arr[0]=10;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">读取数组中的元素</span><br><span class="line">语法：数组[索引]</span><br><span class="line">如果读取不存在的索引，他不会报错而是返回undefined</span><br><span class="line">*/</span><br><span class="line">console.log(arr[0]);</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">获取数组的长度</span><br><span class="line">使用length属性来获取数组的长度</span><br><span class="line">语法:数组.length</span><br><span class="line"></span><br><span class="line">对于连续的数组，使用length可以获取数组的长度（元素的个数）</span><br><span class="line">对于非连续的数组，使用length可以获取数组的长度（最大索引+1）</span><br><span class="line">尽量不要创建非连续的数组</span><br><span class="line">*/</span><br><span class="line">console.log(arr.length);</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">需改length</span><br><span class="line">如果修改的length大于原长度，则多出来的部分会空出来</span><br><span class="line">如果修改的length小于原长度，则多出来的元素会被删除</span><br><span class="line">*/</span><br><span class="line">arr.length=10; </span><br><span class="line"></span><br><span class="line">//向数组的最后一个位置添加元素</span><br><span class="line">语法：数组[数组.length]=值；</span><br><span class="line">arr[arr.length]=20;</span><br></pre></td></tr></table></figure><h5 id="数组字面量"><a href="#数组字面量" class="headerlink" title="数组字面量"></a>数组字面量</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325165852664.png" alt="image-20230325165852664"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325165139904.png" alt="image-20230325165139904"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325165617480.png" alt="image-20230325165617480"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325165758131.png" alt="image-20230325165758131"></p><h5 id="数组的四个方法"><a href="#数组的四个方法" class="headerlink" title="数组的四个方法"></a>数组的四个方法</h5><h6 id="push"><a href="#push" class="headerlink" title="push()"></a>push()</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">1. 该方法可以向数组的末尾添加一个或多个元素，并返回数组的新长度</span><br><span class="line">2. 可以将要添加的元素作为方法的参数传递，这样这些元素将会自动添加到数组的末尾</span><br><span class="line">3.该方法会将数组的长度作为返回值返回</span><br><span class="line">*/</span><br><span class="line">var arr=[&quot;孙悟空&quot;,&quot;猪八戒&quot;];</span><br><span class="line"></span><br><span class="line">arr.push(&quot;唐僧&quot;,&quot;蜘蛛精&quot;);</span><br><span class="line">console.log(arr);//输出孙悟空，猪八戒，唐僧，蜘蛛精</span><br><span class="line"></span><br><span class="line">var result=arr.push(&quot;唐僧&quot;,&quot;蜘蛛精&quot;);</span><br><span class="line">console.log(&quot;result=&quot;+result);//输出retult=4</span><br></pre></td></tr></table></figure><h6 id="pop"><a href="#pop" class="headerlink" title="pop()"></a>pop()</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">该方法可以删除数组里的最后一个元素,并将被删除的元素作为返回值返回</span><br><span class="line">*/</span><br><span class="line">arr.pop();</span><br><span class="line">console.log(arr);//输出孙悟空，猪八戒，唐僧</span><br><span class="line"></span><br><span class="line">result=arr.pop();</span><br><span class="line">console.log(&quot;result=&quot;+result);//输出蜘蛛精</span><br></pre></td></tr></table></figure><h6 id="unshift"><a href="#unshift" class="headerlink" title="unshift()"></a>unshift()</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">向数组开头添加一个或多个元素，并返回新的长度</span><br><span class="line">向前边插入元素以后，其他元素会依次调整</span><br><span class="line">*/</span><br><span class="line">arr.unshift(&quot;牛魔王&quot;,&quot;二郎神&quot;)；</span><br><span class="line">console.log(arr);//输出牛魔王，二郎神，孙悟空，猪八戒，唐僧</span><br></pre></td></tr></table></figure><h6 id="shift"><a href="#shift" class="headerlink" title="shift()"></a>shift()</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">可以删除数组的第一个元素，并将删除的元素作为返回值返回</span><br><span class="line">*/</span><br><span class="line">arr.shift();</span><br><span class="line">console.log(arr);//输出二郎神，孙悟空，猪八戒，唐僧</span><br><span class="line"></span><br><span class="line">result=arr.shift();</span><br><span class="line">console.log(&quot;result=&quot;+result);//输出牛魔王</span><br></pre></td></tr></table></figure><h5 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325202432264.png" alt="image-20230325202432264"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230325202653834.png" alt="image-20230325202653834"></p><h5 id="slice-和splice"><a href="#slice-和splice" class="headerlink" title="slice()和splice()"></a>slice()和splice()</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">slice()</span><br><span class="line">可以从数组中提从指定元素</span><br><span class="line">1.该方法不会改变原数组，而是将截取到的元素封装到一个新的数组中</span><br><span class="line">2.参数：</span><br><span class="line">  1. 截取开始的位置索引，包含开始索引</span><br><span class="line">  2. 截取结束的位置索引，不包含结束索引</span><br><span class="line">3. 第二个参数可以省略不写，此时会截取从开始索引往后的所有元素</span><br><span class="line">4.索引可以传递一个负值，如果传递一个负值，则从后往前计算</span><br><span class="line">-1倒数第一个</span><br><span class="line">-2倒数第二个</span><br><span class="line">*/</span><br><span class="line">  var arr=[&quot;孙悟空&quot;,&quot;猪八戒&quot;,&quot;沙和尚&quot;,&quot;唐僧&quot;,&quot;白骨精&quot;];</span><br><span class="line">  </span><br><span class="line">  arr.slice(0,2);</span><br><span class="line">  console.log(arr);//输出孙悟空,猪八戒,沙和尚,唐僧,白骨精</span><br><span class="line">  </span><br><span class="line">  var result=arr.slice(1,2);</span><br><span class="line">  console.log(result);//输出猪八戒</span><br><span class="line">  </span><br><span class="line">  var result=arr.slice(1);</span><br><span class="line">  console.log(result);//输出猪八戒,沙和尚,唐僧,白骨精</span><br><span class="line">  </span><br><span class="line">  var result=arr.slice(1,-1);</span><br><span class="line">  console.log(result);//输出猪八戒,沙和尚,唐僧</span><br><span class="line">  </span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">splice()</span><br><span class="line">可以用于删除数组中的指定元素</span><br><span class="line">使用splice()会影响到原数组，会将指定元素从原数组中删除</span><br><span class="line">参数：</span><br><span class="line">第一个，表示开始位置的索引</span><br><span class="line">第二个，表示删除的数量</span><br><span class="line">第三个及以后，可以传递一些新的元素，这些元素将会自动插入到开始位置索引前面</span><br><span class="line">*/</span><br><span class="line"> var arr=[&quot;孙悟空&quot;,&quot;猪八戒&quot;,&quot;沙和尚&quot;,&quot;唐僧&quot;,&quot;白骨精&quot;];</span><br><span class="line">  </span><br><span class="line">  arr.splice(0,2);</span><br><span class="line">  console.log(arr);//输出沙和尚,唐僧,白骨精</span><br><span class="line">  </span><br><span class="line">  var result=arr.splice(0,2);</span><br><span class="line">  console.log(result);//输出孙悟空,猪八戒</span><br><span class="line">  </span><br><span class="line">  var result=arr.splice(1,1,&quot;牛魔王&quot;,&quot;铁扇公主&quot;);//输出孙悟空,牛魔王,铁扇公主,沙和尚,唐僧,白骨精</span><br></pre></td></tr></table></figure><h5 id="数组剩余的方法"><a href="#数组剩余的方法" class="headerlink" title="数组剩余的方法"></a>数组剩余的方法</h5><h6 id="concat"><a href="#concat" class="headerlink" title="concat()"></a>concat()</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">可以连接两个或多个数组，并将新的数组返回</span><br><span class="line">该方法不会对原数组产生影响</span><br><span class="line">*/</span><br><span class="line">var arr=[&quot;孙悟空&quot;,&quot;猪八戒&quot;,&quot;沙和尚&quot;];</span><br><span class="line">var arr2=[&quot;白骨精&quot;,&quot;玉兔精&quot;,&quot;蜘蛛精&quot;];</span><br><span class="line">var arr3=[&quot;二郎神&quot;，&quot;太上老君&quot;];</span><br><span class="line"></span><br><span class="line">var result=arr.concat(arr2);</span><br><span class="line">console.log(result);//孙悟空,猪八戒,沙和尚,白骨精,玉兔精,蜘蛛精</span><br><span class="line"></span><br><span class="line">var result=arr.concat(arr2,arr3);</span><br><span class="line">console.log(result);//孙悟空,猪八戒,沙和尚,白骨精,玉兔精,蜘蛛精,二郎神，太上老君</span><br><span class="line"></span><br><span class="line">var result=arr.concat(arr2,&quot;牛魔王&quot;);</span><br><span class="line">console.log(result);//孙悟空,猪八戒,沙和尚,白骨精,玉兔精,蜘蛛精，牛魔王</span><br></pre></td></tr></table></figure><h6 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">1. 该方法可以将数组转换成一个字符串</span><br><span class="line">2. 该方法不会对原数组产生影响</span><br><span class="line">3. 在join()中可以指定一个字符串作为参数，这个字符串将会成为数组中元素的连接符</span><br><span class="line">如果不指定连接符，则默认使用，作为连接符</span><br><span class="line">*/</span><br><span class="line">var arr=[&quot;孙悟空&quot;,&quot;猪八戒&quot;,&quot;沙和尚&quot;];</span><br><span class="line">result=arr.join();</span><br><span class="line">console.log(result);//输出孙悟空,猪八戒,沙和尚</span><br><span class="line">console.log(typeof result);//输出string</span><br><span class="line"></span><br><span class="line">result=arr.join(&quot;hello&quot;);</span><br><span class="line">console.log(result);//输出孙悟空hello猪八戒hello沙和尚</span><br></pre></td></tr></table></figure><h6 id="reverse"><a href="#reverse" class="headerlink" title="reverse()"></a>reverse()</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">该方法用来反转数组（前面的去后面，后面的去前面）</span><br><span class="line">该方法会直接修改原数组</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">var arr=[&quot;孙悟空&quot;,&quot;猪八戒&quot;,&quot;沙和尚&quot;];</span><br><span class="line">arr.reverse();</span><br><span class="line">console.log(arr);//输出沙和尚,猪八戒,孙悟空</span><br></pre></td></tr></table></figure><h6 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">1.可以用来对数组中的元素进行排序</span><br><span class="line">2.该方法会直接修改原数组，默认会按照Unicode编码进行排序</span><br><span class="line">3.即使对于纯数字的数组排序时，也会按照Unicode编码进行排序，所以对数字进行排序时，可能会得到错误的结果</span><br><span class="line"></span><br><span class="line">*/</span><br><span class="line">arr=[&quot;b&quot;,&quot;d&quot;,&quot;e&quot;,&quot;a&quot;,&quot;c&quot;];</span><br><span class="line">arr.sort();//输出a,b,c,d,e</span><br><span class="line"></span><br><span class="line">arr=[3,4,11,2,5]</span><br><span class="line">arr.sort();//输出11,2,3,4,5</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326192826258.png" alt="image-20230326192826258"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326192535759.png" alt="image-20230326192535759"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326192638759.png" alt="image-20230326192638759"></p><h5 id="函数对象的方法-call-apply"><a href="#函数对象的方法-call-apply" class="headerlink" title="函数对象的方法:call(),apply()"></a>函数对象的方法:call(),apply()</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326194755905.png" alt="image-20230326194755905"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">call()和apply()</span><br><span class="line">-这两个方法是函数对象的方法，需要通过函数对象来调用</span><br><span class="line">-当对函数调用call()和apply()都会调用函数来执行</span><br><span class="line">-在调用call()和apply()可以将一个对象指定为第一个参数</span><br><span class="line">此时这个对象将会成为函数执行的this</span><br><span class="line">-call()方法可以将实参在对象之后依次传递</span><br><span class="line">-apply()方法需要将实参封装到数组中一个一个传</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">function fun()&#123;</span><br><span class="line">alert(this);</span><br><span class="line">&#125;</span><br><span class="line">var obj=&#123;&#125;;</span><br><span class="line">fun();//输出&#123;object window&#125;</span><br><span class="line">fun.call(obj);//输出&#123;object object&#125;</span><br><span class="line">fun.apply(obj);//输出&#123;object object&#125;</span><br><span class="line"></span><br><span class="line">function fun()&#123;</span><br><span class="line">alert(this.name);</span><br><span class="line">&#125;</span><br><span class="line">var obj=&#123;name:&quot;obj&quot;&#125;;</span><br><span class="line">var obj2=&#123;name:&quot;obj2&quot;&#125;;</span><br><span class="line">fun.call(obj);//输出obj</span><br><span class="line">fun.apply(obj);//输出obj</span><br><span class="line"></span><br><span class="line">function fun(a,b)&#123;</span><br><span class="line">console.log(&quot;a=&quot;+a);</span><br><span class="line">console.log(&quot;b=&quot;+b);</span><br><span class="line">&#125;</span><br><span class="line">var obj=&#123;&#125;;</span><br><span class="line">fun.call(obj,2,3);//输出a=2,b=3</span><br><span class="line">fun.apply(obj,2,3);//报错</span><br><span class="line">fun.apply(obj,[2,3]);//输出a=2,b=3</span><br></pre></td></tr></table></figure><h5 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">在调用函数时，浏览器每次都会传递两个隐含的参数</span><br><span class="line">1.函数的上下文对象 this</span><br><span class="line">2.封装实参的对象 arguments</span><br><span class="line">-arguments是一个类数组对象，它也可以通过索引来操作数据，也可以获取长度</span><br><span class="line">-在调用函数时，我们所传递的实参都会在arguments中保存 </span><br><span class="line">-arguments.length可以用来获取实参的长度</span><br><span class="line">-我们即使不定义形参也可以通过arguments来使用实参，只不过比较麻烦</span><br><span class="line">arguments[0]表示第一个实参</span><br><span class="line">arguments[1]表示第二个实参</span><br><span class="line">-它里面有一个属性叫做callee</span><br><span class="line">这个属性对应一个函数对象，就是当前正在执行的函数对象</span><br><span class="line">*/</span><br><span class="line">function fun()&#123;</span><br><span class="line">console.log(arguments instanceof Array);//输出false</span><br><span class="line">console.log(Array.isArray(arguments));//输出false</span><br><span class="line">console.log(arguments.length);//输出2 console.log(arguments[1]);//输出true</span><br><span class="line">console.log(arguments.callee);//输出这个函数</span><br><span class="line">console.log(arguments.callee==fun);//输出true</span><br><span class="line">&#125;</span><br><span class="line">fun(&quot;hello&quot;,true);</span><br></pre></td></tr></table></figure><h5 id="Date对象"><a href="#Date对象" class="headerlink" title="Date对象"></a>Date对象</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326211607807.png" alt="image-20230326211607807"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326200906342.png" alt="image-20230326200906342"><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326205403149.png" alt="image-20230326205403149"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326205652557.png" alt="image-20230326205652557"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326205905077.png" alt="image-20230326205905077"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326210240077.png" alt="image-20230326210240077"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326210930873.png" alt="image-20230326210930873"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230326211250590.png" alt="image-20230326211250590"></p><h5 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">Math</span><br><span class="line">- Math和其他的对象不同，它不是一个构造函数。</span><br><span class="line">它属于一个工具类不用创建对象，它里边封装了数学运算相关的属性和方法</span><br><span class="line">- 比如</span><br><span class="line">1.Math.PI 表示的圆周率</span><br><span class="line">//console.log(Math.PI);</span><br><span class="line">2.-abs()可以用来计算一个数的绝对值</span><br><span class="line">//console.log(Math.abs()));</span><br><span class="line">3.Math.ceil()</span><br><span class="line">-可以对一个数进行向上取整，小数位只有有值就自动进1* 4.Math.floor()</span><br><span class="line">-可以对一个数进行向下取整，小数部分会被舍掉 </span><br><span class="line">5.Math.round()</span><br><span class="line">-可以对一个数进行四舍五入取整</span><br><span class="line">//console.log(Math.ceil(1.1));</span><br><span class="line">//console.log(Math.floor(1.99));</span><br><span class="line">//console.log(Math.round(1.4));</span><br><span class="line">6.Math.random()</span><br><span class="line">-可以用来生成一个0-1之间的随机数</span><br><span class="line">-生成一个0-10的随机数 </span><br><span class="line">-生成一个0-x之间的随机数</span><br><span class="line">Math.round(Math.random()*x)</span><br><span class="line">-生成一个1-10</span><br><span class="line">-生成一个x-y之间的随机数</span><br><span class="line">Math.round(Math.random()*(y-x)+x)</span><br><span class="line">for(var i=e ; i&lt;10e ; i++)&#123;</span><br><span class="line">//console.log(Math.round(Math.random(()*10));</span><br><span class="line">//console.log(Math.round(Math.random(()*20));</span><br><span class="line">//console.log(Math.round(Math.random()*9)+1);</span><br><span class="line">//console.log(Math.round(Math.random()*8)+2);</span><br><span class="line">//生成1-6之间的随机数</span><br><span class="line">console.log(Math.round(Math.random()*5+1));</span><br><span class="line">7.max()</span><br><span class="line">-可以获取多个数中的最大值</span><br><span class="line">var max=Math.max(10,45,65,23);</span><br><span class="line">console.log(max);//输出65</span><br><span class="line">8.min()</span><br><span class="line">-可以获取多个数中的最小值</span><br><span class="line">var min=Math.min(10,45,65,23);</span><br><span class="line">console.log(min);//输出10</span><br><span class="line">9.Math.pow(x,y)</span><br><span class="line">-返回x的y次幂</span><br><span class="line">console.log(Math.pow(2,3));//8</span><br><span class="line">10.Math.sqrt()</span><br><span class="line">-开方</span><br><span class="line">console.log(Math.sqrt(4));//2</span><br></pre></td></tr></table></figure><h5 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h5><p>在开发中基本不会使用基本数据类型的对象</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230329192801863.png" alt="image-20230329192801863"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//创建一个number类型的对象</span><br><span class="line">var num=new Number(3);</span><br><span class="line">//向num中添加一个属性</span><br><span class="line">num.hello=&quot;asda&quot;;</span><br><span class="line">console.log(num.hello);//输出asda</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230329193848083.png" alt="image-20230329193848083"></p><h5 id="字符串的方法"><a href="#字符串的方法" class="headerlink" title="字符串的方法"></a>字符串的方法</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">//创建一个字符串</span><br><span class="line">var str=&quot;Hello Atguigu&quot;;</span><br><span class="line">/*</span><br><span class="line">在底层字符串是以字符数组的形式保存的[&quot;H&quot;,&quot;e&quot;,&quot;l&quot;,&quot;l&quot;,&quot;o&quot;,&quot; &quot;]</span><br><span class="line">*/</span><br><span class="line">1.length</span><br><span class="line">console.log(length.str);//13</span><br><span class="line">console.log(str[0]);//H</span><br><span class="line">2.charAt()</span><br><span class="line">-可以返回字符串中指定位置的字符,根据索引来获取指定的字符</span><br><span class="line">var result=str.charAt(4);</span><br><span class="line">console.log(result);//o</span><br><span class="line">3.charCodeAt()</span><br><span class="line">-获取指定位置字符的字符编码（Unicode编码）</span><br><span class="line">var result=str.charCodeAt(0);</span><br><span class="line">console.log(result);//72</span><br><span class="line">4.fromCharCode()</span><br><span class="line">-可以根据字符编码去获取字符</span><br><span class="line">var result=String.fromCode(72);</span><br><span class="line">console.log(result);//H</span><br><span class="line">5.concat()</span><br><span class="line">-可以用来连接两个或多个字符串</span><br><span class="line">-作用和+一样，对原字符串不会产生影响</span><br><span class="line">result = str.concat(&quot;你好&quot;,&quot;再见&quot;);</span><br><span class="line">console.log(result);//输出Hello Atguigu你好再见</span><br><span class="line">6.indexOf()</span><br><span class="line">-该方法可以检索一个字符串中是否含有指定内容</span><br><span class="line">-如果字符串中含有该内容。则会返回其第一次出现的索引</span><br><span class="line">如果没有找到指定的内容则返回-1</span><br><span class="line">-第二个参数指定开始查找的位置</span><br><span class="line">result = str.indexOf(&quot;H&quot;);</span><br><span class="line">console.log(result);//输出0</span><br><span class="line">result = str.indexOf(&quot;e&quot;);</span><br><span class="line">console.log(result);//输出1</span><br><span class="line">result = str.indexOf(&quot;p&quot;);</span><br><span class="line">console.log(result);//输出-1</span><br><span class="line">result = str.indexOf(&quot;l&quot;,3);</span><br><span class="line">console.log(result);//输出4</span><br><span class="line">7.LastIndexOf()</span><br><span class="line">-该方法用法和indexOf()一样</span><br><span class="line">不同的是indexOf()是从前往后找</span><br><span class="line">而lastIndexOf()是从后往前找</span><br><span class="line">-也可以指定开始查找的位置</span><br><span class="line">8.slice()</span><br><span class="line">-可以从字符串中截取指定的内容</span><br><span class="line">-不会影响原字符串</span><br><span class="line">-参数：</span><br><span class="line">第一个，开始位置的索引（包括开始位置）</span><br><span class="line">第二个，结束位置的索引（不包括结束位置）</span><br><span class="line">-如果省略第二个参数，则会截取到后面所有的</span><br><span class="line">-也可以传递一个负数作为参数，负数的话将会从后面开始计算</span><br><span class="line">str=&quot;abcdefghijk&quot;</span><br><span class="line">result=str.slice(0,2);</span><br><span class="line">console.log(result);//ab</span><br><span class="line">9.substring()</span><br><span class="line">-可以用来截取一个字符串，与slice()类似</span><br><span class="line">-参数：</span><br><span class="line">第一个，开始位置的索引（包括开始位置）</span><br><span class="line">第二个，结束位置的索引（不包括结束位置）</span><br><span class="line">-不同的是这个方法不能接受负值，如果传递了一个负值，则默认使用0</span><br><span class="line">-而且他还会自动调整参数的位置，如果第二个参数小于第一个，则自动交换</span><br><span class="line">result=str.substring(1,2);</span><br><span class="line">console.log(result);//b</span><br><span class="line">10.substr()</span><br><span class="line">-可以用来截取一个字符串</span><br><span class="line">-参数：</span><br><span class="line">第一个，开始位置的索引（包括开始位置）</span><br><span class="line">第二个，截取的长度</span><br><span class="line">result=str.substr(1,2);</span><br><span class="line">console.log(result);//bc</span><br><span class="line">11.split()</span><br><span class="line">-将一个字符串拆分为一个数组</span><br><span class="line">-需要一个字符串作为参数，将会根据该字符串去拆分数组</span><br><span class="line">-如果传递一个空串作为参数，则会将每个字符都拆分为数组的一个元素</span><br><span class="line">str=&quot;abc,bcd,efg,hij&quot;;</span><br><span class="line">var result=str.split(&quot;,&quot;);</span><br><span class="line">console.log(result[0]);//abc</span><br><span class="line">console.log(Array.isArray(result));/true</span><br><span class="line">var s=str.split(&quot; &quot;);</span><br><span class="line">console.log(s);//a,b,c,,,b,c,d,,,e,f,g,,,h,i,j</span><br><span class="line">12.toUpperCase()</span><br><span class="line">-将字符串转换成大写并返回</span><br><span class="line">str=&quot;abcdefg&quot;;</span><br><span class="line">result=str.toUpperCase();</span><br><span class="line">console.log(result);//ABCDEFG</span><br><span class="line">13.toLowerCase()</span><br><span class="line">-将字符串转换成小写并返回</span><br><span class="line">str=&quot;ABCDEFG&quot;;</span><br><span class="line">result=str.toULowerCase();</span><br><span class="line">console.log(result);//abcdefg</span><br></pre></td></tr></table></figure><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><h5 id="正则表达式的简介"><a href="#正则表达式的简介" class="headerlink" title="正则表达式的简介"></a>正则表达式的简介</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230329203904358.png" alt="image-20230329203904358"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">//创建正则表达式的对象</span><br><span class="line">/*</span><br><span class="line">语法：</span><br><span class="line">var 变量=new RegExp(&quot;正则表达式&quot;,&quot;匹配模式&quot;);</span><br><span class="line">使用typeof检查正则对象，会返回object</span><br><span class="line">在构造函数中可以传递一个匹配模式作为第二个参数</span><br><span class="line">可以是</span><br><span class="line">i 忽略大小写</span><br><span class="line">g 全局匹配模式</span><br><span class="line">*/</span><br><span class="line">var reg=new RegExp(&quot;a&quot;);</span><br><span class="line">console.log(reg);//输出/a/</span><br><span class="line">var str=&quot;a&quot;;</span><br><span class="line">/*</span><br><span class="line">正则表达式的方法</span><br><span class="line">test()</span><br><span class="line">-使用这个方法可以来检测一个字符串是否符合正则表达式的规则</span><br><span class="line">如果符合则返回true，否则返回false</span><br><span class="line">*/</span><br><span class="line">var result=reg.test(str);</span><br><span class="line">console.log(result);//true</span><br><span class="line">console.log(reg.test(&quot;abc&quot;));//true</span><br><span class="line">console.log(reg.test(&quot;Abc&quot;));//false</span><br><span class="line"></span><br><span class="line">var reg=new RegExp(&quot;a&quot;,&quot;i&quot;);</span><br><span class="line">console.log(reg.test(&quot;Abc&quot;));//true</span><br></pre></td></tr></table></figure><h5 id="正则语法"><a href="#正则语法" class="headerlink" title="正则语法"></a>正则语法</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">使用字面量来创建正则表达式</span><br><span class="line">语法：var 变量=/正则表达式/匹配模式</span><br><span class="line">使用字面量的方式创建更加简单</span><br><span class="line">使用构造函数创建更加灵活</span><br><span class="line">*/</span><br><span class="line">var reg=new RegExp(&quot;a&quot;,&quot;i&quot;);</span><br><span class="line">reg=/a/i;</span><br><span class="line">console.log(reg.test(&quot;abc&quot;));//true</span><br><span class="line"></span><br><span class="line">//创建一个正则表达式检查一个字符串中是否有a或b</span><br><span class="line">/*</span><br><span class="line">使用|表示或者的意思</span><br><span class="line">*/</span><br><span class="line">reg=/a|b/;</span><br><span class="line">console.log(reg.test(&quot;ac&quot;));//true</span><br><span class="line"></span><br><span class="line">//创建一个正则表达式检查一个字符串中是否有字母</span><br><span class="line">/*</span><br><span class="line">[]里的内容也是或的关系</span><br><span class="line">[ab]=a|b</span><br><span class="line">/[a-z]/;表示任意的小写字母</span><br><span class="line">/[A-Z]/;表示任意的大写字母</span><br><span class="line">/[A-z]/;表示任意的字母</span><br><span class="line">*/</span><br><span class="line">reg=/[ab]/;</span><br><span class="line">console.log(reg.test(&quot;ac&quot;));//true</span><br><span class="line"></span><br><span class="line">//检查一个字符串中是否含有abc或adc或aec</span><br><span class="line">reg=/a[bde]c/;</span><br><span class="line">console.log(reg.test(&quot;abc&quot;));//true</span><br><span class="line"></span><br><span class="line">//[^]除了</span><br><span class="line">reg=[^ab];</span><br><span class="line">console.log(reg.test(&quot;abc&quot;));//true表示除了ab以外的字符，因为有c所以是true</span><br></pre></td></tr></table></figure><h5 id="字符串与正则相关的方法"><a href="#字符串与正则相关的方法" class="headerlink" title="字符串与正则相关的方法"></a>字符串与正则相关的方法</h5><ol><li><pre><code class="html">split()-将一个字符串拆分为一个数组-需要一个字符串作为参数，将会根据该字符串去拆分数组-这个方法即使不指定全局匹配，也会全部拆分-方法中可以传递一个正则表达式作为参数，这样方法将会根据正则表达式去拆分字符串//根据任意字母将字符串拆分var str=&quot;1a2b3c4d5e6f7&quot;var result=str.split(/[A-z]/);console.log(result);//1,2,3,4,5,6,7<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. ```html</span><br><span class="line">   search()</span><br><span class="line">   -可以搜索字符串中是否含有指定内容</span><br><span class="line">   -如果搜索到指定内容，则会返回第一次出现的索引，如果没有则会返回-1</span><br><span class="line">   -它可以接受一个正则表达式作为参数，然后根据正则表达式去检索字符串</span><br><span class="line">   -这个方法即使指定全局匹配，也没用，只会查找第一个</span><br><span class="line">   var str=&quot;hello abc hello abc&quot;;</span><br><span class="line">   var result=str.search(&quot;abc&quot;);</span><br><span class="line">   console.log(result);//6</span><br><span class="line">   var result=str.search(&quot;abcd&quot;);</span><br><span class="line">   console.log(result);//-1</span><br><span class="line">   //检查一个字符串中是否含有abc或afc或aec</span><br><span class="line">   var result=str.search(/a[bef]c/);</span><br><span class="line">   console.log(result);</span><br></pre></td></tr></table></figure></code></pre></li><li><pre><code class="html">match()-可以根据正则表达式，从一个字符串中将符合条件的内容提取出来-默认情况下match只会找到第一个符合要求的内容，找到以后就会停止检索，我们可以设置正则表达式为全局匹配模式，这样就会匹配到所有的内容-可以为正则表达式设置多个匹配模式，且顺序无所谓-match()会将匹配到的内容封装到一个数组中返回，即使之查询到一个结果var str=&quot;1a2b3c4d5e6f7A8&quot;;var result=str.match(/[A-z]/);console.log(result);//avar result=str.match(/[a-z]/gi);console.log(result);//a,b,c,d,e,f,Aconsole.log(Array.isArray(result));//trueconsole.log(result[0]);//a<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4. ```html</span><br><span class="line">   replace()</span><br><span class="line">   -可以将字符串中指定内容替换成新的内容</span><br><span class="line">   -参数</span><br><span class="line">   1.被替换的内容，可以接受一个正则表达式作为参数</span><br><span class="line">   2.新的内容</span><br><span class="line">   -默认只替换第一个</span><br><span class="line">   var str=&quot;1a2b3c4d5e6f7A8a9&quot;;</span><br><span class="line">   var result=str.replace(&quot;a&quot;,&quot;#&quot;);</span><br><span class="line">   console.log(result);//1#2b3c4d5e6f7A8a9</span><br><span class="line">   </span><br><span class="line">   var result=str.replace(/a/gi,&quot;#&quot;);</span><br><span class="line">   console.log(result);//1#2b3c4d5e6f7#8#9</span><br></pre></td></tr></table></figure></code></pre></li></ol><h5 id="正则表达式语法"><a href="#正则表达式语法" class="headerlink" title="正则表达式语法"></a>正则表达式语法</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">创建一个正则表达式检查一个字符串中是否含有aaa</span><br><span class="line">量词 </span><br><span class="line">-通过量词可以设置一个内容出现的次数</span><br><span class="line">-量词只对它前面的一个内容起作用</span><br><span class="line">-&#123;n&#125;正好出现n次</span><br><span class="line">-&#123;m,n&#125;出现m到n次</span><br><span class="line">-&#123;m,&#125;出现m次以上</span><br><span class="line">—+至少一个，相当于&#123;1,&#125;</span><br><span class="line">-*0个或多个，相当于&#123;0,&#125;</span><br><span class="line">-?0个或1个，相当于&#123;0,1&#125;</span><br><span class="line">/*</span><br><span class="line">var reg = /a&#123;3&#125;/;</span><br><span class="line">console.log(reg.test(&quot;aaabc&quot;));//true</span><br><span class="line"></span><br><span class="line">reg=/ab&#123;3&#125;/;</span><br><span class="line">console.log(reg.test(&quot;abbb&quot;));//true</span><br><span class="line"></span><br><span class="line">reg=/(ab)&#123;3&#125;/;</span><br><span class="line">console.log(reg.test(&quot;ababab&quot;));//true</span><br><span class="line"></span><br><span class="line">reg=/ab&#123;1,3&#125;c/;</span><br><span class="line">console.log(reg.test(&quot;abbab&quot;));//true</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">检查一个字符串是否以a开头</span><br><span class="line">^表示开头//匹配开头的a</span><br><span class="line">$表示结尾//匹配结尾的a</span><br><span class="line">reg=/^a/;</span><br><span class="line">console.log(reg.test(&quot;abbab&quot;));//true</span><br><span class="line">reg=/a$/;</span><br><span class="line">console.log(reg.test(&quot;abbab&quot;));//false</span><br><span class="line">reg=/^a$/;</span><br><span class="line">console.log(reg.test(&quot;aaa&quot;));//false</span><br><span class="line">console.log(reg.test(&quot;a&quot;));//true</span><br><span class="line">//reg=/^a|a$/;以a开头或者以a结尾</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230330205738311.png" alt="image-20230330205738311"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230330205858332.png" alt="image-20230330205858332"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line">.表示任意字符</span><br><span class="line">在正则表达式中使用\作为转义字符</span><br><span class="line">\.来表示.</span><br><span class="line">\\表示\</span><br><span class="line">注意:使用构造函数时，由于它的参数是一个字符串，而\是字符串中转义字符，如果要使用\则需要使用\\来代替</span><br><span class="line">*/</span><br><span class="line">//检查一个字符串中是否含有.</span><br><span class="line">var reg=/\./;</span><br><span class="line">console.log(reg.test(&quot;.&quot;));//true</span><br><span class="line"></span><br><span class="line">reg=new RegExp(&quot;\.&quot;);</span><br><span class="line">console.log(reg);//输出.</span><br><span class="line">console.log(reg.test(&quot;#%&amp;*&quot;));//true</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">\w相当于[A-z0-9_]</span><br><span class="line">-任意字母，数字，_</span><br><span class="line">\W相当于[^A-z0-9_]</span><br><span class="line">-除了任意字母，数字，_</span><br><span class="line">\d相当于[0-9]</span><br><span class="line">-任意数字</span><br><span class="line">\D相当于[^0-9]</span><br><span class="line">-除了数字</span><br><span class="line">\s</span><br><span class="line">-空格</span><br><span class="line">\S</span><br><span class="line">-除了空格</span><br><span class="line">\b</span><br><span class="line">-单词边界</span><br><span class="line">\B</span><br><span class="line">-除了a单词边界</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230330211913930.png" alt="image-20230330211913930"><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230330212015753.png" alt="image-20230330212015753"></p><p> 1.0版本<img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230330212247005.png" alt="image-20230330212247005"></p><p>2.0版本</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230330212754161.png" alt="image-20230330212754161"></p><p>或</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230330212808555.png" alt="image-20230330212808555"></p><h5 id="邮件的正则"><a href="#邮件的正则" class="headerlink" title="邮件的正则"></a>邮件的正则</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230401130947093.png" alt="image-20230401130947093"></p><h3 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h3><h5 id="DOM简介"><a href="#DOM简介" class="headerlink" title="DOM简介"></a>DOM简介</h5><p>Document Object Model文档对象模型</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230401133943268.png" alt="image-20230401133943268"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230401133518233.png" alt="image-20230401133518233"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230401133800457.png" alt="image-20230401133800457"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230401140020693.png" alt="image-20230401140020693"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230401140247731.png" alt="image-20230401140247731"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230401140327392.png" alt="image-20230401140327392"></p><h5 id="事件的简介"><a href="#事件的简介" class="headerlink" title="事件的简介"></a>事件的简介</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230401143610339.png" alt="image-20230401143610339"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//获取按钮对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 可以为按钮的对应事件绑定处理函数的形式来响应事件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//当事件被触发的时候，对应的函数被调用</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//绑定一个单击事件，像这种为单击事件绑定的函数，被称为单击响应函数</span></span></span><br><span class="line"><span class="language-javascript">        btn.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;你还点~~&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//绑定一个鼠标移动触发事件</span></span></span><br><span class="line"><span class="language-javascript">        btn.<span class="property">onmousemove</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;你还点~~&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="文档的加载"><a href="#文档的加载" class="headerlink" title="文档的加载"></a>文档的加载</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// onload事件会在整个页面加载完成后才触发</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 为window绑定一个onload事件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//该事件对应的响应函数将会在页面加载完成之后执行，这样可以确保我们的代码执行时所有的DOM对象已经加载完毕</span></span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//获取按钮对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> btn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 可以为按钮的对应事件绑定处理函数的形式来响应事件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//当事件被触发的时候，对应的函数被调用</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//绑定一个单击事件，像这种为单击事件绑定的函数，被称为单击响应函数</span></span></span><br><span class="line"><span class="language-javascript">        btn.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;你还点~~&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//绑定一个鼠标移动触发事件</span></span></span><br><span class="line"><span class="language-javascript">        btn.<span class="property">onmousemove</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;你还点~~&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script&gt;</span></span><br><span class="line"><span class="comment">        //获取按钮对象</span></span><br><span class="line"><span class="comment">        var btn=document.getElementById(&quot;btn&quot;);</span></span><br><span class="line"><span class="comment">        // 可以为按钮的对应事件绑定处理函数的形式来响应事件</span></span><br><span class="line"><span class="comment">        //当事件被触发的时候，对应的函数被调用</span></span><br><span class="line"><span class="comment">        //绑定一个单击事件，像这种为单击事件绑定的函数，被称为单击响应函数</span></span><br><span class="line"><span class="comment">        btn.onclick=function()&#123;</span></span><br><span class="line"><span class="comment">            alert(&quot;你还点~~&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        //绑定一个鼠标移动触发事件</span></span><br><span class="line"><span class="comment">        btn.onmousemove=function()&#123;</span></span><br><span class="line"><span class="comment">            alert(&quot;你还点~~&quot;);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    &lt;/script&gt; --&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="DOM查询"><a href="#DOM查询" class="headerlink" title="DOM查询"></a>DOM查询</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230401151155342.png" alt="image-20230401151155342"></p><ol><li>getElementById()</li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230402192307346.png" alt="image-20230402192307346"></p><ol start="2"><li>getElementsByTagName()</li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230402192824504.png" alt="image-20230402192824504"></p><ol start="3"><li>getElementsByName()</li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230402193541844.png" alt="image-20230402193541844"></p><h5 id="图片切换案例"><a href="#图片切换案例" class="headerlink" title="图片切换案例"></a>图片切换案例</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        *&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#outer</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">1158px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#91bbb5</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//点击按钮切换图片</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//要修改图片就要修改src标签属性</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> img=<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;img&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//创建一个数组用来保存图片的路径</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> imgArr=[<span class="string">&quot;img/1.jpg&quot;</span>,<span class="string">&quot;img/2.jpg&quot;</span>,<span class="string">&quot;img/3.jpg&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//创建一个变量用来保存当前正在显示图片的索引</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> index=<span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//设置提示文字</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//获取id为info的p元素</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> info=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;info&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//设置提示文字</span></span></span><br><span class="line"><span class="language-javascript">             info.<span class="property">innerHTML</span>=<span class="string">&quot;一共&quot;</span>+imgArr.<span class="property">length</span>+<span class="string">&quot;张图片，当前是第&quot;</span>+(index+<span class="number">1</span>)+<span class="string">&quot;张&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//获取两个按钮</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> prev=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;prev&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> naxt=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;next&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            prev.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                index--;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//判断index是否小于0</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(index&lt;<span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    index=imgArr.<span class="property">length</span>-<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                img.<span class="property">src</span>=imgArr[index];</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//alert(&quot;上一张&quot;);</span></span></span><br><span class="line"><span class="language-javascript">                info.<span class="property">innerHTML</span>=<span class="string">&quot;一共&quot;</span>+imgArr.<span class="property">length</span>+<span class="string">&quot;张图片，当前是第&quot;</span>+(index+<span class="number">1</span>)+<span class="string">&quot;张&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            next.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//alert(&quot;下一张&quot;);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//要修改一个元素的属性元素 .属性=属性值</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                index++;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(index&gt;imgArr.<span class="property">length</span>-<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    index=<span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                img.<span class="property">src</span>=imgArr[index];</span></span><br><span class="line"><span class="language-javascript">                info.<span class="property">innerHTML</span>=<span class="string">&quot;一共&quot;</span>+imgArr.<span class="property">length</span>+<span class="string">&quot;张图片，当前是第&quot;</span>+(index+<span class="number">1</span>)+<span class="string">&quot;张&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;info&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;美女&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;prev&quot;</span>&gt;</span>上一张<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;next&quot;</span>&gt;</span>下一张<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230403163502913.png" alt="image-20230403163502913"></p><h5 id="DOM查询-1"><a href="#DOM查询-1" class="headerlink" title="DOM查询"></a>DOM查询</h5><p>1. </p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230403165258538.png" alt="image-20230403165258538"></p><p>2. </p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230403170636391.png" alt="image-20230403170636391"><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230403170651305.png" alt="image-20230403170651305"></p><p>3. </p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230403171225758.png" alt="image-20230403171225758"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230403171401274.png" alt="image-20230403171401274"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230408204109945.png" alt="image-20230408204109945"></p><ol><li></li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230403172325412.png" alt="image-20230403172325412"></p><ol start="2"><li><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230403173330528.png" alt="image-20230403173330528"></p></li><li><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230403173549675.png" alt="image-20230403173549675"></p></li><li><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230403173642022.png" alt="image-20230403173642022"></p></li><li><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230408204043041.png" alt="image-20230408204043041"></p></li></ol><h5 id="全选练习"><a href="#全选练习" class="headerlink" title="全选练习"></a>全选练习</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>全选练习<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//获取四个多选框</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> items=<span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;items&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">           <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">           全选按钮</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">           -点击按钮以后，四个复选框全部选上</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">           */</span> </span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//1.#checkedAllBtn</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//为id为checkedAllBtn的按钮框绑定一个单机响应函数</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">var</span> checkedAllBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;checkedAllBtn&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">          checkedAllBtn.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//遍历items</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//设置四个多选框变成选中状态</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//通过多选框的checked属性可以获取或设置多选框的选中状态</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                items[i].<span class="property">checked</span>=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            checkedAllBox.<span class="property">checked</span>=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">           <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">           全不选按钮</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">           -点击按钮以后，四个复选框全不选上</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">           */</span> </span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//1.#checkedNoBtn</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//为id为checkedNoBtn的按钮框绑定一个单机响应函数</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">var</span> checkedNoBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;checkedNoBtn&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">          checkedNoBtn.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//遍历items</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//设置四个多选框变成未选中状态</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//通过多选框的checked属性可以获取或设置多选框的选中状态</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                items[i].<span class="property">checked</span>=<span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            checkedAllBox.<span class="property">checked</span>=<span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">          -反选按钮</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">          -点击以后，选中的变成没选中，没选中的变成选中</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">          */</span></span></span><br><span class="line"><span class="language-javascript">         <span class="comment">//1.#checkedRevBtn</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">//为id为checkedRevBtn的按钮框绑定一个单机响应函数</span></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">var</span> checkedRevBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;checkedRevBtn&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">          checkedRevBtn.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            checkedAllBox.<span class="property">checked</span>=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//遍历items</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//通过多选框的checked属性可以获取或设置多选框的选中状态</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// //判断多选框状态</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// if(items[i].checked)&#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     //证明多选框已选中，设置为未选中状态</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     items[i].checked=false;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// else&#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     //证明多选框未选中，设置为已选中状态</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     items[i].checked=true;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">                items[i].<span class="property">checked</span>=!items[i].<span class="property">checked</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(!items[i].<span class="property">checked</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    checkedAllBox.<span class="property">checked</span>=<span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">          <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">          提交按钮</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">          -点击按钮后，将所有选中的多选框的value属性值弹出</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">          */</span></span></span><br><span class="line"><span class="language-javascript">         <span class="comment">//#sendBtn</span></span></span><br><span class="line"><span class="language-javascript">         <span class="keyword">var</span> sendBtn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sendBtn&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">         sendBtn.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//判断多选框是否选中</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(items[i].<span class="property">checked</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(items[i].<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">         &#125;</span></span><br><span class="line"><span class="language-javascript">         <span class="comment">//#checkedAllBox</span></span></span><br><span class="line"><span class="language-javascript">         <span class="comment">//全选/全不选的多选框</span></span></span><br><span class="line"><span class="language-javascript">         <span class="comment">//-当他选中时，其余的也选中，当他取消时，其余的也取消</span></span></span><br><span class="line"><span class="language-javascript">         <span class="comment">//为checkedAllBox绑定一个单机响应</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">         <span class="comment">//在事件的响应函数中，响应函数是给谁绑的，this就是给谁绑的</span></span></span><br><span class="line"><span class="language-javascript">         <span class="keyword">var</span> checkedAllBox=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;checkedAllBox&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">         checkedAllBox.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//设置多选框的选中状态</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//items[i].checked=!items[i].checked;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//items[i].checked=checkedAllBox.checked;</span></span></span><br><span class="line"><span class="language-javascript">                items[i].<span class="property">checked</span>=<span class="variable language_">this</span>.<span class="property">checked</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">         &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//  如果四个多选框全都选中，则checkedAllBox也应该选中</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//  如果四个多选框没选中，则checkedAllBox也不应该选中</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 为四个多选框都绑定一个单击响应函数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            items[i].<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//将checkedAllBox设置为选中状态</span></span></span><br><span class="line"><span class="language-javascript">                checkedAllBox.<span class="property">checked</span>=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;items.<span class="property">length</span>;j++)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//判断四个多选框是否全选</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//只要有一个没选中，则证明不是全选状态</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span>(!items[j].<span class="property">checked</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//一旦进入判断，则证明不是全选状态</span></span></span><br><span class="line"><span class="language-javascript">                        <span class="comment">//将checkedAllBox设置为没选中状态</span></span></span><br><span class="line"><span class="language-javascript">                        checkedAllBox.<span class="property">checked</span>=<span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        你爱好的运动是？<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;checkedAllBox&quot;</span>&gt;</span>全选/全不选</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;items&quot;</span> <span class="attr">value</span>=<span class="string">&quot;足球&quot;</span>&gt;</span>足球</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;items&quot;</span> <span class="attr">value</span>=<span class="string">&quot;篮球&quot;</span>&gt;</span>篮球</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;items&quot;</span> <span class="attr">value</span>=<span class="string">&quot;羽毛球&quot;</span>&gt;</span>羽毛球</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;items&quot;</span> <span class="attr">value</span>=<span class="string">&quot;乒乓球&quot;</span>&gt;</span>乒乓球</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;checkedAllBtn&quot;</span> <span class="attr">value</span>=<span class="string">&quot;全选&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;checkedNoBtn&quot;</span> <span class="attr">value</span>=<span class="string">&quot;全不选&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;checkedRevBtn&quot;</span> <span class="attr">value</span>=<span class="string">&quot;反选&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;sendBtn&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="DOM查询方法"><a href="#DOM查询方法" class="headerlink" title="DOM查询方法"></a>DOM查询方法</h5><ol><li><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230409184851381.png" alt="image-20230409184851381"></p></li><li><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230409184955839.png" alt="image-20230409184955839"></p></li><li><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230409185357364.png" alt="image-20230409185357364"></p></li></ol><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230409185202259.png" alt="image-20230409185202259"></p><ol start="3"><li><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230409185719016.png" alt="image-20230409185719016"></p></li><li><p>document.querySelector()</p><p>需要一个选择器的字符串作为参数，可以根据一个css选择器来查询一个元素节点对象</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230409190535235.png" alt="image-20230409190535235"></p></li><li><p>document.querySelectorAll()</p><p>与document.querySelector()相似，不同的是它会将查询到的符合条件的元素封装到数组中，即使符合条件的元素只有一个也会返回数组</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230409202649901.png" alt="image-20230409202649901"></p></li></ol><h5 id="DOM增删改"><a href="#DOM增删改" class="headerlink" title="DOM增删改"></a>DOM增删改</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230409205129011.png" alt="image-20230409205129011"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//一.创建一个广州节点，添加到#city下</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">myClick</span>(<span class="string">&quot;btn01&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//1.创建广州节点&lt;li&gt;广州&lt;/li&gt;</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//创建li元素节点</span></span></span><br><span class="line"><span class="language-javascript">                    </span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                 document.createElement()</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                -可以用于创建一个元素节点对象</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                -它需要一个标签名作为参数，将会根据该标签名创建元素节点对象，</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                并将其创建好的对象作为返回值返回</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                */</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> li=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//创建广州文本节点</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                document.createTextNode();</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                -可以用来创建一个文本节点</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                -需要一个文本内容作为参数，将会根据该内容创建文本节点，并将一个新的节点返回</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                */</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> gzText=<span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&quot;广州&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//将gzText设置li节点</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    appendChild()</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    -向一个父节点中添加一个新的节点</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    用法：父节点.appendChild(子节点);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    */</span></span></span><br><span class="line"><span class="language-javascript">                li.<span class="title function_">appendChild</span>(gzText);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//获取id为city的节点</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> city=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;city&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//2.将广州添加到city下</span></span></span><br><span class="line"><span class="language-javascript">                city.<span class="title function_">appendChild</span>(li);</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 将广州节点插入到#bj前</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">myClick</span>(<span class="string">&quot;btn02&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//创建一个广州</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> li=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> gzText=<span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&quot;广州&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                li.<span class="title function_">appendChild</span>(gzText);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//获取id为bj的节点</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> bj=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;bj&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//获取city</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> city=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;city&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                //insertBefore()</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                -可以在指定的子节点前插入新的子节点</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                -语法：</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    父节点.insertBefore(新节点，旧节点);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                */</span></span></span><br><span class="line"><span class="language-javascript">                city.<span class="title function_">insertBefore</span>(li,bj);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//使用广州节点替换#bj节点</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">myClick</span>(<span class="string">&quot;btn03&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//创建一个广州</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> li=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> gzText=<span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&quot;广州&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                li.<span class="title function_">appendChild</span>(gzText);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//获取id为bj的节点</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> bj=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;bj&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//获取city</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> city=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;city&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                replaceChild()</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                -可以使用指定的子节点替换已有的子节点</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                -语法：</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    父节点.replaceChild(新节点，旧节点);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                */</span></span></span><br><span class="line"><span class="language-javascript">               city.<span class="title function_">replaceChild</span>(li,bj);</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 删除#bj节点</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">myClick</span>(<span class="string">&quot;btn04&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//获取id为bj的节点</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> bj=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;bj&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//获取city</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> city=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;city&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    removeChild()</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    -可以删除一个子节点</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    -语法：</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        -父节点.removeChild(子节点);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        -子节点.parentNode.removeChild(子节点);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                */</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//city.removeChild(bj);</span></span></span><br><span class="line"><span class="language-javascript">                bj.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(bj);</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 读取#city内的HTML代码</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">myClick</span>(<span class="string">&quot;btn05&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> city=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;city&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(city.<span class="property">innerHTML</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 设置#bj内的HTML代码</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">myClick</span>(<span class="string">&quot;btn06&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> bj=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;bj&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                bj.<span class="property">innerHTML</span>=<span class="string">&quot;上海&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 添加一个广州节点到#city下</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">myClick</span>(<span class="string">&quot;btn07&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> city=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;city&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//是使用innerHTML也可以完成DOM的增删改的相关操作</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//一般会两种方式结合使用</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//city.innerHTML +=&quot;&lt;li&gt;广州&lt;/li&gt;&quot;;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//创建一个li</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> li=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//向li中设置文本</span></span></span><br><span class="line"><span class="language-javascript">                li.<span class="property">innerHTML</span>=<span class="string">&quot;广州&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//将li添加到city中</span></span></span><br><span class="line"><span class="language-javascript">                city.<span class="title function_">appendChild</span>(li);</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">myClick</span>(<span class="params">idStr,fun</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> btn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(idStr);</span></span><br><span class="line"><span class="language-javascript">            btn.<span class="property">onclick</span>=fun;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;total&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">                你喜欢哪个城市？</span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;city&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;bj&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>东京<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>首尔<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;btnList&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn01&quot;</span>&gt;</span>创建一个广州节点，添加到#city下<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn02&quot;</span>&gt;</span>将广州节点插入到#bj前<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn03&quot;</span>&gt;</span>使用广州节点替换#bj节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn04&quot;</span>&gt;</span>删除#bj节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn05&quot;</span>&gt;</span>读取#city内的HTML代码<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn06&quot;</span>&gt;</span>设置#bj内的HTML代码<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn07&quot;</span>&gt;</span>添加一个广州节点到#city下<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230410204702187.png" alt="image-20230410204702187"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230410204635278.png" alt="image-20230410204635278"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230410204745978.png" alt="image-20230410204745978"></p><h5 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230410212655233.png" alt="image-20230410212655233"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230410212758917.png" alt="image-20230410212758917"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230410212817696.png" alt="image-20230410212817696"></p><p>添加优化：</p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230411200429419.png" alt="image-20230411200429419"></p><h5 id="a的索引问题"><a href="#a的索引问题" class="headerlink" title="a的索引问题"></a>a的索引问题</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230411201155820.png" alt="image-20230411201155820"></p><h5 id="内联样式"><a href="#内联样式" class="headerlink" title="内联样式"></a>内联样式</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//点击按钮，修改box1的大小</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//获取box1</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> box1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//为按钮绑定单机响应函数</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> btn01=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn01&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            btn01.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 修改box1的宽度</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 通过js修改元素样式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 语法：元素.style.样式名=样式值</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 注意：如果css样式名中含有-</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//         这种名称在js中是不合法的比如background-color</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//         需要将这种样式名改为驼峰命名法</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//         去点-，然后将-后的字母大写</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//我们通过style属性设置的样式都是内联样式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//而内联样式有较高的优先级，所以通过js修改的样式往往会立即显示</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//但是如果在样式中写了！important，则此时样式会有最后高优先级</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//即使通过js也不能覆盖该样式，此时会导致js修改样式失败</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//所以尽量不要为样式添加！important</span></span></span><br><span class="line"><span class="language-javascript">                box1.<span class="property">style</span>.<span class="property">width</span>=<span class="string">&quot;300px&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                box1.<span class="property">style</span>.<span class="property">height</span>=<span class="string">&quot;300px&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                box1.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;yellow&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> btn02=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn02&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            btn02.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//读取box1的样式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//语法：</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//  元素.style.样式名</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//通过style属性设置和读取的都是内联样式，无法读取样式表中的样式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(box1.<span class="property">style</span>.<span class="property">width</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(box1.<span class="property">style</span>.<span class="property">height</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(box1.<span class="property">style</span>.<span class="property">backgroundColor</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn01&quot;</span>&gt;</span>点我一下<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn02&quot;</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="获取元素的样式"><a href="#获取元素的样式" class="headerlink" title="获取元素的样式"></a>获取元素的样式</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> box1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> btn01=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn01&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            btn01.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//读取box1的宽度</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//alert(box1.style.width);</span></span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 获取元素的当前显示的样式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 语法：</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     元素.currentStyle.样式名</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 它可以用来读取当前元素正在显示的样式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 如果当前元素没有设置该样式，则获取它的默认值</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// currentStyle只有IE浏览器支持，其它都不支持</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(box1.currentStyle.width);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//getComputedStyle()这个方法来获取当前样式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//这个方法是window的方法，可以直接使用</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//需要两个参数</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//  第一个：要获取样式的元素</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//  第二个：可以传递一个伪元素，一般都传null</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//该方法会返回一个对象，对象中封装了当前元素的样式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//可以通过对象，样式名来读取样式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//如果获取的样式没有设置，则会获取到真实的值而不是默认值</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//比如：没有设置width，他不会获取到auto，而是一个长度</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//不支持IE8及以下浏览器</span></span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//通过getComputedStyle()和currentStyle读到的样式都是只读的，不能修改，如果要修改必须通过style属性</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> obj=<span class="title function_">getComputedStyle</span>(box1,<span class="literal">null</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="title function_">getComputedStyle</span>(box1,<span class="literal">null</span>).<span class="property">backgroundColor</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="title function_">getstyle</span>(box1,<span class="string">&quot;backgroundColor&quot;</span>));</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//定义一个函数，用来获取指定元素的当前样式</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//参数：</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//    obj 获取样式的元素</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//    name 要获取的样式名</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">getStyle</span>(<span class="params">obj,name</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//return getComputedStyle(obj,null)[name];</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(<span class="variable language_">window</span>.<span class="property">getComputedStyle</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//正常浏览器具有getComputedStyle方式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="title function_">getComputedStyle</span>(obj,<span class="literal">null</span>)[name];</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//IE8方式没有getComputedStyle方式</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> obj.<span class="property">currentStyle</span>[name];</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//return window.getComputedStyle?etComputedStyle(obj,null)[name]:obj.currentStyle[name];</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn01&quot;</span>&gt;</span>点我一下<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="其它样式的相关属性"><a href="#其它样式的相关属性" class="headerlink" title="其它样式的相关属性"></a>其它样式的相关属性</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> solid yellow;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#bfa</span>;</span></span><br><span class="line"><span class="language-css">            </span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box4</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#bfa</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box5</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">450px</span>; </span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> box1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> btn01=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn01&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            btn01.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//clientWidth</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//clientHeight</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//-这两个属性可以获取元素的可见宽度和高度</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//-这些属性都是不带px的，返回的都是一个数字，可以直接计算</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//-会获取元素的宽度和高度，包括内容区和内边距，不包括外边框</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//-这些属性都是只读的，不能修改</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//alert(box1.clientWidth);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//alert(box1.clientHeight);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// offsetWidth</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// offsetHeigth</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// -获取元素的整个宽度和高度，包括内容区，内边距和外边框</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//alert(box1.offsetHeight);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//offsetParent</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//-可以用来获取当前元素的定位父元素</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//-会获取到离当前元素最近的开启了定位的祖先元素</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//-如果所有的祖先元素都没有开启定位，那么返回body</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//var op=box1.offsetParent;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//alert(op);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// offsetLeft</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// -当前元素相对于其定位父元素的水平偏移量</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// offsetTop</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// -当前元素相对于其定位父元素的垂直偏移量</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(box1.offsetLeft);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// scrollWidth</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// scrollHeight</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// -可以获取元素整个滚动区域的宽度和高度</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(box4.scrollWidth);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(box4.scrollHeight);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// scrollLeft</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// -可以获取水平滚动条滚动的距离</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// scrollTop</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// -可以获取垂直滚动条滚动的距离</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(box4.scrollLeft);</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(box4.scrollTop);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 当满足scrollHeight-scrollTop==clientHeight</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 说明垂直滚动条滚动到底了</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 当满足scrollWidth-scrollLeft==clientWidth</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 说明水平滚动条滚动到底了</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(box4.scrollWidth-box4.scrollLeft==box4.clientWidth);</span></span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn01&quot;</span>&gt;</span>点我一下<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box4&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box5&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box2&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="滚动条练习"><a href="#滚动条练习" class="headerlink" title="滚动条练习"></a>滚动条练习</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230415195603036.png" alt="image-20230415195603036"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230415195454876.png" alt="image-20230415195454876"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230415195618479.png" alt="image-20230415195618479"></p><h5 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#areaDiv</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#showMsg</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 当鼠标在areaDiv中移动时，在showMsg中显示鼠标的坐标</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//获取两个div</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> areaDiv=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;areaDiv&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> showMsg=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;showMsg&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//onmousemove</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//-该事件将会在鼠标在元素中移动时被触发</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//事件对象</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//-当事件的响应函数被触发时,浏览器每次都会将一个事件对象作为实参传递进响应函数</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//-在事件对象中封装了当前事件相关的一切信息,比如,鼠标的坐标</span></span></span><br><span class="line"><span class="language-javascript">            areaDiv.<span class="property">onmousemove</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//在IE8中,响应函数被触发时,浏览器不会传递事件对象</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//在IE8及一下浏览器中,是将事件对象作为window对象的属性保存的</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// var x=window.event.clientX;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// var y=window.event.clientY;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//但火狐不兼容</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//所以做个判断</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// if(!event)&#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     event=window.event;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//解决事件对象的兼容性问题</span></span></span><br><span class="line"><span class="language-javascript">                event = event || <span class="variable language_">window</span>.<span class="property">event</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 在showMsg中显示鼠标的坐标 键盘那个按键被按下 鼠标滚轮滚动的方向</span></span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// clientX可以获取鼠标指针的水平坐标</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// clientY可以获取鼠标指针的垂直坐标</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> x=event.<span class="property">clientX</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> y=event.<span class="property">clientY</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(&quot;x=&quot;+x+&quot;,y=&quot;+y);</span></span></span><br><span class="line"><span class="language-javascript">                showMsg.<span class="property">innerHTML</span>=<span class="string">&quot;x=&quot;</span>+x+<span class="string">&quot;,y=&quot;</span>+y;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;areaDiv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;showMsg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="div跟随鼠标移动"><a href="#div跟随鼠标移动" class="headerlink" title="div跟随鼠标移动"></a>div跟随鼠标移动</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 开启box1的绝对定位 */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> box1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="property">onmousemove</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                event=event||<span class="variable language_">window</span>.<span class="property">event</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 获取滚动条滚动的距离</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// chrome认为浏览器的滚动条是body的,可以通过body.scrollTop来获取</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 火狐等浏览器认为滚动条是html的</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// var st=document.body.scrollTop;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// var st=document.documentElement.scrollTop;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> st=<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>||<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> sl=<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollLeft</span>||<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollLeft</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//clientX和clientY获取的是可见窗口的坐标</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//div是相对于整个页面的</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> left=event.<span class="property">clientX</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> top=event.<span class="property">clientY</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//pageX和pageY获取的是相对于向前页面的坐标</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//但是ie8不支持pageX和pageY</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// var left=event.pageX;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// var top=event.pageY;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 设置div的偏移量</span></span></span><br><span class="line"><span class="language-javascript">                box1.<span class="property">style</span>.<span class="property">left</span>=left+sl+<span class="string">&quot;px&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                box1.<span class="property">style</span>.<span class="property">top</span>=top+st+<span class="string">&quot;px&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">&quot;height: 10000px;width: 2000px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="时间的冒泡"><a href="#时间的冒泡" class="headerlink" title="时间的冒泡"></a>时间的冒泡</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#bfa</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#s1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//时间的冒泡(Bubble)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//所谓的冒泡指的就是事件的向上传导,当后代元素上的事件被触发时,其祖先元素的相同事件也会被触发</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//如果不希望发生事件冒泡,可以通过事件对象开取消冒泡</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//为s1绑定一个单机响应函数</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> s1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;s1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            s1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                event=event||<span class="variable language_">window</span>.<span class="property">event</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;我是span单机响应函数&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//取消冒泡</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//可以将事件对象的cancelBubble设置成true,即可取消冒泡</span></span></span><br><span class="line"><span class="language-javascript">                event.<span class="property">cancelBubble</span>=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> box1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            box1.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                event=event||<span class="variable language_">window</span>.<span class="property">event</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;我是div单机响应函数&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                event.<span class="property">cancelBubble</span>=<span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;我是body单机响应函数&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">        我是box1</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;s1&quot;</span>&gt;</span>我是一个span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="事件的委派"><a href="#事件的委派" class="headerlink" title="事件的委派"></a>事件的委派</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//点击按钮后添加超链接</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> btn01=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn01&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            btn01.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//创建一个li</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> li=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;li&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                li.<span class="property">innerHTML</span>=<span class="string">&quot;&lt;li&gt;&lt;a href=&#x27;javascript: ;&#x27; class=&#x27;link&#x27;&gt;超链接&lt;/a&gt;&lt;/li&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//将超链接添加到ul中</span></span></span><br><span class="line"><span class="language-javascript">                ul.<span class="title function_">appendChild</span>(li);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 我为每个超链接绑定一个单机响应函数，比较麻烦，</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//并且这种方法只能为已有的超链接绑定事件，新添加的并不能添加</span></span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// var allA=document.getElementsByTagName(&quot;a&quot;);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// // 遍历</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// for(var i=0;i&lt;allA.length;i++)&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     allA[i].onclick=function()&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         alert(&quot;我是a&quot;);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 我们希望只绑定一次事件就可以应用到多个元素上，即使是后添加的</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//我们可以尝试将其绑定给元素的共同的的祖先元素</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 事件的委派</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// -指将事件统一绑定给元素的共同的祖先元素，这样当后代元素上的事件被触发时，会一直冒泡到祖先元素</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 从而通过祖先元素的响应函数来处理事件</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// -事件委派是利用了冒泡，通过委派可以减少事件绑定的次数，提高程序的性能</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//为ul绑定单机响应函数</span></span></span><br><span class="line"><span class="language-javascript">            ul.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//如果触发的事件是所期望的元素则执行，否则不执行</span></span></span><br><span class="line"><span class="language-javascript">                event=event||<span class="variable language_">window</span>.<span class="property">event</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// target</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// -event中的target表示的是触发事件的对象</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(event.target);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(event.<span class="property">target</span>.<span class="property">className</span>==<span class="string">&quot;link&quot;</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="string">&quot;我是ul&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn01&quot;</span>&gt;</span>添加超连接<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;ul&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-color: #bfa;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript: ;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;link&quot;</span>&gt;</span>超链接一<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript: ;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;link&quot;</span>&gt;</span>超链接二<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript: ;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;link&quot;</span>&gt;</span>超链接三<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="事件的绑定"><a href="#事件的绑定" class="headerlink" title="事件的绑定"></a>事件的绑定</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//点击按钮以后弹出一个内容</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> btn01=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn01&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// btn01.onclick=function()&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     alert(1);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//为btn01绑定第二个单机响应函数</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// btn01.onclick=function()&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     alert(2);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 使用对象.事件=函数 的形式绑定响应函数</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 它只能同时为一个元素的一个事件绑定一个响应函数</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//不能绑定多个，若是绑定多个后面的会覆盖掉前面的</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//addEventListenter()</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//-通过这个方法也可以为元素绑定单机响应函数</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//-参数：</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//      1.事件的字符串，不要on</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//      2.回调函数，当事件触发时该函数会被调用</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//      3.是否在捕获阶段触发事件，需要一个布尔值，一般都传false</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//使用addEventListener()可以同时为一个元素的相同事件同时绑定多个响应函数，</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//这样当事件被触发时，响应函数将会按照函数的绑定顺序执行</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//IE8及以下不支持</span></span></span><br><span class="line"><span class="language-javascript">            btn01.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;,<span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// btn01.addEventListener(&quot;click&quot;,function()&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     alert(3);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;,true)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// btn01.addEventListener(&quot;click&quot;,function()&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     alert(4);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;,true)</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//attachEvent()</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 在IE8中可以使用attachEvent()来绑定事件</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//参数：</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 1.事件的字符串，要on</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 2.回调函数</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 可以同时为一个元素的相同事件同时绑定多个响应函数</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 不同的是它是后绑定先执行，执行顺序和addEventListener()相反 </span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//只支持IE8及以下</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// btn01.attachEvent(&quot;onclick&quot;,function()&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     alert(5);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">bind</span>(btn01,<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">bind</span>(btn01,<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//定义一个函数，用来为指定元素绑定响应函数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//addEventListener()中的this，是绑定事件的对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//attachEvent()中的this，是window</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//需要统一两个方法的this</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//参数：</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//  obj 要绑定事件的对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//  eventStr 事件的字符串（不要on）</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//  callback 回调函数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">bind</span>(<span class="params">obj,eventStr,callback</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(obj.<span class="property">addEventListener</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">               <span class="comment">//大部分浏览器兼容的方式</span></span></span><br><span class="line"><span class="language-javascript">            obj.<span class="title function_">addEventListener</span>(eventStr,callback,<span class="literal">false</span>); </span></span><br><span class="line"><span class="language-javascript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//this是谁由调用方式决定</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//callback.call(obj)</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//IE8及一下</span></span></span><br><span class="line"><span class="language-javascript">            obj.<span class="title function_">attachEvent</span>(<span class="string">&quot;on&quot;</span>+eventStr,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                callback.<span class="title function_">call</span>(obj);</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn01&quot;</span>&gt;</span>点我一下<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="事件的传播"><a href="#事件的传播" class="headerlink" title="事件的传播"></a>事件的传播</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230425164332103.png" alt="image-20230425164332103"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230425164358702.png" alt="image-20230425164358702"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellowgreen;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box3</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> box1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> box2=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box2&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> box3=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box3&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">bind</span>(box1,<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;我是box1的传播函数&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">bind</span>(box2,<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;我是box2的传播函数&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">bind</span>(box3,<span class="string">&quot;click&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">alert</span>(<span class="string">&quot;我是box3的传播函数&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">bind</span>(<span class="params">obj,eventStr,callback</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(obj.<span class="property">addEventListener</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">               <span class="comment">//大部分浏览器兼容的方式</span></span></span><br><span class="line"><span class="language-javascript">            obj.<span class="title function_">addEventListener</span>(eventStr,callback,<span class="literal">false</span>); </span></span><br><span class="line"><span class="language-javascript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//this是谁由调用方式决定</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//callback.call(obj)</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//IE8及一下</span></span></span><br><span class="line"><span class="language-javascript">            obj.<span class="title function_">attachEvent</span>(<span class="string">&quot;on&quot;</span>+eventStr,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                callback.<span class="title function_">call</span>(obj);</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box2&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box3&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="拖拽练习"><a href="#拖拽练习" class="headerlink" title="拖拽练习"></a>拖拽练习</h5><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230425194038322.png" alt="image-20230425194038322"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box2</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            拖拽box1元素</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            -拖拽的流程</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                1.当鼠标在被拖拽元素上按下时，开始拖拽 onmousedown</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                2.当鼠标移动时被拖拽元素跟随鼠标移动 onmousemove</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                3.当鼠标松开时，被拖拽元素固定在当前位置 onmouseup</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            */</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//获取box1</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> box1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> box2=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box2&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> img1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;img1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//开启box1的拖拽</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">drag</span>(box1);</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">drag</span>(box2);</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">drag</span>(img1);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        提取一个专门用来设置拖拽的函数</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        参数：开启拖拽的元素</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        */</span></span></span><br><span class="line"><span class="language-javascript">       <span class="keyword">function</span> <span class="title function_">drag</span>(<span class="params">obj</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//为box1绑定一个鼠标按下事件</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 当鼠标在被拖拽元素上按下时，开始拖拽 onmousedown</span></span></span><br><span class="line"><span class="language-javascript">            obj.<span class="property">onmousedown</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 设置obj捕获所有鼠标按下的事件</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// if(obj.setCapture())&#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     obj.setCapture();</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//obj.setCapture()&amp;&amp;obj.setCapture();</span></span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                event=event||<span class="variable language_">window</span>.<span class="property">event</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// div的偏移量 鼠标.clientX-元素.offsetLeft</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// div的偏移量 鼠标.clientY-元素.offsetTop</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> ol=event.<span class="property">clientX</span>-obj.<span class="property">offsetLeft</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">var</span> ot=event.<span class="property">clientY</span>-obj.<span class="property">offsetTop</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//为document绑定一个onmousemove事件</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="property">onmousemove</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    event=event||<span class="variable language_">window</span>.<span class="property">event</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 当鼠标移动时被拖拽元素跟随鼠标移动 onmousemove</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> left=event.<span class="property">clientX</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> top=event.<span class="property">clientY</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 修改box1的位置</span></span></span><br><span class="line"><span class="language-javascript">                    obj.<span class="property">style</span>.<span class="property">left</span>=left-ol+<span class="string">&quot;px&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                    obj.<span class="property">style</span>.<span class="property">top</span>=top-ot+<span class="string">&quot;px&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//为元素绑定一个鼠标松开事件</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="property">onmouseup</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// 当鼠标松开时，被拖拽元素固定在当前位置 onmouseup</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//取消document的onmousemove事件</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="property">onmousemove</span>=<span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//取消document的onmouseup事件</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">document</span>.<span class="property">onmouseup</span>=<span class="literal">null</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// alert(&quot;取消了&quot;);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//当鼠标松开时，取消对事件的捕获</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//obj.releaseCapture()&amp;&amp;obj.releaseCapture();;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                当我们拖拽一个网页中的内容时，浏览器会默认去搜索引擎中搜索内容，此时会导致拖拽功能的异常，这个是浏览器提供的默认行为，</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                如果不希望发生这个行为，则可以通过return false来取消默认行为</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                但此方法在IE8中不起作用</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                */</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="literal">false</span>; </span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span></span><br><span class="line"><span class="language-javascript">       &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    我是一段文字</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">id</span>=<span class="string">&quot;img1&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: absolute;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="鼠标滚轮事件"><a href="#鼠标滚轮事件" class="headerlink" title="鼠标滚轮事件"></a>鼠标滚轮事件</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-id">#box1</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            当滚轮向下滚的时候，box1变长</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            当滚轮向上滚的时候，box1变短</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            */</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> box1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;box1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 为box1绑定一个鼠标滚轮滚动事件</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//onmousewheel鼠标滚轮滚动事件，会在滚轮滚动时触发</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//但是火狐不支持该属性</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//在火狐中需要使用DOMMouseScroll()来绑定滚动事件</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//注意该事件需要用addEventLister()函数来绑定</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">/* function fun()&#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                alert(&quot;滚了&quot;);</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            &#125;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            box1.onmousewheel=fun;</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            bind(box1,&quot;DOMMouseScroll&quot;,fun) */</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            box1.<span class="property">onmousewheel</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                event=event||<span class="variable language_">window</span>.<span class="property">event</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//判断鼠标滚轮滚动方向</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// event.wheelDelta可以获取鼠标滚轮滚动的方向</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//向上滚180向下滚-180，这个值不看大小只看正负，正值向上，负值向下</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(event.wheelDelta);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// wheelDelta火狐不支持</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//在火狐中使用event.detail</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 向上滚-3向下滚3，这个值不看大小只看正负，正值向下，负值向上</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(event.detail);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//判断鼠标滚轮滚动的方向</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(event.<span class="property">wheelDelta</span>&gt;<span class="number">0</span>||event.<span class="property">detail</span>&lt;<span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//向上滚box1变短</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// alert(&quot;向上滚&quot;);</span></span></span><br><span class="line"><span class="language-javascript">                    box1.<span class="property">style</span>.<span class="property">height</span>=box1.<span class="property">clientHeight</span>-<span class="number">10</span>+<span class="string">&quot;px&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//向下滚box1变长</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//alert(&quot;向下滚&quot;);</span></span></span><br><span class="line"><span class="language-javascript">                    box1.<span class="property">style</span>.<span class="property">height</span>=box1.<span class="property">clientHeight</span>+<span class="number">10</span>+<span class="string">&quot;px&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                当滚轮滚动时，如果浏览器有轮动条，滚动条会随之滚动</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                这是浏览器的默认行为，如果不希望有这种行为则可以用return false取消</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                */</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                使用addEventLister()方法绑定的函数，取消默认行为不能使用return false</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                需要使用event来取消默认行为</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                */</span></span></span><br><span class="line"><span class="language-javascript">               event.<span class="title function_">preventDefault</span>()&amp;&amp;event.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">               <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//为火狐绑定滚轮事件</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">bind</span>(box1,<span class="string">&quot;DOMMouseScroll&quot;</span>,box1.<span class="property">onmousewheel</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">bind</span>(<span class="params">obj,eventStr,callback</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(obj.<span class="property">addEventListener</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">               <span class="comment">//大部分浏览器兼容的方式</span></span></span><br><span class="line"><span class="language-javascript">            obj.<span class="title function_">addEventListener</span>(eventStr,callback,<span class="literal">false</span>); </span></span><br><span class="line"><span class="language-javascript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//this是谁由调用方式决定</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//callback.call(obj)</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//IE8及一下</span></span></span><br><span class="line"><span class="language-javascript">            obj.<span class="title function_">attachEvent</span>(<span class="string">&quot;on&quot;</span>+eventStr,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                callback.<span class="title function_">call</span>(obj);</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">&quot;height: 2000px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            键盘事件</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                onkeydown</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    -按键被按下</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    -对于onkeydown来说，如果一直按着一个按键不松手，那么事件会一直触发</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    -当onkeydown连续触发时，第一次和第二次会卡稍微长一些，</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                        后面的会连续触发，是为了防止误操作的发生</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                onkeyup</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    -按键被松开</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                键盘事件一般都会绑给一些可以获得焦点的对象或者是document</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            */</span></span></span><br><span class="line"><span class="language-javascript">           <span class="variable language_">document</span>.<span class="property">onkeydown</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            event=event||<span class="variable language_">window</span>.<span class="property">event</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            通过keyCode来获取按键的编码</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            通过它可以判断哪个按键被按下</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            除了keyCode，事件对象中还提供了几个属性</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            altkey</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            ctrkey</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            shiftkey</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                -这三个用来判断alt,ctrl,shift是否被按下</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                如果被按下则返回true，否则返回false</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            */</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//判断y键是否被按下</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(event.<span class="property">keyCode</span>==<span class="number">89</span>&amp;&amp;event.<span class="property">ctrlKey</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;y键和ctrl键被按下了&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">           &#125;</span></span><br><span class="line"><span class="language-javascript">           <span class="variable language_">document</span>.<span class="property">onkeyup</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;按键松开了&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">           &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">           <span class="comment">//获取input</span></span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">var</span> input=<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;input&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">           input.<span class="property">onkeydown</span>=<span class="keyword">function</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//console.log(&quot;按键被按下&quot;);</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//数字48-57</span></span></span><br><span class="line"><span class="language-javascript">            event=event||<span class="variable language_">window</span>.<span class="property">event</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//使文本框中不能输入数字</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(event.<span class="property">keyCode</span>&gt;=<span class="number">48</span>&amp;&amp;event.<span class="property">keyCode</span>&lt;=<span class="number">57</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">keyCode</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//在文本框中输入内容，属于onkeydown的默认行为</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//如果在onkeydown中取消了默认行为，则输入的内容不会出现在文本框中</span></span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">           &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box1&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 100px; width: 100px; background-color: red;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="BOM对象"><a href="#BOM对象" class="headerlink" title="BOM对象"></a>BOM对象</h5><p>BOM</p><p>-浏览器对象模型</p><p>-BOM可以使我们通过JS来操作浏览器</p><p>-在BOM中为我们提供了一组对象，用来完成对浏览器的操作</p><p>BOM对象：</p><p>​Window ：代表的是整个浏览器窗口，同时也是网页中的全局对象</p><p>​Navigator：代表的是当前浏览器的信息，通过该对象可以来识别不同的浏览器</p><p>​Location：代表的是当前浏览器的地址栏信息，通过Location可以获取地址栏信息，或者操作浏览器跳转页面</p><p>​History：代表浏览器的历史记录，可以通过该对象来操作浏览器的历史记录，由于隐私的原因，该对象不能获取到具体的历史纪录，只能操作浏览器向前或向后翻页，而且此操作只能在当次访问有效</p><p>​Screen：代表用户的屏幕的信息，通过该对象可以获取到用户的显示器的相关信息</p><h6 id="Navigator"><a href="#Navigator" class="headerlink" title="Navigator"></a>Navigator</h6><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230506200601974.png" alt="image-20230506200601974"></p><p><img src="/2023/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/10/22/js%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%82%B9/image-20230506200631606.png" alt="image-20230506200631606"></p><p>判断浏览器：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// alert(navigator.appName);</span></span></span><br><span class="line"><span class="language-javascript">         <span class="title function_">alert</span>(navigator.<span class="property">userAgent</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> ua=navigator.<span class="property">userAgent</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span>(<span class="regexp">/firefox/i</span>.<span class="title function_">test</span>(ua))&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;我是火狐&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="regexp">/chrome/i</span>.<span class="title function_">test</span>(ua))&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;我是谷歌&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="regexp">/msie/i</span>.<span class="title function_">test</span>(ua))&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;我是IE&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;ActiveXObject&quot;</span> <span class="keyword">in</span> <span class="variable language_">window</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="string">&quot;我是IE&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 如果通过usrtAgent不能判断，还可以通过一些浏览器中特有的对象，来判断浏览器的信息</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 比如，ActiveXObject</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// alert(window.ActiveXObject);</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// if(&quot;ActiveXObject&quot; in window)&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     alert(&quot;你是IE&quot;);</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;else&#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//     alert(&quot;你不是IE&quot;);</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="History"><a href="#History" class="headerlink" title="History"></a>History</h6><p>History</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// History</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// -对象可以用来操作浏览器向前向后翻页</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// length</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// -属性：可以访问到当前访问的连接数量</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// alert(history.length);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> btn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            btn.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// back()</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 可以回退到上一个页面，作用和浏览器的回退按钮一样</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//history.back();</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// forward()</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 可以跳转下一个页面，作用和浏览器的前进按钮一样</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// history.forward();</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// go()</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 可以用来跳转到指定的页面</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 他需要一个整数作为参数</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 1 表示向前跳转一个页面，相当于forward()</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 2 表示向前跳转两个页面</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// -1 表示向后跳转一个页面，相当于back()</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// -2 表示向后跳转两个页面</span></span></span><br><span class="line"><span class="language-javascript">                history.<span class="title function_">go</span>(-<span class="number">2</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>history<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>点我一下<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;Navigator.html&quot;</span>&gt;</span>去Navigator页面<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>test01</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>TEST01<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;test02.html&quot;</span>&gt;</span>去test02<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>test02</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>TEST02<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;History.html&quot;</span>&gt;</span>去history<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h6 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// Location</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// -该对象中封装了浏览器的地址栏的信息</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> btn=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;btn&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            btn.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 如果直接打印location，则可以获取到当前页面地址栏的完整路径</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// alert(location);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 如果直接将location属性修改为一个完整的路径或相对路径</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 则页面会自动跳转到该路径，并且会生成相应的历史记录</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// location=&quot;http://www.baidu.com&quot;;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// location=&quot;History.html&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// assign()</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// -用来跳转到其他的页面，作用和直接修改location一样</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// location.assign(&quot;http://www.baidu.com&quot;);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// reload()</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// -用于重新加载当前页面，作用和刷新按钮一样</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//如果在方法中传递一个true作为参数，则会强制刷新页面</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// location.reload(true);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// replace()</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 可以使用一个新的页面替换当前页面，调用完毕也会跳转页面</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 不会生成历史记录，不能使用回退按钮回退</span></span></span><br><span class="line"><span class="language-javascript">                location.<span class="title function_">replace</span>(<span class="string">&quot;History.html&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>点我一下<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>css简介</title>
      <link href="/2023/10/22/css%E7%AE%80%E4%BB%8B/"/>
      <url>/2023/10/22/css%E7%AE%80%E4%BB%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="CSS层叠样式表"><a href="#CSS层叠样式表" class="headerlink" title="CSS层叠样式表"></a>CSS层叠样式表</h1><h2 id="1-CSS简介"><a href="#1-CSS简介" class="headerlink" title="1.CSS简介"></a>1.CSS简介</h2><h3 id="1-1CSS-网页的-美容师"><a href="#1-1CSS-网页的-美容师" class="headerlink" title="1.1CSS-网页的 美容师"></a>1.1CSS-网页的 美容师</h3><ol><li><p>HTML只关注内容的语义是做结构的呈现，而CSS就是用来美化网页样式的，即<strong>结构（HTML）与样式（CSS）</strong>分离</p></li><li><p>CSS是层叠样式表的简称，有时我们也会称之为CSS样式表或级联样式表</p></li><li><p>CSS也是一种标记语言</p></li><li><p>CSS主要用于设置HTML页面中的文本内容（字体，大小，对齐方式等），图片的外形（宽高，边框样式，边距等）以及版面的布局和外观显示样式</p></li></ol><h3 id="1-2CSS语法规范"><a href="#1-2CSS语法规范" class="headerlink" title="1.2CSS语法规范"></a>1.2CSS语法规范</h3><p>CSS规则有两个主要的部分组成：<strong>选择器以及一条或多条声明</strong></p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221015162152015.png" alt="image-20221015162152015"></p><ul><li><strong>选择器</strong>是用于指定CSS样式的<strong>HTML标签</strong>，花括号内是对该对象设置的具体样式</li><li>属性和属性值以“键值对”的形式出现</li><li>属性是对指定的对象设置的样式属性，例如字体大小，文本颜色等</li><li>属性和属性值之间用英文的”;”分开</li></ul><h3 id="1-3CSS代码风格"><a href="#1-3CSS代码风格" class="headerlink" title="1.3CSS代码风格"></a>1.3CSS代码风格</h3><ol><li><p>样式格式书写</p><p>展开格式</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: deeppink;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>样式大小</p><p>推荐样式选择器，属性名，属性值关键字全部使用<strong>小写字母</strong>，特殊情况除外</p></li><li><p>空格规范</p><ul><li>属性值前面，冒号后面，保留一个空格</li><li>选择器（标签）和大括号中间保留一个空格</li></ul></li></ol><h2 id="2-CSS选择器"><a href="#2-CSS选择器" class="headerlink" title="2.CSS选择器"></a>2.CSS选择器</h2><h3 id="2-1CSS选择器的作用"><a href="#2-1CSS选择器的作用" class="headerlink" title="2.1CSS选择器的作用"></a>2.1CSS选择器的作用</h3><p>选择器（选择符）就是根据不同需求把不同的标签选择出来，这就是选择器的作用，简单来说就是<strong>选择标签用的</strong></p><h3 id="2-2选择器分类"><a href="#2-2选择器分类" class="headerlink" title="2.2选择器分类"></a>2.2选择器分类</h3><p><strong>选择器</strong>分为<strong>基础选择器</strong>和<strong>复合选择器</strong>两个大类</p><ul><li>基础选择器是由<strong>单个选择器</strong>组成的</li><li>基础选择器又包括：<strong>标签选择器</strong>，<strong>类选择器</strong>和<strong>通配符选择器</strong></li></ul><h3 id="2-3标签选择器"><a href="#2-3标签选择器" class="headerlink" title="2.3标签选择器"></a>2.3标签选择器</h3><p><strong>标签选择器</strong>（元素选择器）是指用HTML标签名称作为选择器，按标签名称分类，为页面中某一类标签指定统一的css样式</p><p>语法：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">标签名 &#123;</span><br><span class="line">    属性<span class="number">1</span>： 属性值<span class="number">1</span>；</span><br><span class="line">    属性<span class="number">2</span>： 属性值<span class="number">2</span>；</span><br><span class="line">    属性<span class="number">3</span>： 属性值<span class="number">3</span>；</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>作用：</p><p>标签选择器可以把某一类标签全部选择出来，比如所有的<code>&lt;div&gt;</code>标签和所有的<code>&lt;span&gt;</code></p><p>优点：</p><p>能快速为页面中的同类型的标签统一设置样式</p><p>缺点：</p><p>不能设计差异化样式，只能选择全部的当前标签</p><h3 id="2-4类选择器"><a href="#2-4类选择器" class="headerlink" title="2.4类选择器"></a>2.4类选择器</h3><p><strong>口诀：样式点定义，结构类class调用，一个或多个，开发最常用</strong></p><p>可以单独选择其中的一个或某几个标签，可以选择类选择器</p><p>语法：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.类名 &#123;</span><br><span class="line">    属性<span class="number">1</span>： 属性值<span class="number">1</span>；</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>例如：将所有拥有red类的HTML标签元素均为红色</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.red</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结构需要用class属性来调用class类的意思</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&#x27;red&#x27;&gt;变红色&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure><p>注意：</p><ul><li><p>类选择器使用”.”（英文点号）进行标识，后面紧跟类名（自定义，我们自己命名的）</p></li><li><p>不能用标签名命名</p></li><li><p>长名称或词组可以使用中横线（-）来分割</p></li><li><p>尽量不用纯数字，或中文来命名，尽量用英文，并且要有意义，可以让人识别</p></li><li><p>类命名规范：</p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221015201835617.png" alt="image-20221015201835617"></p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221015201905143.png" alt="image-20221015201905143"></p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221015201931601.png" alt="image-20221015201931601"></p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221015201949921.png" alt="image-20221015201949921"></p></li></ul><h3 id="2-5类选择器-多类名"><a href="#2-5类选择器-多类名" class="headerlink" title="2.5类选择器-多类名"></a>2.5类选择器-多类名</h3><p>多类名使用方法</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;red font20&quot;&gt;亚瑟&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure><ol><li>在标签中class属性中写多个类名</li><li>多个类名中间必须用空格隔开</li><li>这些类名分别具有这两种样式</li></ol><h3 id="2-6id选择器"><a href="#2-6id选择器" class="headerlink" title="2.6id选择器"></a>2.6id选择器</h3><p>口诀：<strong>样式#定义，结构id调用，只能调用一次，别人切勿使用</strong></p><p>id选择器可以为标有特定id的HTML元素指定特定的样式</p><p>HTML元素以id属性来设置id选择器，css中id选择器以”#”来定义</p><p>语法</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#id</span> &#123;</span><br><span class="line">    属性<span class="number">1</span>: 属性值;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>例如：将id为pink元素中的内容设置为粉红色</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#pink</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>调用：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;pink&quot;</span>&gt;</span>迈克尔逊<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-7通配符选择器"><a href="#2-7通配符选择器" class="headerlink" title="2.7通配符选择器"></a>2.7通配符选择器</h3><p>在css中，通配符选择器使用”*”定义，它表示选取页面中所有元素（标签）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    属性<span class="number">1</span>: 属性值;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>通配符选择器不需要调用，自动就给所有的元素使用样式</p></li><li><p>特殊情况才使用，后面讲解使用场景（以下是清楚所有元素标签的内外边距）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="2-8基础选择器总结"><a href="#2-8基础选择器总结" class="headerlink" title="2.8基础选择器总结"></a>2.8基础选择器总结</h3><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221015210026239.png" alt="image-20221015210026239"></p><h2 id="3-CSS字体属性"><a href="#3-CSS字体属性" class="headerlink" title="3.CSS字体属性"></a>3.CSS字体属性</h2><p>CSS Fonts（字体）属性用于定义<strong>字体系列</strong>，大小，粗细和文字样式（如斜体）</p><h3 id="3-1字体系列"><a href="#3-1字体系列" class="headerlink" title="3.1字体系列"></a>3.1字体系列</h3><p>CSS使用font-family属性定义文本的字体系列</p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/image-20221015211055139.png" alt="image-20221015211055139" style="zoom:150%;"><ul><li><p>各种字体之间用英文状态下的逗号隔开</p></li><li><p>一般有多个空格隔开的多个单词组成的字体，加引号</p></li><li><p>常见字体：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;<span class="attribute">font-family</span>: Arial,Microsoft YaHei,tahoma,Hiragino Sans GB;&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-2字体大小"><a href="#3-2字体大小" class="headerlink" title="3.2字体大小"></a>3.2字体大小</h3><p>css使用font-size属性定义字体大小</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>px(像素)大小是我们网页的最常用单位</li><li>可以给body指定整个页面文字的大小</li><li>标题标签比教特殊，需要单独指定文字大小</li></ul><h3 id="3-3字体粗细"><a href="#3-3字体粗细" class="headerlink" title="3.3字体粗细"></a>3.3字体粗细</h3><p>CSS使用<strong>font-weight</strong>属性设置文本文字的粗细</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016135330521.png" alt="image-20221016135330521"></p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016135513550.png" alt="image-20221016135513550"></p><ul><li>学会让加粗标签（比如h和strong）不加粗，或者让其他标签加粗</li><li>实际开发中，更喜欢用数字表示粗细</li></ul><h3 id="3-4文字样式"><a href="#3-4文字样式" class="headerlink" title="3.4文字样式"></a>3.4文字样式</h3><p>css使用font-style属性设置文本的风格</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016135953270.png" alt="image-20221016135953270"></p><p>注意：平时我们很少给文字加斜体，反而要给斜体标签（em，i）改为不倾斜字体</p><h3 id="3-5字体的复合属性"><a href="#3-5字体的复合属性" class="headerlink" title="3.5字体的复合属性"></a>3.5字体的复合属性</h3><p>字体属性可以把以上文字样式综合来写，这样更节约代码</p><p>语法：（<strong>不能颠倒顺序</strong>）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">font</span>: font-style font-weigth font-size/line-height font-family</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>使用font属性时，必须按上面语法格式中的顺序书写，不能更换顺序，并且各个属性间以空格隔开</li><li>不需要设置的属性可以省略（取默认值），但必须保留<strong>font-size和font-family属性</strong>，否则font属性将不起作用</li></ul><h3 id="3-6字体属性总结"><a href="#3-6字体属性总结" class="headerlink" title="3.6字体属性总结"></a>3.6字体属性总结</h3><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016141621371.png" alt="image-20221016141621371"></p><h2 id="4-CSS文本属性"><a href="#4-CSS文本属性" class="headerlink" title="4.CSS文本属性"></a>4.CSS文本属性</h2><p>CSS Text（文本）属性可定义文本的<strong>外观</strong>，比如文本的颜色，对齐文本，装饰文本，文本缩进，行间距等</p><h3 id="4-1文本颜色"><a href="#4-1文本颜色" class="headerlink" title="4.1文本颜色"></a>4.1文本颜色</h3><p><strong>color</strong>属性用于定义文本颜色(<strong>十六进制</strong>最常见)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016142623260.png" alt="image-20221016142623260"></p><h3 id="4-2对齐文本"><a href="#4-2对齐文本" class="headerlink" title="4.2对齐文本"></a>4.2对齐文本</h3><p><strong>text-align</strong>属性用于设置元素内文本内容的水平对齐方式</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016143027535.png" alt="image-20221016143027535"></p><h3 id="4-3装饰文本"><a href="#4-3装饰文本" class="headerlink" title="4.3装饰文本"></a>4.3装饰文本</h3><p><strong>text-decoration</strong>属性规定添加到文本的修饰，可以给文本添加下划线，删除线，上划线等</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="comment">/*删除a的下划线*/</span></span><br><span class="line">    texe-decoration: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016143758784.png" alt="image-20221016143758784"></p><h3 id="4-4文本缩进"><a href="#4-4文本缩进" class="headerlink" title="4.4文本缩进"></a>4.4文本缩进</h3><p><strong>text-indent</strong>属性用来指定文本的第一行的缩进，通常是将<strong>段落的首行缩进</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通过设置该属性，所有元素的第一行都可以缩进一个给定长度，甚至该长度可以是负值</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">text-indent</span>: <span class="number">2em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>em是一个相对单位</strong>，就是当前元素（font-size）1个文字的大小，如果该元素没有设置大小，则会按照父元素的1个文字的大小</p><h3 id="4-5行间距"><a href="#4-5行间距" class="headerlink" title="4.5行间距"></a>4.5行间距</h3><p>line-height属性用于设置行间的距离（行高），可以控制文字行与行之间的距离</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">26px</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016145231324.png" alt="image-20221016145231324"></p><h3 id="4-6文本属性总结"><a href="#4-6文本属性总结" class="headerlink" title="4.6文本属性总结"></a>4.6文本属性总结</h3><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016150228009.png" alt="image-20221016150228009"></p><h2 id="5-CSS引入方式"><a href="#5-CSS引入方式" class="headerlink" title="5.CSS引入方式"></a>5.CSS引入方式</h2><h3 id="5-1css的三种样式表"><a href="#5-1css的三种样式表" class="headerlink" title="5.1css的三种样式表"></a>5.1css的三种样式表</h3><p>按照css样式书写的位置（或引入的方式），css样式表可以分为三大类：</p><ol><li>行内样式表（行内式）</li><li>内部样式表（嵌入式）</li><li>外部样式表（链接式）</li></ol><h3 id="5-2内部样式表（嵌入式）"><a href="#5-2内部样式表（嵌入式）" class="headerlink" title="5.2内部样式表（嵌入式）"></a>5.2内部样式表（嵌入式）</h3><p>内部样式表（内嵌样式表）是写到html页面内部，是将所有的css代码抽取出来，单独放到一个<code>&lt;style&gt;</code>标签中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: red;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>&lt;style&gt;</code>标签理论上可以放在HTML文档中的任何地方，但一般会放在文档的<code>&lt;head&gt;</code>标签中</li><li>此种方式可以方便控制当前整个页面中的元素样式设置</li><li>代码结构清晰，但并没有实现结构与样式完全分离</li></ul><h3 id="5-3行内样式表（行内式）"><a href="#5-3行内样式表（行内式）" class="headerlink" title="5.3行内样式表（行内式）"></a>5.3行内样式表（行内式）</h3><p>行内样式表（内嵌样式表）是<strong>在元素标签内部的style属性中设定css样式</strong>，适合修改简单样式</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;color: red;font-size:12px;&quot;</span>&gt;</span></span><br><span class="line">    青春不常在</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>style就是标签的属性</li><li>在双引号中间，写法要符合css规范</li><li>可以控制当前的标签设置样式</li><li>过于繁琐，没有实现结构与样式分离</li></ul><h3 id="5-4外部样式表（链接式）"><a href="#5-4外部样式表（链接式）" class="headerlink" title="5.4外部样式表（链接式）"></a>5.4外部样式表（链接式）</h3><p>样式单独写在css文件中，之后把css文件引入到HTML页面中使用</p><p>引入外部样式表分为两步：</p><ol><li>新建一个后缀名为.css的样式文件，把所有css代码都放入此文件中</li><li>在HTML页面中，使用<code>&lt;link&gt;</code>标签引入这个文件(写在<code>&lt;head&gt;</code>中)</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css文件路径&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016155804991.png" alt="image-20221016155804991"></p><ul><li>使用外部样式表设定css，通常也被称为<strong>外链式或链接引入</strong>，在开发中最常见</li></ul><h3 id="5-5CSS引入方式总结"><a href="#5-5CSS引入方式总结" class="headerlink" title="5.5CSS引入方式总结"></a>5.5CSS引入方式总结</h3><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016160040244.png" alt="image-20221016160040244"></p><h2 id="6-Emmet语法"><a href="#6-Emmet语法" class="headerlink" title="6.Emmet语法"></a>6.Emmet语法</h2><p>Emmet语法的前身是Zen coding，它使用缩写来提高html&#x2F;css的编写速度，Vscode内部已经集成该语法</p><h3 id="6-1快速生成HTML结构语法"><a href="#6-1快速生成HTML结构语法" class="headerlink" title="6.1快速生成HTML结构语法"></a>6.1快速生成HTML结构语法</h3><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221016170535553.png" alt="image-20221016170535553"></p><h2 id="7-什么是复合选择器"><a href="#7-什么是复合选择器" class="headerlink" title="7.什么是复合选择器"></a>7.什么是复合选择器</h2><h3 id="7-1什么是复合选择器"><a href="#7-1什么是复合选择器" class="headerlink" title="7.1什么是复合选择器"></a>7.1什么是复合选择器</h3><p>在css中，可以根据选择器的类型把选择器分为<strong>基础选择器和复合选择器</strong>，复合选择器是建立在基础选择器之上，对基本选择器进行组合形成的</p><ul><li>复合选择器可以更准确，更高效的选择目标元素（标签）</li><li>复合选择器由两个或多个基础选择器，通过不同的方式组合而成</li><li>常用的复合选择器包括：<strong>后代选择器，子选择器，并集选择器，伪类选择器</strong>等</li></ul><h3 id="7-2后代选择器"><a href="#7-2后代选择器" class="headerlink" title="7.2后代选择器"></a>7.2后代选择器</h3><p><strong>后代选择器又称包含选择器</strong>，可以选择父元素里面子元素，其写法就是把外层标签写在前面，内层标签写在后面，中间用<strong>空格</strong>隔开，当标签发生嵌套时，内层标签就成为外层标签的后代</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素1 元素2 &#123;样式声明&#125;</span><br></pre></td></tr></table></figure><p>上述语法表示选择<strong>元素1里面的所有元素2</strong>（后代元素）</p><p>例如：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ul li &#123;样式声明&#125;//选择ul里面的所有li标签元素</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017200753839.png" alt="image-20221017200753839"></p><h3 id="7-3子选择器"><a href="#7-3子选择器" class="headerlink" title="7.3子选择器"></a>7.3子选择器</h3><p><strong>子元素选择器（子选择器）</strong>只能选择作为某元素的最近一级子元素</p><p>语法：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素1&gt;元素2 &#123;样式声明&#125;</span><br></pre></td></tr></table></figure><p>上述语法表示选择元素1里面的所有<strong>直接后代</strong>（子元素）元素2</p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017201249356.png" alt="image-20221017201249356"></p><h3 id="7-4并集选择器"><a href="#7-4并集选择器" class="headerlink" title="7.4并集选择器"></a>7.4并集选择器</h3><p><strong>并集选择器可以选择多组标签，同时为他们定义相同的样式</strong>，通常用于集体声明</p><p><strong>并集选择器</strong>是各选择器通过<strong>英文逗号（,)连接而成</strong>，任何形式的选择器都可以作为并集选择器的一部分</p><p>语法：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">元素1，元素2 &#123; 元素声明&#125;</span><br></pre></td></tr></table></figure><p>上述语法表示选择<strong>元素1和元素2</strong></p><p>例如：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ul,div &#123;样式声明&#125;//选择ul和div标签元素</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017202431061.png" alt="image-20221017202431061"></p><h3 id="7-5伪类选择器"><a href="#7-5伪类选择器" class="headerlink" title="7.5伪类选择器"></a>7.5伪类选择器</h3><p>伪类选择器用于向某些选择器添加特殊的效果，其最大的特点是用冒号(:)表示，比如：hover，：first等</p><p>伪类选择器有很多，例如有链接伪类，结构伪类等</p><h4 id="7-5-1链接伪类选择器"><a href="#7-5-1链接伪类选择器" class="headerlink" title="7.5.1链接伪类选择器"></a>7.5.1链接伪类选择器</h4><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017204023453.png" alt="image-20221017204023453"></p><p>例如：</p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017203842881.png" alt="image-20221017203842881"></p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017204352481.png" alt="image-20221017204352481"></p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017204450934.png" alt="image-20221017204450934"></p><h4 id="7-5-2-focus伪类选择器"><a href="#7-5-2-focus伪类选择器" class="headerlink" title="7.5.2:focus伪类选择器"></a>7.5.2:focus伪类选择器</h4><p>:focus伪类选择器用于选取获得焦点的表单元格</p><p>焦点就是光标，一般情况<code>&lt;input&gt;</code>类表单元素才能获取，因此这个选择器也主要针对于表单元素来说</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line"><span class="attribute">background-color</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-6复合选择器总结"><a href="#7-6复合选择器总结" class="headerlink" title="7.6复合选择器总结"></a>7.6复合选择器总结</h3><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017205411156.png" alt="image-20221017205411156"></p><h2 id="8-CSS的元素显示模式"><a href="#8-CSS的元素显示模式" class="headerlink" title="8.CSS的元素显示模式"></a>8.CSS的元素显示模式</h2><h3 id="8-1什么是元素显示模式"><a href="#8-1什么是元素显示模式" class="headerlink" title="8.1什么是元素显示模式"></a>8.1什么是元素显示模式</h3><p>作用：网页标签非常多，在不同地方会用到不同类型的标签，元素显示模式可以<strong>更好地布局我们的网页</strong></p><p>元素显示模式就是<strong>元素（标签）以一种什么方式进行显示</strong>，比如<code>&lt;div&gt;</code>独占一行，一行可以放多多个<code>&lt;span&gt;</code></p><p>HTML元素一般分为<strong>块元素和行内元素</strong>两种类型</p><h3 id="8-2块元素"><a href="#8-2块元素" class="headerlink" title="8.2块元素"></a>8.2块元素</h3><p>常见的块元素有<code>&lt;h1&gt;</code>-<code>&lt;h6&gt;</code>,<code>&lt;p&gt;</code>,<code>&lt;div&gt;</code>,<code>&lt;ul&gt;</code>,<code>&lt;ol&gt;</code>,<code>&lt;li&gt;</code>等，其中**<code>&lt;div&gt;</code>标签是最典型的块元素**</p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017211003543.png" alt="image-20221017211003543"></p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017211231029.png" alt="image-20221017211231029"></p><h3 id="8-3行内元素"><a href="#8-3行内元素" class="headerlink" title="8.3行内元素"></a>8.3行内元素</h3><p>常见的行内元素有<code>&lt;a&gt;</code>,<code>&lt;strong&gt;</code>,<code>&lt;b&gt;</code>,<code>&lt;em&gt;</code>,<code>&lt;i&gt;</code>,<code>&lt;del&gt;</code>,<code>&lt;s&gt;</code>,<code>&lt;ins&gt;</code>,<code>&lt;u&gt;</code>,<code>&lt;span&gt;</code>等，其中，**<code>&lt;span&gt;</code>标签是最典型的行内元素<strong>，有的地方也将行内元素成为</strong>内联元素**</p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017211807609.png" alt="image-20221017211807609"></p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221017212105763.png" alt="image-20221017212105763"></p><h3 id="8-4行内块元素"><a href="#8-4行内块元素" class="headerlink" title="8.4行内块元素"></a>8.4行内块元素</h3><p>在行内元素中有几个特殊的标签**<code>&lt;img&gt;</code>,<code>&lt;input&gt;</code>,<code>&lt;td&gt;</code>,<strong>它们</strong>同时具有块元素和行内元素的特点<strong>，成为</strong>行内块元素**</p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221018204334089.png" alt="image-20221018204334089"></p><h3 id="8-5元素显示模式总结"><a href="#8-5元素显示模式总结" class="headerlink" title="8.5元素显示模式总结"></a>8.5元素显示模式总结</h3><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221018204649597.png" alt="image-20221018204649597"></p><h3 id="8-6元素显示模式转换"><a href="#8-6元素显示模式转换" class="headerlink" title="8.6元素显示模式转换"></a>8.6元素显示模式转换</h3><p>特殊情况下，我们需要元素转换模式的转换，简单理解一个模式的元素需要另外一种模式的特性，比如想要增加链接<code>&lt;a&gt;</code>的触发范围</p><ul><li><strong>转换为块元素：display:block;</strong></li><li><strong>转换成行内元素：display:inline;</strong></li><li><strong>转换成行内块元素：display:inline-block;</strong></li></ul><h3 id="8-7单行文字垂直居中"><a href="#8-7单行文字垂直居中" class="headerlink" title="8.7单行文字垂直居中"></a>8.7单行文字垂直居中</h3><p>让文字的行高等于盒子的高度</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">line-height</span>=<span class="number">40px</span>;</span><br><span class="line"><span class="attribute">height</span>=<span class="number">40px</span>;</span><br></pre></td></tr></table></figure><p>行高&gt;盒子高度：文字偏下</p><p>行高&lt;盒子高度：文字偏上</p><h2 id="9-CSS的背景"><a href="#9-CSS的背景" class="headerlink" title="9.CSS的背景"></a>9.CSS的背景</h2><p>通过css背景属性，可以给页面元素添加背景样式</p><p>背景属性可以通过设置背景颜色，背景图片，背景平铺，背景图片位置，背景图形固定等</p><h3 id="9-1背景颜色"><a href="#9-1背景颜色" class="headerlink" title="9.1背景颜色"></a>9.1背景颜色</h3><p><strong>background-color</strong>属性定义了元素的背景颜色</p><p>一般情况下元素背景颜色默认值是transparent（透明）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-color</span>: 颜色值;</span><br></pre></td></tr></table></figure><h3 id="9-2背景图片"><a href="#9-2背景图片" class="headerlink" title="9.2背景图片"></a>9.2背景图片</h3><p><strong>background-image</strong>属性描述了元素的背景图像，实际开发常见于logo或者一些装饰的小图片或者是超大的背景图片，优点是非常方便控制位置（精灵图也是一种运用场景）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>:none | <span class="built_in">url</span>(<span class="string">url</span>);</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221022134846642.png" alt="image-20221022134846642"></p><h3 id="9-3背景平铺"><a href="#9-3背景平铺" class="headerlink" title="9.3背景平铺"></a>9.3背景平铺</h3><p>如果需要在HTML页面上对背景图像进行平铺，可以使用background-repeat属性</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-repeat</span>:repeat|no-repeat|repeat-x|repeat-y;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221022135614156.png" alt="image-20221022135436539"></p><h3 id="9-4背景图片的位置"><a href="#9-4背景图片的位置" class="headerlink" title="9.4背景图片的位置"></a>9.4背景图片的位置</h3><p>利用<strong>background-position</strong>属性可以改变图片在背景中的位置</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-position</span>:x y;</span><br></pre></td></tr></table></figure><p>参数代表的意思是：x坐标和y坐标，可以使用<strong>方位名词</strong>或者<strong>精确单位</strong></p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221022140013175.png" alt="image-20221022140013175"></p><ol><li>参数是方位名词<ul><li>如果指定的两个值都是方位名词，则两个值前后顺序无关，比如left top和top left 效果一样、</li><li>如果只指定了一个方位名词，另一个值省略，则第二个值默认居中对齐</li></ul></li></ol><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221022141819108.png" alt="image-20221022141819108"></p><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221022141922606.png" alt="image-20221022141922606"></p><ol start="2"><li>参数是精确单位<ul><li>如果参数值是精确坐标，那么第一个肯定是x坐标，第二个一定是y坐标</li><li>如果只指定一个数值，那么该数值一定是x坐标，另一个默认垂直居中</li></ul></li></ol><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221022143052746.png" alt="image-20221022143052746"></p><ol start="3"><li>参数是混合单位<ul><li>如果指定的两个值是精确单位和方位名词混合使用，则第一个值是x坐标，第二个值是y坐标</li></ul></li></ol><h3 id="9-5背景图像固定（背景附着）"><a href="#9-5背景图像固定（背景附着）" class="headerlink" title="9.5背景图像固定（背景附着）"></a>9.5背景图像固定（背景附着）</h3><p><strong>background-attachment</strong>属性设置背景图像是否固定或者随着页面的其余部分滚动</p><p>background-attachment后期可以制作视差滚动的效果,背景默认是滚动的</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-attachment</span>: scroll | fixed;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221022144139767.png" alt="image-20221022144139767"></p><h3 id="9-6背景复合写法"><a href="#9-6背景复合写法" class="headerlink" title="9.6背景复合写法"></a>9.6背景复合写法</h3><p>为了简化代码，我们可以将这些属性合并简写在同一个属性background中，从而节约代码量</p><p>简写时没有特定的书写顺序，习惯性的顺序为：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>：背景颜色 背景图片地址 背景平铺 背景图像滚动 背景图片位置；</span><br></pre></td></tr></table></figure><h3 id="9-7背景颜色半透明"><a href="#9-7背景颜色半透明" class="headerlink" title="9.7背景颜色半透明"></a>9.7背景颜色半透明</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>:<span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>);</span><br></pre></td></tr></table></figure><ul><li>最后一个参数是alpha透明度，取值范围在0-1之间</li><li>习惯性把0.3省略写为.3</li></ul><h3 id="9-8背景总结"><a href="#9-8背景总结" class="headerlink" title="9.8背景总结"></a>9.8背景总结</h3><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221022145821150.png" alt="image-20221022145821150"></p><h2 id="10-综合案例"><a href="#10-综合案例" class="headerlink" title="10.综合案例"></a>10.综合案例</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>综合案例-五彩导航<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">190px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">92px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">92px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> <span class="selector-class">.bg1</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">img/img01.jpg</span>)no-repeat;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> <span class="selector-class">.bg2</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">img/img02.jpg</span>)no-repeat;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> <span class="selector-class">.bg3</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">img/img03.jpg</span>)no-repeat;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> <span class="selector-class">.bg4</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">img/img04.jpg</span>)no-repeat;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> <span class="selector-class">.bg5</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">img/img05.jpg</span>)no-repeat;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.nav</span> <span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">img/img01.jpg</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bg1&quot;</span>&gt;</span>五彩导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bg2&quot;</span>&gt;</span>五彩导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bg3&quot;</span>&gt;</span>五彩导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bg4&quot;</span>&gt;</span>五彩导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;bg5&quot;</span>&gt;</span>五彩导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/css%E7%AE%80%E4%BB%8B/10/22/css%E7%AE%80%E4%BB%8B/image-20221023175343016.png" alt="image-20221023175343016"></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
